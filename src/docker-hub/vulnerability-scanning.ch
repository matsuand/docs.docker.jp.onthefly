%This is the change file for the original Docker's Documentation file.
%This is part of Japanese translation version for Docker's Documantation.

@x
---
description: Hub Vulnerability Scanning
keywords: scanning, vulnerabilities, Hub, Snyk
title: Hub Vulnerability Scanning
---
@y
---
description: Docker Hub のぜい弱性スキャン。
keywords: scanning, vulnerabilities, Hub, Snyk
title: Docker Hub のぜい弱性スキャン
---
@z

@x
{% include upgrade-cta.html
  body="Docker Hub Vulnerability Scanning is available for users subscribed to Docker Pro, Team, or a Business subscription. Upgrade now to get automatic vulnerability scans for your images."
  header-text="This feature requires a paid Docker subscription"
  target-url="https://www.docker.com/pricing?utm_source=docker&utm_medium=webreferral&utm_campaign=docs_driven_upgrade_scan"
%}
@y
{% include upgrade-cta.html
  body="Docker Hub のぜい弱性スキャン（Vulnerability Scanning）は、Pro、Team、Business プランを購入しているユーザーが利用できます。既存のプランをアップグレードして、イメージに対する自動ぜい弱性スキャン機能を入手してください。"
  header-text="この機能を利用するには、有償の Docker サブスクリプションが必要です。"
  target-url="https://www.docker.com/pricing?utm_source=docker&utm_medium=webreferral&utm_campaign=docs_driven_upgrade_scan"
%}
@z

@x
Docker Hub Vulnerability Scanning enables you to automatically scan Docker
images for vulnerabilities using Snyk. This uses the same technology as the
[docker scan](../engine/scan/index.md) command.
@y
Docker Hub のぜい弱性スキャン（Vulnerability Scanning）とは、Synk を利用して Docker イメージのぜい弱性を自動的にスキャンする機能です。
これは [docker scan](../engine/scan/index.md) コマンドと同様の技術を利用するものです。
@z

@x
> When you enable Hub Vulnerability Scanning, you can also see whether your
> images are affected by Log4Shell (CVE-2021-44228). For more information, see
> [Scan images](#scan-images-on-docker-hub).
@y
> Hub のぜい弱性スキャンを有効にしていると、イメージが Log4Shell (CVE-2021-44228) に影響しているかどうかを確認することもできます。
> 詳しくは [スキャンイメージ](#scan-images-on-docker-hub) を参照してください。
@z

@x
When you push an image to Docker Hub after enabling vulnerability scanning, Docker Hub automatically scans the image to identify vulnerabilities in your container images. Vulnerability Scanning allows developers and development teams to review the security state of the container images and take actions to fix issues identified during the scan, resulting in more secure deployments. The scan result includes the source of the vulnerability, such as OS packages and libraries, version in which it was introduced, and a recommended fixed version (if available) to remediate the vulnerabilities discovered.
@y
ぜい弱性スキャン機能を有効にした上で Docker Hub へのイメージプッシュを行うと、Docker Hub ではイメージのスキャンが自動的に開始され、コンテナーイメージ内のぜい弱性をチェックします。
ぜい弱性スキャンを行うことで、開発者や開発チームはコンテナーイメージのセキュリティ状態をレビューできます。
そしてスキャンによって問題が検出された場合には、その対処を進めることができます。
つまり、よりセキュアな開発が実現できます。
スキャン結果には、OS パッケージやライブラリなどにおけるぜい弱性の存在場所、ぜい弱性が含まれるバージョン、（利用可能であれば）推奨する修正バージョンなどが示されます。
これを参考にして、発見されたぜい弱性を解消していきます。
@z

@x
## Scan images on Docker Hub
@y
{: #scan-images-on-docker-hub }
## Docker Hub 上でのイメージスキャン
@z

@x
> **Log4j 2 CVE-2021-44228**
>
> Docker Hub security scans triggered after **1700 UTC 13 December 2021** are
> now correctly identifying the Log4j2 CVE. Scans before this date **do not**
> currently reflect the status of this vulnerability. Therefore, we recommend
> that you trigger scans by pushing the image to Docker Hub to view the status
> of Log4j2 CVE in the vulnerability report.
{: .important}
@y
> **Log4j 2 CVE-2021-44228**
>
> **2021-12-13 17:00 UTC** 以降に実施された Docker Hub のセキュリティスキャンは、Log4j2 CVE を適切に認識します。
> 逆にこの日付よりも前の場合、今のところぜい弱状態は反映されません。
> したがってぜい弱性報告内に Log4j2 CVE の状態を確認するためにも、Docker Hub へイメージをプッシュしてスキャン実行を行うことをお勧めします。
{: .important}
@z

@x
Hub Vulnerability scanning allows repository owners and administrators of a
Docker Pro, Team, or a Business tier to enable and disable scanning. When scanning is enabled on a specific repository, anyone with push access can trigger a scan by pushing an image to Docker Hub.
@y
Docker Hub のぜい弱性スキャン機能は、Docker Pro、Team、Business を購入している場合に、そのリポジトリの所有ユーザーあるいは管理ユーザーが、この機能の有効無効を設定することができます。
特定のリポジトリにおいてスキャンが有効である場合、Docker Hub へのプッシュアクセスを行えば、誰でもスキャンを起動することができます。
@z

@x
In addition, repository owners in a Docker Pro subscription and team members in a Team, or a Business subscription can view the detailed scan reports, including
information about whether or not an image is affected by the **Log4j 2 CVE**.
You must push the image to Docker Hub to trigger a scan that
allows you to view the Log4j 2 CVE results.
@y
また Docker Pro サブスクリプションのリポジトリ所有ユーザーや、Docker Team のチームメンバー、Business サブスクリプションであれば、詳細なスキャン結果を参照することができます。
またイメージが **Log4j 2 CVE** に影響を受けているかどうかを確認することもできます。
Log4j 2 CVE への結果を参照するのであれば、Docker Hub に対してイメージをプッシュすることで、スキャンを起動する必要があります。
@z

@x
> **Note**
>
> Docker Hub currently supports scanning images which are of AMD64 architecture, Linux OS, and are less than 10 GB in size.
@y
> **メモ**
>
> Docker Hub が現時点においてサポートするスキャン機能では、イメージが AMD64 アーキテクチャーの Linux OS であって、サイズが 10 GB 以下であるもののみを対象としています。
@z

@x
### Enable vulnerability scanning
@y
{: #enable-vulnerability-scanning }
### ぜい弱性スキャンの有効化
@z

@x
Repository owners and administrators can enable vulnerability scanning on a repository. If you are a member of a Team or a Business subscription, ensure the repository you would like to enable scanning on is part of the Team or a Business tier.
@y
リポジトリの所有ユーザーあるいは管理ユーザーであれば、リポジトリ上でのぜい弱性スキャン機能の有効化を設定できます。
Docker Team または Business サブスクリプションのメンバーである場合、スキャン機能の有効化を設定するリポジトリは、Team または Business アカウントに属するリポジトリです。
@z

@x
To enable vulnerability scanning:
@y
ぜい弱性スキャン機能を有効にするには以下を行います。
@z

@x
1. Log into your [Docker Hub](https://hub.docker.com){: target="_blank" rel="noopener" class="_"} account.
2. Click **Repositories** from the main menu and select a repository from the list.
3. By default, scanning is disabled for all repositories. You can enable scanning separately for each repository. Go to the **Settings** tab and click **Enable Image Scanning**.
@y
1. [Docker Hub](https://hub.docker.com){: target="_blank" rel="noopener" class="_"} アカウントのログインします。
2. メインメニューの **Repositories** をクリックして、一覧の中からリポジトリを選択します。
3. デフォルトでリポジトリはすべて、スキャン機能が無効になっています。
   リポジトリに対する有効化の設定は、リポジトリ個々に行っていきます。
   **Settings** タブを開いて **Enable Image Scanning**（イメージスキャンの有効化）をクリックします。
@z

@x
### Scan an image for vulnerabilities
@y
{: #scan-an-image-for-vulnerabilities }
### イメージのぜい弱性スキャン
@z

@x
To scan an image for vulnerabilities, push the image to Docker Hub:
@y
イメージのぜい弱性をスキャンするには、そのイメージを Docker Hub にプッシュします。
@z

@x
1. Ensure you have installed Docker locally. See [Get Docker](../get-docker.md) to download and install Docker on your local machine.
2. Use the command line to log into your Docker account. See [docker login](../engine/reference/commandline/login.md) for more information.
3. Tag the image that you’d like to scan. For example, to tag a Redis image, run:
@y
1. ローカル環境に Docker がインストールできていることを確認します。
   [Docker の入手](../get-docker.md) を参照して、Docker のダウンロードとローカルマシンへのインストールを行ってください。
2. コマンドラインから Docker アカウントを使ってログインします。
   詳しくは [docker login](../engine/reference/commandline/login.md) を参照してください。
3. スキャンするイメージにタグをつけます。
   たとえば Redis イメージにタグをつけるには、以下のようにします。
@z

@x
    ```console
    $ docker tag redis <your-Docker-ID>/<your-repo-name>:latest
    ```
@y
    ```console
    $ docker tag redis <your-Docker-ID>/<your-repo-name>:latest
    ```
@z

@x
4. Push the image to Docker Hub to trigger vulnerability scanning on the image:
@y
4. Docker Hub にイメージをプッシュします。
   これによって、イメージのぜい弱性スキャンが開始されます。
@z

@x
    ```console
    $ docker push <your-Docker-ID>/<your-repo-name>:latest
    ```
@y
    ```console
    $ docker push <your-Docker-ID>/<your-repo-name>:latest
    ```
@z

@x
## View the vulnerability report
@y
## ぜい弱性報告の参照
@z

@x
> **Scan report retention period**
>
> Docker retains the vulnerability scan report for one year. If you'd like a new, up-to-date vulnerability scan report after this period, you can rescan the image by pushing the image to Docker Hub.
@y
> **スキャン報告の保持期間**
>
> Docker ではぜい弱性スキャン報告を 1 年間保持します。
> この期間を過ぎ、新たに最新のぜい弱性スキャン報告を得たい場合は、Docker Hub へのイメージプッシュにより、イメージの再スキャンを行ってください。
@z

@x
To view the vulnerability report:
@y
ぜい弱性報告（vulnerability report）を参照するには以下を行います。
@z

@x
1. Go to [Docker Hub](https://hub.docker.com){: target="_blank" rel="noopener" class="_"} and open the repository to view a summary of the vulnerability scanning report.
@y
1. [Docker Hub](https://hub.docker.com){: target="_blank" rel="noopener" class="_"} にアクセスして、目的のリポジトリを開いて、ぜい弱性スキャン報告の概要を表示します。
@z

@x
    It can take a couple of minutes for the vulnerability report to appear in your repository.
@y
    リポジトリ画面にぜい弱性報告が表示されるまでには、数分を要します。
@z

@x
    ![Vulnerability scan report](images/vuln-scan-report.png){:width="700px"}
@y
    ![ぜい弱性スキャン報告](images/vuln-scan-report.png){:width="700px"}
@z

@x
2. Click on the **Tags** tab > **Digest** > **Vulnerabilities** to view the detailed scan report.
@y
2. **Tags** タブ > **Digest** > **Vulnerabilities** をクリックして、スキャン報告の詳細を表示します。
@z

@x
    The scan report displays vulnerabilities identified by the scan, sorting them according to their severity, with highest severity listed at the top. It displays information about the package that contains the vulnerability, the version in which it was introduced, and whether the vulnerability is fixed in a later version.
@y
    スキャン報告では、スキャンによって特定されたぜい弱性が表示されます。
    表示にあたってはその重要度に従って並べられ、最も重要度の高いものから順に表示されます。
    表示される情報として、ぜい弱性が存在するパッケージ、ぜい弱性が含まれるバージョン、最新バージョンによってぜい弱性が修正されているかどうか、といった内容が示されます。
@z

@x
    ![Vulnerability scan details](images/vuln-scan-details.png){:width="700px"}
@y
    ![ぜい弱性スキャンの詳細](images/vuln-scan-details.png){:width="700px"}
@z

@x
    > **Note**
    >
    > You can also click the ‘open in browser’ icon  on each row to view detailed information about the vulnerability on the Snyk website.
@y
    > **メモ**
    >
    > 一覧の各行にある「open in browser」アイコンをクリックすれば、Synk ウェブサイトが提供するぜい弱性の詳細情報を確認することができます。
@z

@x
### Disable vulnerability scanning
@y
{: #disable-vulnerability-scanning }
### ぜい弱性スキャンの無効化
@z

@x
Repository owners and administrators can disable vulnerability scanning on a repository. To disable scanning:
@y
リポジトリの所有ユーザーまたは管理ユーザーであれば、リポジトリのぜい弱性スキャン機能を無効にすることができます。
無効化は以下を行います。
@z

@x
1. Log into your [Docker Hub](https://hub.docker.com){: target="_blank" rel="noopener" class="_"} account.
2. Click **Repositories** from the main menu and select a repository from the list.
3. Go to the **Settings** tab and click **Disable Image Scanning**.
@y
1. [Docker Hub](https://hub.docker.com){: target="_blank" rel="noopener" class="_"} アカウントにログインします。
2. メインメニューの **Repositories** をクリックして、一覧の中からリポジトリを選択します。
3. **Settings** タブを開いて **Disable Image Scanning**（イメージスキャンの無効化）をクリックします。
@z

@x
### Inspect the vulnerabilities
@y
{: #inspect-the-vulnerabilities }
### ぜい弱性の確認
@z

@x
The vulnerability report sorts vulnerabilities based on their severity. It displays information about the package that contains the vulnerability, the version in which it was introduced, and whether the vulnerability has been fixed in a later version.
@y
ぜい弱性報告の一覧は、その重要度に従ってぜい弱性が並べられます。
表示される情報として、ぜい弱性が存在するパッケージ、ぜい弱性が含まれるバージョン、最新バージョンによってぜい弱性が修正されているかどうか、といった内容が示されます。
@z

@x
The vulnerability scan report also allows development teams and security leads to compare the vulnerability counts across tags to see whether the vulnerabilities are decreasing or increasing over time.
@y
ぜい弱性スキャン報告を開発チームやセキュリティ担当が検証する際には、タグ全体のぜい弱性カウントを見ることで、時間の経過とともにぜい弱性がどのように増減したかを確認できます。
@z

@x
### Fixing vulnerabilities
@y
{: #fixing-vulnerabilities }
### ぜい弱性の解消作業
@z

@x
Once a list of vulnerabilities have been identified, there are a couple of actions you can take to remediate the vulnerabilities. For example, you can:
@y
ぜい弱性として検出され一覧表示されたものについては、そのぜい弱性解消のための手段をいくつか講じていきます。
たとえば以下を行います。
@z

@x
1. Specify an updated base image in the Dockerfile, check your application-level dependencies, rebuild the Docker image and then push the new image to Docker Hub.
2. Rebuild the Docker image, run an update command on the OS packages, and push a newer version of image to Docker Hub.
3. Edit the dockerfile to manually remove or update specific libraries that contain vulnerabilities, rebuild the image, and push the new image to Docker Hub
@y
1. Dockerfile に指定されるベースイメージは最新のものを用います。
   アプリケーションレベルの依存パッケージを確認して、Docker イメージを再ビルドします。
   そして Docker Hub に新たなイメージをプッシュします。
2. Docker イメージを再ビルドします。
   OS が提供するパッケージを更新するコマンドを実行します。
   そして Docker Hub に新たなイメージをプッシュします。
3. Dockerfile 内にぜい弱性のある特定のライブラリが存在していたら、削除するか最新のものに更新します。
   イメージを再ビルドして Docker Hub に新たなイメージをプッシュします。
@z

@x
After you have followed the steps suggested above, browse the new vulnerability report to view the updated scan result.
@y
上に示す手順を実施した後に、新たなぜい弱性報告を開いて、更新されたスキャン結果を確認します。
@z

@x
## Feedback
@y
{: #feedback }
## フィードバック
@z

@x
Thank you for trying out the Hub Vulnerability Scanning feature. Your feedback is very important to us. Let us know your feedback by creating an issue in the [hub-feedback](https://github.com/docker/hub-feedback/issues){: target="_blank" rel="noopener" class="_"} GitHub repository.
@y
Docker Hub のぜい弱性スキャン機能を利用していただきありがとうございます。
みなさんからのフィードバックを頂くことが重要です。
フィードバックは GitHub リポジトリ内の [hub-feedback](https://github.com/docker/hub-feedback/issues){: target="_blank" rel="noopener" class="_"} において issue を生成してお知らせください。
@z
