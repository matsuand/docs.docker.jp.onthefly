<!-- Page generated 2020-06-23 20:53:04 +0900 -->
<!-- Logic for 'edit this button'


    

    

    

    

    

    

    

    

-->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <style type="text/css">
      @charset "UTF-8";
      [ng\:cloak],
      [ng-cloak],
      [data-ng-cloak],
      [x-ng-cloak],
      .ng-cloak,
      .x-ng-cloak,
      .ng-hide:not(.ng-hide-animate) {
          display: none !important;
      }

      ng\:form {
          display: block;
      }
  </style>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WL2QLG5');</script>

  
  <!-- favicon -->
  <link rel="icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <meta name="msapplication-TileImage" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico">
  <link rel="apple-touch-icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <meta property="og:image" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
  <!-- metadata -->
  <meta property="og:type" content="website"/>
  <meta property="og:updated_time" itemprop="dateUpdated" content="2020-06-23T20:53:04+09:00"/>
  <meta property="og:image" itemprop="image primaryImageOfPage" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:domain" content="docs.docker.com"/>
  <meta name="twitter:site" content="@docker_docs"/>
  <meta name="twitter:url" content="https://twitter.com/docker_docs"/>
  <meta name="twitter:title" itemprop="title name" content="docker-machine create"/>
  <meta name="twitter:description" property="og:description" itemprop="description" content="Create a machine. Requires the --driver flag to indicate which provider (VirtualBox, DigitalOcean, AWS, etc.) the machine should be created on, and an argument to indicate the name of the..." />
  <meta name="twitter:image:src" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta name="twitter:image:alt" content="Docker ドキュメント"/>
  <meta property="article:published_time" itemprop="datePublished" content="2020-06-23T20:53:04+09:00"/>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="machine, create, subcommand">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/font-awesome.min.css">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/bootstrap.min.css">
  <link id="pygments" rel="stylesheet" href="/docs.docker.jp.onthefly/css/pygments/perldoc.css">
  <link id="pagestyle" rel="stylesheet" href="/docs.docker.jp.onthefly/css/style.css">

  <!-- Go get "Open Sans" font from Google -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
  <!-- SEO stuff -->
  <title>docker-machine create | Docker ドキュメント</title>
  <meta property="og:title" content="docker-machine create" />
  <meta property="og:locale" content="ja_JP" />
  <meta name="description" content="Create a machine." />
  <meta property="og:description" content="Create a machine." />
  <link rel="canonical" href="/machine/reference/create/" />
  <meta property="og:url" content="https://docs.docker.com/machine/reference/create/" />
  <meta property="og:site_name" content="Docker ドキュメント" />
  <script type="application/ld+json">{"@context":"http://schema.org","@type":"WebPage","headline":"docker-machine create","description":"Create a machine.","url":"https://docs.docker.com/machine/reference/create/"}</script>
  <!-- END SEO STUFF -->
  
  <script>
  // Default to assuming this is an archive and hiding some stuff
  // See js/archive.js and js/docs.js for logic relating to this
  var dockerVersion = 'v19.03';
  </script>
</head>


    <body ng-app="Docker" ng-controller="DockerController" class="colums">
    <header>
        <nav class="nav-secondary navbar navbar-fixed-top">
    <!-- <div class="fan"></div> -->
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="/docs.docker.jp.onthefly/">
                <img class="logo" src="/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs">
            </a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="logo-mobile">
    <a href="/docs.docker.jp.onthefly/">
        <img src="/docs.docker.jp.onthefly/images/docker-icon.svg" alt="Docker Docs" title="Docker Docs">
    </a>
</div>
<div class="search-form" id="search-div">
    <form class="search-form form-inline ng-pristine ng-valid" id="searchForm" action="/docs.docker.jp.onthefly/search/">
        <input class="search-field form-control ds-input" id="st-search-input" value="" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteContainer">
            <div id="autocompleteResults"></div>
        </div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container hidden-sm hidden-xs">
    <div id="tabs">
        <ul class="tabs jsTOCHorizontal">

        </ul>
    </div>
    <div class="ctrl-right">
        <a href="javascript:void(0)" id="menu-toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
        <div class="btn-group">
  <button type="button" class="btn btn-default dropdown-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Docker v19.03 (最新)     <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
    <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v18.09/">Docker v18.09</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v18.03/">Docker v18.03</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.06/">Docker v17.06</a></li>
  </ul>
</div>

    </div>
</div>

        </div>
    </div>
</nav>

    </header>
    <div class="wrapper right-open">
        <div class="container-fluid">
            <div class="row">
                <div class="col-body">
                    <main class="col-content content">
                        <section class="section">
                            
                            
                            <h1>docker-machine create</h1> 
                            <span class="reading-time" title="Estimated reading time">
  <span class="reading-time-label">読む時間の目安: </span>
  
  
    10 分
  
</span>

                            
                            <p>Create a machine.  Requires the <code class="highlighter-rouge">--driver</code> flag to indicate which provider
(VirtualBox, DigitalOcean, AWS, etc.) the machine should be created on, and an
argument to indicate the name of the created machine.</p>

<blockquote class="important">
  <p>Looking for the full list of available drivers?</p>

  <p>For a full list of drivers that work with <code class="highlighter-rouge">docker-machine create</code> and
information on how to use them, see <a href="/docs.docker.jp.onthefly/machine/drivers/">Machine drivers</a>.</p>
</blockquote>

<h2 id="example">Example</h2>

<p>Here is an example of using the <code class="highlighter-rouge">--virtualbox</code> driver to create a machine called <code class="highlighter-rouge">dev</code>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-machine create <span class="nt">--driver</span> virtualbox dev

Creating CA: /home/username/.docker/machine/certs/ca.pem
Creating client certificate: /home/username/.docker/machine/certs/cert.pem
Image cache does not exist, creating it at /home/username/.docker/machine/cache...
No default boot2docker iso found locally, downloading the latest release...
Downloading https://github.com/boot2docker/boot2docker/releases/download/v1.6.2/boot2docker.iso to /home/username/.docker/machine/cache/boot2docker.iso...
Creating VirtualBox VM...
Creating SSH key...
Starting VirtualBox VM...
Starting VM...
To see how to connect Docker to this machine, run: docker-machine env dev
</code></pre></div></div>

<h2 id="accessing-driver-specific-flags-in-the-help-text">Accessing driver-specific flags in the help text</h2>

<p>The <code class="highlighter-rouge">docker-machine create</code> command has some flags which apply to all
drivers.  These largely control aspects of Machine’s provisioning process
(including the creation of Docker Swarm containers) that the user may wish to
customize.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-machine create

Docker Machine Version: 0.5.0 <span class="o">(</span>45e3688<span class="o">)</span>
Usage: docker-machine create <span class="o">[</span>OPTIONS] <span class="o">[</span>arg...]

Create a machine.

Run <span class="s1">'docker-machine create --driver name'</span> to include the create flags <span class="k">for </span>that driver <span class="k">in </span>the <span class="nb">help </span>text.

Options:

   <span class="nt">--driver</span>, <span class="nt">-d</span> <span class="s2">"none"</span>                                                                                  Driver to create machine with.
   <span class="nt">--engine-install-url</span> <span class="s2">"https://get.docker.com"</span>                                                        Custom URL to use <span class="k">for </span>engine installation <span class="o">[</span><span class="nv">$MACHINE_DOCKER_INSTALL_URL</span><span class="o">]</span>
   <span class="nt">--engine-opt</span> <span class="o">[</span><span class="nt">--engine-opt</span> option <span class="nt">--engine-opt</span> option]                                               Specify arbitrary flags to include with the created engine <span class="k">in </span>the form <span class="nv">flag</span><span class="o">=</span>value
   <span class="nt">--engine-insecure-registry</span> <span class="o">[</span><span class="nt">--engine-insecure-registry</span> option <span class="nt">--engine-insecure-registry</span> option]     Specify insecure registries to allow with the created engine
   <span class="nt">--engine-registry-mirror</span> <span class="o">[</span><span class="nt">--engine-registry-mirror</span> option <span class="nt">--engine-registry-mirror</span> option]           Specify registry mirrors to use <span class="o">[</span><span class="nv">$ENGINE_REGISTRY_MIRROR</span><span class="o">]</span>
   <span class="nt">--engine-label</span> <span class="o">[</span><span class="nt">--engine-label</span> option <span class="nt">--engine-label</span> option]                                         Specify labels <span class="k">for </span>the created engine
   <span class="nt">--engine-storage-driver</span>                                                                              Specify a storage driver to use with the engine
   <span class="nt">--engine-env</span> <span class="o">[</span><span class="nt">--engine-env</span> option <span class="nt">--engine-env</span> option]                                               Specify environment variables to <span class="nb">set </span><span class="k">in </span>the engine
   <span class="nt">--swarm</span>                                                                                              Configure Machine with Swarm
   <span class="nt">--swarm-image</span> <span class="s2">"swarm:latest"</span>                                                                         Specify Docker image to use <span class="k">for </span>Swarm <span class="o">[</span><span class="nv">$MACHINE_SWARM_IMAGE</span><span class="o">]</span>
   <span class="nt">--swarm-master</span>                                                                                       Configure Machine to be a Swarm master
   <span class="nt">--swarm-discovery</span>                                                                                    Discovery service to use with Swarm
   <span class="nt">--swarm-strategy</span> <span class="s2">"spread"</span>                                                                            Define a default scheduling strategy <span class="k">for </span>Swarm
   <span class="nt">--swarm-opt</span> <span class="o">[</span><span class="nt">--swarm-opt</span> option <span class="nt">--swarm-opt</span> option]                                                  Define arbitrary flags <span class="k">for </span>swarm
   <span class="nt">--swarm-host</span> <span class="s2">"tcp://0.0.0.0:3376"</span>                                                                    ip/socket to listen on <span class="k">for </span>Swarm master
   <span class="nt">--swarm-addr</span>                                                                                         addr to advertise <span class="k">for </span>Swarm <span class="o">(</span>default: detect and use the machine IP<span class="o">)</span>
   <span class="nt">--swarm-experimental</span>                                                                                 Enable Swarm experimental features
</code></pre></div></div>

<p>Additionally, drivers can specify flags that Machine can accept as part of their
plugin code.  These allow users to customize the provider-specific parameters of
the created machine, such as size (<code class="highlighter-rouge">--amazonec2-instance-type m1.medium</code>),
geographical region (<code class="highlighter-rouge">--amazonec2-region us-west-1</code>), and so on.</p>

<p>To see the provider-specific flags, simply pass a value for <code class="highlighter-rouge">--driver</code> when
invoking the <code class="highlighter-rouge">create</code> help text.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-machine create <span class="nt">--driver</span> virtualbox <span class="nt">--help</span>
Usage: docker-machine create <span class="o">[</span>OPTIONS] <span class="o">[</span>arg...]

Create a machine.

Run <span class="s1">'docker-machine create --driver name'</span> to include the create flags <span class="k">for </span>that driver <span class="k">in </span>the <span class="nb">help </span>text.

Options:

   <span class="nt">--driver</span>, <span class="nt">-d</span> <span class="s2">"none"</span>                                                                                  Driver to create machine with.
   <span class="nt">--engine-env</span> <span class="o">[</span><span class="nt">--engine-env</span> option <span class="nt">--engine-env</span> option]                                               Specify environment variables to <span class="nb">set </span><span class="k">in </span>the engine
   <span class="nt">--engine-insecure-registry</span> <span class="o">[</span><span class="nt">--engine-insecure-registry</span> option <span class="nt">--engine-insecure-registry</span> option]     Specify insecure registries to allow with the created engine
   <span class="nt">--engine-install-url</span> <span class="s2">"https://get.docker.com"</span>                                                        Custom URL to use <span class="k">for </span>engine installation <span class="o">[</span><span class="nv">$MACHINE_DOCKER_INSTALL_URL</span><span class="o">]</span>
   <span class="nt">--engine-label</span> <span class="o">[</span><span class="nt">--engine-label</span> option <span class="nt">--engine-label</span> option]                                         Specify labels <span class="k">for </span>the created engine
   <span class="nt">--engine-opt</span> <span class="o">[</span><span class="nt">--engine-opt</span> option <span class="nt">--engine-opt</span> option]                                               Specify arbitrary flags to include with the created engine <span class="k">in </span>the form <span class="nv">flag</span><span class="o">=</span>value
   <span class="nt">--engine-registry-mirror</span> <span class="o">[</span><span class="nt">--engine-registry-mirror</span> option <span class="nt">--engine-registry-mirror</span> option]           Specify registry mirrors to use <span class="o">[</span><span class="nv">$ENGINE_REGISTRY_MIRROR</span><span class="o">]</span>
   <span class="nt">--engine-storage-driver</span>                                                                              Specify a storage driver to use with the engine
   <span class="nt">--swarm</span>                                                                                              Configure Machine with Swarm
   <span class="nt">--swarm-addr</span>                                                                                         addr to advertise <span class="k">for </span>Swarm <span class="o">(</span>default: detect and use the machine IP<span class="o">)</span>
   <span class="nt">--swarm-discovery</span>                                                                                    Discovery service to use with Swarm
   <span class="nt">--swarm-experimental</span>                                                                                 Enable Swarm experimental features
   <span class="nt">--swarm-host</span> <span class="s2">"tcp://0.0.0.0:3376"</span>                                                                    ip/socket to listen on <span class="k">for </span>Swarm master
   <span class="nt">--swarm-image</span> <span class="s2">"swarm:latest"</span>                                                                         Specify Docker image to use <span class="k">for </span>Swarm <span class="o">[</span><span class="nv">$MACHINE_SWARM_IMAGE</span><span class="o">]</span>
   <span class="nt">--swarm-master</span>                                                                                       Configure Machine to be a Swarm master
   <span class="nt">--swarm-opt</span> <span class="o">[</span><span class="nt">--swarm-opt</span> option <span class="nt">--swarm-opt</span> option]                                                  Define arbitrary flags <span class="k">for </span>swarm
   <span class="nt">--swarm-strategy</span> <span class="s2">"spread"</span>                                                                            Define a default scheduling strategy <span class="k">for </span>Swarm
   <span class="nt">--virtualbox-boot2docker-url</span>                                                                         The URL of the boot2docker image. Defaults to the latest available version <span class="o">[</span><span class="nv">$VIRTUALBOX_BOOT2DOCKER_URL</span><span class="o">]</span>
   <span class="nt">--virtualbox-cpu-count</span> <span class="s2">"1"</span>                                                                           number of CPUs <span class="k">for </span>the machine <span class="o">(</span><span class="nt">-1</span> to use the number of CPUs available<span class="o">)</span> <span class="o">[</span><span class="nv">$VIRTUALBOX_CPU_COUNT</span><span class="o">]</span>
   <span class="nt">--virtualbox-disk-size</span> <span class="s2">"20000"</span>                                                                       Size of disk <span class="k">for </span>host <span class="k">in </span>MB <span class="o">[</span><span class="nv">$VIRTUALBOX_DISK_SIZE</span><span class="o">]</span>
   <span class="nt">--virtualbox-host-dns-resolver</span>                                                                       Use the host DNS resolver <span class="o">[</span><span class="nv">$VIRTUALBOX_HOST_DNS_RESOLVER</span><span class="o">]</span>
   <span class="nt">--virtualbox-dns-proxy</span>                                                                               Proxy all DNS requests to the host <span class="o">[</span><span class="nv">$VIRTUALBOX_DNS_PROXY</span><span class="o">]</span>
   <span class="nt">--virtualbox-hostonly-cidr</span> <span class="s2">"192.168.99.1/24"</span>                                                         Specify the Host Only CIDR <span class="o">[</span><span class="nv">$VIRTUALBOX_HOSTONLY_CIDR</span><span class="o">]</span>
   <span class="nt">--virtualbox-hostonly-nicpromisc</span> <span class="s2">"deny"</span>                                                              Specify the Host Only Network Adapter Promiscuous Mode <span class="o">[</span><span class="nv">$VIRTUALBOX_HOSTONLY_NIC_PROMISC</span><span class="o">]</span>
   <span class="nt">--virtualbox-hostonly-nictype</span> <span class="s2">"82540EM"</span>                                                              Specify the Host Only Network Adapter Type <span class="o">[</span><span class="nv">$VIRTUALBOX_HOSTONLY_NIC_TYPE</span><span class="o">]</span>
   <span class="nt">--virtualbox-import-boot2docker-vm</span>                                                                   The name of a Boot2Docker VM to import
   <span class="nt">--virtualbox-memory</span> <span class="s2">"1024"</span>                                                                           Size of memory <span class="k">for </span>host <span class="k">in </span>MB <span class="o">[</span><span class="nv">$VIRTUALBOX_MEMORY_SIZE</span><span class="o">]</span>
   <span class="nt">--virtualbox-no-share</span>                                                                                Disable the mount of your home directory
</code></pre></div></div>

<p>You may notice that some flags specify environment variables that they are
associated with as well (located to the far left hand side of the row).  If
these environment variables are set when <code class="highlighter-rouge">docker-machine create</code> is invoked,
Docker Machine uses them for the default value of the flag.</p>

<h2 id="specifying-configuration-options-for-the-created-docker-engine">Specifying configuration options for the created Docker engine</h2>

<p>As part of the process of creation, Docker Machine installs Docker and
configures it with some sensible defaults. For instance, it allows connection
from the outside world over TCP with TLS-based encryption and defaults to AUFS
as the <a href="/engine/reference/commandline/dockerd/#daemon-storage-driver-option">storage driver</a>
when available.</p>

<p>There are several cases where the user might want to set options for the created
Docker engine (also known as the Docker <em>daemon</em>) themselves. For example, they
may want to allow connection to a <a href="/docs.docker.jp.onthefly/registry/">registry</a>
that they are running themselves using the <code class="highlighter-rouge">--insecure-registry</code> flag for the
daemon. Docker Machine supports the configuration of such options for the
created engines via the <code class="highlighter-rouge">create</code> command flags which begin with <code class="highlighter-rouge">--engine</code>.</p>

<p>Docker Machine only sets the configured parameters on the daemon
and does not set up any of the “dependencies” for you. For instance, if you
specify that the created daemon should use <code class="highlighter-rouge">btrfs</code> as a storage driver, you
still must ensure that the proper dependencies are installed, the BTRFS
filesystem has been created, and so on.</p>

<p>The following is an example usage:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-machine create <span class="nt">-d</span> virtualbox <span class="se">\</span>
    <span class="nt">--engine-label</span> <span class="nv">foo</span><span class="o">=</span>bar <span class="se">\</span>
    <span class="nt">--engine-label</span> <span class="nv">spam</span><span class="o">=</span>eggs <span class="se">\</span>
    <span class="nt">--engine-storage-driver</span> overlay <span class="se">\</span>
    <span class="nt">--engine-insecure-registry</span> registry.myco.com <span class="se">\</span>
    foobarmachine
</code></pre></div></div>

<p>This creates a virtual machine running locally in VirtualBox which uses the
<code class="highlighter-rouge">overlay</code> storage backend, has the key-value pairs <code class="highlighter-rouge">foo=bar</code> and <code class="highlighter-rouge">spam=eggs</code> as
labels on the engine, and allows pushing / pulling from the insecure registry
located at <code class="highlighter-rouge">registry.myco.com</code>. You can verify much of this by inspecting the
output of <code class="highlighter-rouge">docker info</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">eval</span> <span class="k">$(</span>docker-machine env foobarmachine<span class="k">)</span>
<span class="nv">$ </span>docker info

Containers: 0
Images: 0
Storage Driver: overlay
...
Name: foobarmachine
...
Labels:
 <span class="nv">foo</span><span class="o">=</span>bar
 <span class="nv">spam</span><span class="o">=</span>eggs
 <span class="nv">provider</span><span class="o">=</span>virtualbox
</code></pre></div></div>

<p>The supported flags are as follows:</p>

<ul>
  <li><code class="highlighter-rouge">--engine-insecure-registry</code>: Specify <a href="/engine/reference/commandline/cli/#insecure-registries">insecure registries</a> to allow with the created engine</li>
  <li><code class="highlighter-rouge">--engine-registry-mirror</code>: Specify <a href="/docs.docker.jp.onthefly/registry/recipes/mirror/">registry mirrors</a> to use</li>
  <li><code class="highlighter-rouge">--engine-label</code>: Specify <a href="/docs.docker.jp.onthefly/config/labels-custom-metadata/">labels</a> for the created engine</li>
  <li><code class="highlighter-rouge">--engine-storage-driver</code>: Specify a <a href="/engine/reference/commandline/cli/#daemon-storage-driver-option">storage driver</a> to use with the engine</li>
</ul>

<p>If the engine supports specifying the flag multiple times (such as with
<code class="highlighter-rouge">--label</code>), then so does Docker Machine.</p>

<p>In addition to this subset of daemon flags which are directly supported, Docker
Machine also supports an additional flag, <code class="highlighter-rouge">--engine-opt</code>, which can be used to
specify arbitrary daemon options with the syntax <code class="highlighter-rouge">--engine-opt flagname=value</code>.
For example, to specify that the daemon should use <code class="highlighter-rouge">8.8.8.8</code> as the DNS server
for all containers, and always use the <code class="highlighter-rouge">syslog</code> <a href="/docs.docker.jp.onthefly/config/containers/logging/configure/">log driver</a>
you could run the following create command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-machine create <span class="nt">-d</span> virtualbox <span class="se">\</span>
    <span class="nt">--engine-opt</span> <span class="nv">dns</span><span class="o">=</span>8.8.8.8 <span class="se">\</span>
    <span class="nt">--engine-opt</span> log-driver<span class="o">=</span>syslog <span class="se">\</span>
    gdns
</code></pre></div></div>

<p>Additionally, Docker Machine supports a flag, <code class="highlighter-rouge">--engine-env</code>, which can be used to
specify arbitrary environment variables to be set within the engine with the syntax <code class="highlighter-rouge">--engine-env name=value</code>. For example, to specify that the engine should use <code class="highlighter-rouge">example.com</code> as the proxy server, you could run the following create command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-machine create <span class="nt">-d</span> virtualbox <span class="se">\</span>
    <span class="nt">--engine-env</span> <span class="nv">HTTP_PROXY</span><span class="o">=</span>http://example.com:8080 <span class="se">\</span>
    <span class="nt">--engine-env</span> <span class="nv">HTTPS_PROXY</span><span class="o">=</span>https://example.com:8080 <span class="se">\</span>
    <span class="nt">--engine-env</span> <span class="nv">NO_PROXY</span><span class="o">=</span>example2.com <span class="se">\</span>
    proxbox
</code></pre></div></div>

<h2 id="specifying-docker-swarm-options-for-the-created-machine">Specifying Docker Swarm options for the created machine</h2>

<p>In addition to configuring Docker Engine options as listed above,
you can use Machine to specify how the created swarm manager is
configured. There is a <code class="highlighter-rouge">--swarm-strategy</code> flag, which you can use to specify
the <a href="../../swarm/scheduler/strategy.md">scheduling strategy</a>
which Docker Swarm should use (Machine defaults to the <code class="highlighter-rouge">spread</code> strategy).
There is also a general purpose <code class="highlighter-rouge">--swarm-opt</code> option which works similar to the aforementioned <code class="highlighter-rouge">--engine-opt</code> option, except that it specifies options
for the <code class="highlighter-rouge">swarm manage</code> command (used to boot a master node) instead of the base
command. You can use this to configure features that power users might be
interested in, such as configuring the heartbeat interval or Swarm’s willingness
to over-commit resources. There is also the <code class="highlighter-rouge">--swarm-experimental</code> flag, that
allows you to access <a href="https://github.com/docker/swarm/tree/master/experimental">experimental features</a>
in Docker Swarm.</p>

<p>If you’re not sure how to configure these options, it is best to not specify
configuration at all. Docker Machine chooses sensible defaults for you and
you don’t need to worry about it.</p>

<p>Example create:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-machine create <span class="nt">-d</span> virtualbox <span class="se">\</span>
    <span class="nt">--swarm</span> <span class="se">\</span>
    <span class="nt">--swarm-master</span> <span class="se">\</span>
    <span class="nt">--swarm-discovery</span> token://&lt;token&gt; <span class="se">\</span>
    <span class="nt">--swarm-strategy</span> binpack <span class="se">\</span>
    <span class="nt">--swarm-opt</span> <span class="nv">heartbeat</span><span class="o">=</span>5s <span class="se">\</span>
    upbeat
</code></pre></div></div>

<p>This sets the swarm scheduling strategy to “binpack” (pack in containers as
tightly as possible per host instead of spreading them out), and the “heartbeat”
interval to 5 seconds.</p>

<h2 id="pre-create-check">Pre-create check</h2>

<p>Many drivers require a certain set of conditions to be in place before
machines can be created. For instance, VirtualBox needs to be installed before
the <code class="highlighter-rouge">virtualbox</code> driver can be used. For this reason, Docker Machine has a
“pre-create check” which is specified at the driver level.</p>

<p>If this pre-create check succeeds, Docker Machine proceeds with the creation
as normal.  If the pre-create check fails, the Docker Machine process exits
with status code 3 to indicate that the source of the non-zero exit was the
pre-create check failing.</p>

                            <!-- tags -->
                            
                            <span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span
                                style="vertical-align: 2px"><a
                                    href="https://docs.docker.com/search/?q=machine">machine</a>, <a
                                    href="https://docs.docker.com/search/?q=create">create</a>, <a
                                    href="https://docs.docker.com/search/?q=subcommand">subcommand</a></span>
                            
                            
                            <div id="ratings-div"
                                style="color:#b9c2cc; text-align: center; margin-top: 150px;">
                                <div id="pd_rating_holder_8453675"></div>
                                <script type="text/javascript">
                                    PDRTJS_settings_8453675 = {
                                        "id": "8453675",
                                        "unique_id": "machine/reference/create.md",
                                        "title": "docker-machine create",
                                        "permalink": "https://github.com/docker/docker.github.io/blob/master/machine/reference/create.md"
                                    };
                                    (function (d, c, j) {
                                        if (!document.getElementById(j)) {
                                            var pd = d.createElement(c),
                                                s;
                                            pd.id = j;
                                            pd.src = ('https:' == document.location.protocol) ? 'https://polldaddy.com/js/rating/rating.js' : 'http://i0.poll.fm/js/rating/rating.js';
                                            s = document.getElementsByTagName(c)[0];
                                            s.parentNode.insertBefore(pd, s);
                                        }
                                    }(document, 'script', 'pd-rating-js'));
                                </script>
                            </div>
                            
                        </section>
                    </main>
                    <nav class="col-nav">
                        <div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
                            <div id="navbar" class="nav-sidebar">
    <ul class="nav jsTOCHorizontal hidden-md hidden-lg">
    </ul>
    <div class="divider hidden-md hidden-lg"></div>
    <ul class="nav" id="jsTOCLeftNav">
    </ul>
</div>

                        </div>
                    </nav>
                    <div class="col-toc">
                        <div class="sidebar hidden-xs hidden-sm">
                            <div class="toc-nav">
                                <div class="feedback-links">
                                    <ul>
                                        
                                        <li><a href="https://github.com/matsuand/docs.docker.jp/edit/v19.03.local/machine/reference/create.md"><i
                                                    class="fa fa-pencil-square-o" aria-hidden="true"></i> このページの編集</a></li>
                                        <li><a href="https://github.com/matsuand/docs.docker.jp/issues/new?body=ファイル: [machine/reference/create.md](https://matsuand.github.io/docs.docker.jp.onthefly/machine/reference/create/)"
                                                class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 文書変更のリクエスト</a></li>
                                        <!-- toggle mode -->
                                        <li>
                                            <div class="toggle-mode">
                                                <div class="icon">
                                                    <i class="fa fa-sun-o" aria-hidden="true"></i>
                                                </div>
                                                <div class="toggle-switch">
                                                    <label class="switch">
                                                        <input type="checkbox" id="switch-style">
                                                        <div class="slider round"></div>
                                                    </label>
                                                </div>
                                                <div class="icon">
                                                    <i class="fa fa-moon-o" aria-hidden="true"></i>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                
                                
                                
                                
                                <div id="side-toc-title">本ページ内:</div>
                                
<ul id="my_toc" class="inline_toc">
  <li><a href="#example" class="nomunge">Example</a></li>
  <li><a href="#accessing-driver-specific-flags-in-the-help-text" class="nomunge">Accessing driver-specific flags in the help text</a></li>
  <li><a href="#specifying-configuration-options-for-the-created-docker-engine" class="nomunge">Specifying configuration options for the created Docker engine</a></li>
  <li><a href="#specifying-docker-swarm-options-for-the-created-machine" class="nomunge">Specifying Docker Swarm options for the created machine</a></li>
  <li><a href="#pre-create-check" class="nomunge">Pre-create check</a></li>
</ul>


                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    
    <footer class="footer">
          
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/why-docker">Why Docker?</a></b></li>
                        <li><a href="https://www.docker.com/what-container">What is a Container?</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/overview">Products</a></b></li>
                        <li><a href="https://www.docker.com/products/docker-desktop">Docker Desktop</a></li>
                        <li><a href="https://www.docker.com/products/docker-hub">Docker Hub</a></li>
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Features</a></b></li>
                        <li><a href="https://www.docker.com/products/container-runtime">Container Runtime</a></li>
                        <li><a href="https://www.docker.com/products/developer-tools">Developer Tools</a></li>
                        <li><a href="https://www.docker.com/products/kubernetes">Kubernetes</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Developers</a></b></li>
                        <li><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                        <li><a href="https://www.docker.com/play-with-docker">Play with Docker</a></li>
                        <li><a href="https://www.docker.com/docker-community">Community</a></li>
                        <li><a href="https://www.docker.com/open-source">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker Captains</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/company" target="_blank">Company</a></b></li>
                        <li><a href="https://www.docker.com/company">About Us</a></li>
                        <li><a href="https://www.docker.com/blog/" target="_blank">Blog</a></li>
                        <li><a href="https://www.docker.com/customers">Customers</a></li>
                        <li><a href="https://www.docker.com/partners">Partners</a></li>
                        <li><a href="https://www.docker.com/company/newsroom">Newsroom</a></li>
                        <li><a href="https://www.docker.com/careers">Careers</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">Status</a></li>
                        <li><a href="https://www.docker.com/docker-security">Security</a></li>
                        <li><a href="https://www.docker.com/legal">Legal</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2013-2020 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-slideshare"><a href="https://www.slideshare.net/docker">Slideshare</a></li>
                    <li class="fa fa-reddit"><a href="https://www.reddit.com/r/docker">Reddit</a></li>
                </ul>
            </div>
        </div>
    </div>

    </footer>
    <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/github.css">
    
    <script defer src="/docs.docker.jp.onthefly/js/anchorlinks.js"></script>
    <script defer src="/docs.docker.jp.onthefly/js/menu.js"></script>
    <script src="/docs.docker.jp.onthefly/js/jquery.js"></script>
    <script src="/docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
    <!-- Always include the archive.js, but it doesn't do much unless we are an archive -->
    <script>
        // Default to assuming this is an archive and hiding some stuff
        // See js/archive.js and js/docs.js for logic relating to this
        var dockerVersion = 'v19.03';
        // In archives, we need to know the page root and we get it from JEKYLL_ENV in the jekyll build command
        var jekyllEnv = 'development';
        // If unset (in non-archive branches), defaults to "development". In that case, reset it to empty
        if (jekyllEnv === 'development') {
            jekyllEnv = '';
        }
        var pageURL = jekyllEnv + '/machine/reference/create/';
    </script>
    <script src="/docs.docker.jp.onthefly/js/archive.js"></script>
    <script src="/docs.docker.jp.onthefly/js/stickyfill.min.js"></script>
    <script defer src="/docs.docker.jp.onthefly/js/metadata.js"></script>
    <script src="/docs.docker.jp.onthefly/js/glossary.js"></script>
    <script defer src="/docs.docker.jp.onthefly/js/docs.js"></script>
    <script defer src="/docs.docker.jp.onthefly/js/toc.js"></script>
    <script defer src="/js/search.js"></script>
</body>


</html>
