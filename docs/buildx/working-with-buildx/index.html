<!DOCTYPE html>
<!-- Page generated 2022-04-29 17:35:28 +0900-->
<html lang="ja"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Docker Buildx | Docker ドキュメント</title>
  <meta name="description" content="Docker Buildx の利用" />
  <meta name="keywords" content="Docker, buildx, multi-arch">
  <link rel="canonical" href="https://localhost:4000{{ site.baseurl }}/buildx/working-with-buildx/" />

  <!-- favicon -->
  <link rel="icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <link rel="apple-touch-icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <meta name="msapplication-TileImage" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico">
  <meta property="og:image" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
  <meta name="theme-color" content="#2496ed" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- hide elements that are only shown without JavaScript enabled -->
  <script>document.documentElement.classList.add('js')</script>
  <style>html.js .no-js { display: none !important; }</style><script defer src="/docs.docker.jp.onthefly/js/theme-switcher.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/anchorlinks.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/jquery.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/docs.js"></script><script defer src="/docs.docker.jp.onthefly/js/search.js"></script><link rel="preload" as="font" href="https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0bf8pkAg.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/geomanist/hinted-Geomanist-Book.woff2"    type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/geomanist/hinted-Geomanist-Regular.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/glyphicons-halflings-regular.woff2"       type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/fontawesome-webfont.woff2?v=4.7.0"        type="font/woff2" crossorigin="anonymous">

  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/font-awesome.min.css">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/bootstrap.min.css">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/style.css" id="pagestyle">

  <!-- SEO stuff -->
  <meta name="twitter:title" itemprop="title name" content="Docker Buildx"/>
  <meta name="twitter:description" property="og:description" itemprop="description" content="" />
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:domain" content="matsuand.github.io"/>
  <meta name="twitter:site" content="@docker_docs"/>
  <meta name="twitter:url" content="https://twitter.com/docker_docs"/>
  <meta name="twitter:image:src" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta name="twitter:image:alt" content="Docker ドキュメント"/>
  <meta property="og:title" content="Docker Buildx" />
  <meta property="og:description" content="Docker Buildx の利用" />
  <meta property="og:type" content="website"/>
  <meta property="og:updated_time" itemprop="dateUpdated" content="2022-04-29T17:35:28+09:00"/>
  <meta property="og:image" itemprop="image primaryImageOfPage" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta property="og:locale" content="ja_JP" />
  <meta property="og:url" content="https://matsuand.github.io/docs.docker.jp.onthefly/buildx/working-with-buildx/" />
  <meta property="og:site_name" content="Docker ドキュメント" />
  <meta property="article:published_time" itemprop="datePublished" content="2022-04-29T17:35:28+09:00"/>
  <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebPage","headline":"Docker Buildx","description":"Docker Buildx の利用","url":"https://docs.docker.com/buildx/working-with-buildx/"}</script>
  <!-- END SEO STUFF -->
</head>
<body class="colums">
    <header>
        <nav class="nav-secondary navbar navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="/docs.docker.jp.onthefly/">
                <img class="logo" src="/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs" width="160" height="28" />
            </a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="logo-mobile">
    <a href="/docs.docker.jp.onthefly/">
        <img src="/docs.docker.jp.onthefly/images/docker-icon.svg" alt="Docker Docs" title="Docker Docs" width="30" height="30" />
    </a>
</div>
<div class="search-form" id="search-div">
    <form class="search-form form-inline" id="searchForm" action="/docs.docker.jp.onthefly/search/" method="get">
        <label for="st-search-input" class="sr-only">検索</label>
        <input class="search-field form-control ds-input" id="st-search-input" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteResults"></div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container hidden-sm hidden-xs">
    <div>
        <ul class="nav navbar-nav"><li><a href="/docs.docker.jp.onthefly/" id="home">ホーム</a></li><li><a href="/docs.docker.jp.onthefly/get-started/overview/" id="guides">ガイド</a></li><li><a href="/docs.docker.jp.onthefly/desktop/" id="manuals">マニュアル</a></li><li><a href="/docs.docker.jp.onthefly/reference/" id="reference">リファレンス</a></li><li><a href="/docs.docker.jp.onthefly/samples/" id="samples">サンプル</a></li></ul>
    </div>
    <div class="ctrl-right">
        <a href="javascript:void(0)" id="menu-toggle" aria-label="現在ページのメニュートグル"><i class="fa fa-indent" aria-hidden="true"></i></a>
    </div>
</div>
<div class="row hidden-sm hidden-xs">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li><a href="/docs.docker.jp.onthefly/" title="Docker docs ホームページ"><i class="fa fa-home"></i></a></li>
            <li><a href="/docs.docker.jp.onthefly/desktop/">マニュアル</a></li><li><a href="/docs.docker.jp.onthefly/engine/">Docker Engine</a></li><li><a href="/docs.docker.jp.onthefly/buildx/working-with-buildx/">Docker Buildx</a></li></ol>
    </nav>
</div></div>
    </div>
</nav>

    </header>
    <div class="wrapper right-open">
        <div class="container-fluid">
            <div class="row">
                <div class="col-body">
                    <main class="col-content content">
                        <section class="section"><h1>Docker Buildx</h1><p><em class="reading-time">読む時間の目安: 6 分</em></p><h2 id="overview">概要</h2>

<p>Docker Buildx は Docker コマンドを拡張する CLI プラグインであり、<a href="https://github.com/moby/buildkit" target="_blank" rel="noopener" class="_">Moby BuildKit</a> ビルダーツールキットにより提供される機能に完全対応するものです。
Docker ビルドと同様のユーザー操作を提供し、さらにスコープ化されたビルダーインスタンス、複数ノードへの同時ビルドなど、数多くの新機能を提供します。</p>

<h2 id="install">インストール</h2>

<h3 id="windows-and-macos">Windows と macOS</h3>

<p>Docker Buildx は Windows と macOS に対しては <a href="/docs.docker.jp.onthefly/desktop/">Docker Desktop</a> に含まれます。</p>

<h3 id="linux-packages">Linux パッケージ</h3>

<p><a href="/docs.docker.jp.onthefly/engine/install/">DEB や RPM パッケージ</a> を利用する場合も、Linux パッケージとして Docker Buildx が含まれます。</p>

<h3 id="manual-download">手動によるダウンロード</h3>

<blockquote class="important">
  <p><strong>重要</strong></p>

  <p>This section is for unattended installation of the buildx component. These
instructions are mostly suitable for testing purposes. We do not recommend
installing buildx using manual download in production environments as they
will not be updated automatically with security updates.</p>

  <p>On Windows and macOS, we recommend that you install <a href="/docs.docker.jp.onthefly/desktop/">Docker Desktop</a>
instead. For Linux, we recommend that you follow the <a href="#linux-packages">instructions specific for your distribution</a>.</p>
</blockquote>

<p>最新のバイナリは <a href="https://github.com/docker/buildx/releases/latest" target="_blank" rel="noopener" class="_">GitHub 上のリリースページ</a> からダウンロードすることもできます。</p>

<p>対応するバイナリの名前を変更して、OS において適当な場所にコピーします。</p>

<table>
  <thead>
    <tr>
      <th>OS</th>
      <th>バイナリ名</th>
      <th>配置するフォルダー</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Linux</td>
      <td><code class="highlighter-rouge">docker-buildx</code></td>
      <td><code class="highlighter-rouge">$HOME/.docker/cli-plugins</code></td>
    </tr>
    <tr>
      <td>macOS</td>
      <td><code class="highlighter-rouge">docker-buildx</code></td>
      <td><code class="highlighter-rouge">$HOME/.docker/cli-plugins</code></td>
    </tr>
    <tr>
      <td>Windows</td>
      <td><code class="highlighter-rouge">docker-buildx.exe</code></td>
      <td><code class="highlighter-rouge">%USERPROFILE%\.docker\cli-plugins</code></td>
    </tr>
  </tbody>
</table>

<p>あるいはシステムワイドなインストール先ディレクトリのいずれかにコピーします。</p>

<p>Unix 環境では以下とします。</p>

<ul>
  <li><code class="highlighter-rouge">/usr/local/lib/docker/cli-plugins</code> あるいは <code class="highlighter-rouge">/usr/local/libexec/docker/cli-plugins</code></li>
  <li><code class="highlighter-rouge">/usr/lib/docker/cli-plugins</code> あるいは <code class="highlighter-rouge">/usr/libexec/docker/cli-plugins</code></li>
</ul>

<p>Windows では以下とします。</p>

<ul>
  <li><code class="highlighter-rouge">C:\ProgramData\Docker\cli-plugins</code></li>
  <li><code class="highlighter-rouge">C:\Program Files\Docker\cli-plugins</code></li>
</ul>

<blockquote>
  <p><strong>メモ</strong></p>

  <p>On Unix environments, it may also be necessary to make it executable with <code class="highlighter-rouge">chmod +x</code>:</p>
  <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>chmod +x ~/.docker/cli-plugins/docker-buildx
</code></pre></div>  </div>
</blockquote>

<h3 id="dockerfile">Dockerfile</h3>

<p>Here is how to install and use Buildx inside a Dockerfile through the
<a href="https://hub.docker.com/r/docker/buildx-bin"><code class="highlighter-rouge">docker/buildx-bin</code></a> image:</p>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">FROM</span><span class="s"> docker</span>
<span class="k">COPY</span><span class="s"> --from=docker/buildx-bin:latest /buildx /usr/libexec/docker/cli-plugins/docker-buildx</span>
<span class="k">RUN </span>docker buildx version
</code></pre></div></div>

<h2 id="set-buildx-as-the-default-builder">Set buildx as the default builder</h2>

<p>Running the command <a href="/docs.docker.jp.onthefly/engine/reference/commandline/buildx_install/"><code class="highlighter-rouge">docker buildx install</code></a>
sets up docker builder command as an alias to <code class="highlighter-rouge">docker buildx</code>. This results in
the ability to have <a href="/docs.docker.jp.onthefly/engine/reference/commandline/build/"><code class="highlighter-rouge">docker build</code></a>
use the current buildx builder.</p>

<p>To remove this alias, run <a href="/docs.docker.jp.onthefly/engine/reference/commandline/buildx_uninstall/"><code class="highlighter-rouge">docker buildx uninstall</code></a>.</p>

<h2 id="build-with-buildx">buildx を使ったビルド</h2>

<p>新たなビルドを行うには<code class="highlighter-rouge">docker buildx build</code>を実行します。</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker buildx build <span class="nb">.</span>
<span class="go">[+] Building 8.4s (23/32)
</span><span class="gp"> =&gt;</span> ...
</code></pre></div></div>

<p>Buildx は Buildx エンジンを使ってビルドを行います。
ビルドを行うにあたって、環境変数<code class="highlighter-rouge">DOCKER_BUILDKIT=1</code>を設定する必要はありません。</p>

<p><code class="highlighter-rouge">docker buildx build</code>コマンドは<code class="highlighter-rouge">docker build</code>によって利用できる機能はすべて対応しています。
つまり出力設定、インラインビルドキャッシング、ターゲットプラットフォーム指定といったシ機能にも対応します。
さらに Buildx では、いつもの<code class="highlighter-rouge">docker build</code>では実現できない新機能として、マニフェスト一覧の生成、分散キャッシング、ビルド結果の OCI イメージ tarball への出力も実現します。</p>

<p>Buildx の実行においては、ドライバーの仕様に基づいて提供されるさまざまな設定を行うことができます。
現時点にて Docker がサポートするドライバーは以下のとおりです。
「docker」ドライバーは BuildKit ライブラリを利用しており、Docker デーモンバイナリにバンドルされます。
「docker-container」ドライバーは Docker コンテナー内部にて BuildKit を自動的に実行します。</p>

<p>Buildx の利用するドライバーが違っていても、ユーザー操作は非常によく似ています。
ただし現在のところ「docker」ドライバーが対応していない機能もあります。
これは Docker デーモンにバンドルされる BuildKit ライブラリが、さまざまなストレージコンポーネントを利用するためです。
「docker」ドライバーによりビルドされたイメージは、デフォルトではすべて自動的に「docker images」の一覧に加えられます。
一方で別のドライバーを用いる場合には、イメージの出力方法を<code class="highlighter-rouge">--output</code>により選択することが必要です。</p>

<h2 id="work-with-builder-instances">ビルダーインスタンスを使った操作</h2>

<p>Buildx は<code class="highlighter-rouge">docker</code>ドライバーが対応していれば、デフォルトでこのドライバーを利用します。
ユーザー操作は、ネイティブな<code class="highlighter-rouge">docker build</code>と非常によく似ています。
アプリケーションをビルドするには、ローカルで稼動する共有デーモンを利用する必要があります。</p>

<p>Buildx allows you to create new instances of isolated builders. You can use this
to get a scoped environment for your CI builds that does not change the state of
the shared daemon, or for isolating builds for different projects. You can create
a new instance for a set of remote nodes, forming a build farm, and quickly
switch between them.</p>

<p>新たなインスタンスを生成するには <a href="/docs.docker.jp.onthefly/engine/reference/commandline/buildx_create/"><code class="highlighter-rouge">docker buildx create</code></a> コマンドを利用します。
このコマンドを実行すると、現時点の設定に基づいて、単一ノードを持つ新たなビルダーインスタンスが生成されます。</p>

<p>新たなビルダーの生成時にリモートノードを利用するには、<code class="highlighter-rouge">DOCKER_HOST</code>を設定するか、あるいはリモートコンテキスト名を指定します。
新たなインスタンスが生成された後は、<a href="/docs.docker.jp.onthefly/engine/reference/commandline/buildx_inspect/"><code class="highlighter-rouge">docker buildx inspect</code></a>、<a href="/docs.docker.jp.onthefly/engine/reference/commandline/buildx_stop/"><code class="highlighter-rouge">docker buildx stop</code></a>、
<a href="/docs.docker.jp.onthefly/engine/reference/commandline/buildx_rm/"><code class="highlighter-rouge">docker buildx rm</code></a> コマンドを利用していき、そのライフサイクルを管理していきます。
利用可能なビルダーを一覧表示するには <a href="/docs.docker.jp.onthefly/engine/reference/commandline/buildx_ls/"><code class="highlighter-rouge">docker buildx ls</code></a> を利用します。
新しいビルダーを生成したら、そこに新たなノードを追加していくことができます。</p>

<p>To switch between different builders, use <a href="/docs.docker.jp.onthefly/engine/reference/commandline/buildx_use/"><code class="highlighter-rouge">docker buildx use &lt;name&gt;</code></a>.
After running this command, the build commands will automatically use this
builder.</p>

<p>Docker also features a <a href="/docs.docker.jp.onthefly/engine/reference/commandline/context/"><code class="highlighter-rouge">docker context</code></a>
command that you can use to provide names for remote Docker API endpoints. Buildx
integrates with <code class="highlighter-rouge">docker context</code> to ensure all the contexts automatically get a
default builder instance. You can also set the context name as the target when
you create a new builder instance or when you add a node to it.</p>

<h2 id="build-multi-platform-images">マルチプラットフォームのイメージビルド</h2>

<p>BuildKit はマルチプラットフォームのビルドを得意とするものとして設計されています。
対象となるプラットフォームは、ユーザーがビルド時に実行することになるアーキテクチャーやオペレーティングシステムに限りません。</p>

<p>ビルド実行する際には<code class="highlighter-rouge">--platform</code>フラグを用います。
このフラグにターゲットプラットフォームを指定しビルド出力します。
（たとえば<code class="highlighter-rouge">linux/amd64</code>、<code class="highlighter-rouge">linux/arm64</code>、darwin/amd64`）</p>

<p>When the current builder instance is backed by the <code class="highlighter-rouge">docker-container</code> driver,
you can specify multiple platforms together. In this case, it builds a manifest
list which contains images for all specified architectures. When you use this
image in <a href="/docs.docker.jp.onthefly/engine/reference/commandline/run/"><code class="highlighter-rouge">docker run</code></a> or
<a href="/docs.docker.jp.onthefly/engine/reference/commandline/service/"><code class="highlighter-rouge">docker service</code></a>, Docker picks
the correct image based on the node’s platform.</p>

<p>You can build multi-platform images using three different strategies that are
supported by Buildx and Dockerfiles:</p>

<ol>
  <li>カーネルにおいて QEMU エミュレーションサポートを利用します。</li>
  <li>同一のビルダーインスタンスを利用して、複数のネイティブなノードをビルドします。</li>
  <li>Dockerfile 内の 1 つのステージから、さまざまなアーキテクチャーに対するクロスコンパイルを行います。</li>
</ol>

<p>QEMU is the easiest way to get started if your node already supports it (for
example. if you are using Docker Desktop). It requires no changes to your
Dockerfile and BuildKit automatically detects the secondary architectures that
are available. When BuildKit needs to run a binary for a different architecture,
it automatically loads it through a binary registered in the <code class="highlighter-rouge">binfmt_misc</code>
handler.</p>

<p>For QEMU binaries registered with <code class="highlighter-rouge">binfmt_misc</code> on the host OS to work
transparently inside containers, they must be statically compiled and registered with the <code class="highlighter-rouge">fix_binary</code> flag.
This requires a kernel &gt;= 4.8 and binfmt-support &gt;= 2.1.7. You can check
for proper registration by checking if <code class="highlighter-rouge">F</code> is among the flags in
<code class="highlighter-rouge">/proc/sys/fs/binfmt_misc/qemu-*</code>. While Docker Desktop comes preconfigured
with <code class="highlighter-rouge">binfmt_misc</code> support for additional platforms, for other installations
it likely needs to be installed using <a href="https://github.com/tonistiigi/binfmt" target="_blank" rel="noopener" class="_"><code class="highlighter-rouge">tonistiigi/binfmt</code></a>
image.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker run <span class="nt">--privileged</span> <span class="nt">--rm</span> tonistiigi/binfmt <span class="nt">--install</span> all
</code></pre></div></div>

<p>Using multiple native nodes provide better support for more complicated cases
that are not handled by QEMU and generally have better performance. You can
add additional nodes to the builder instance using the <code class="highlighter-rouge">--append</code> flag.</p>

<p>Assuming contexts <code class="highlighter-rouge">node-amd64</code> and <code class="highlighter-rouge">node-arm64</code> exist in <code class="highlighter-rouge">docker context ls</code>;</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker buildx create <span class="nt">--use</span> <span class="nt">--name</span> mybuild node-amd64
<span class="go">mybuild
</span><span class="gp">$</span> docker buildx create <span class="nt">--append</span> <span class="nt">--name</span> mybuild node-arm64
<span class="gp">$</span> docker buildx build <span class="nt">--platform</span> linux/amd64,linux/arm64 <span class="nb">.</span>
</code></pre></div></div>

<p>Finally, depending on your project, the language that you use may have good
support for cross-compilation. In that case, multi-stage builds in Dockerfiles
can be effectively used to build binaries for the platform specified with
<code class="highlighter-rouge">--platform</code> using the native architecture of the build node. A list of build
arguments like <code class="highlighter-rouge">BUILDPLATFORM</code> and <code class="highlighter-rouge">TARGETPLATFORM</code> is available automatically
inside your Dockerfile and can be leveraged by the processes running as part
of your build.</p>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># syntax=docker/dockerfile:1</span>
<span class="k">FROM</span><span class="s"> --platform=$BUILDPLATFORM golang:alpine AS build</span>
<span class="k">ARG</span><span class="s"> TARGETPLATFORM</span>
<span class="k">ARG</span><span class="s"> BUILDPLATFORM</span>
<span class="k">RUN </span><span class="nb">echo</span> <span class="s2">"I am running on </span><span class="nv">$BUILDPLATFORM</span><span class="s2">, building for </span><span class="nv">$TARGETPLATFORM</span><span class="s2">"</span> <span class="o">&gt;</span> /log
<span class="k">FROM</span><span class="s"> alpine</span>
<span class="k">COPY</span><span class="s"> --from=build /log /log</span>
</code></pre></div></div>

<h2 id="high-level-build-options">High-level build options</h2>

<p>Buildx also aims to provide support for high-level build concepts that go beyond
invoking a single build command.</p>

<p>BuildKit efficiently handles multiple concurrent build requests and de-duplicating
work. The build commands can be combined with general-purpose command runners
(for example, <code class="highlighter-rouge">make</code>). However, these tools generally invoke builds in sequence
and therefore cannot leverage the full potential of BuildKit parallelization,
or combine BuildKit’s output for the user. For this use case, we have added a
command called <a href="/docs.docker.jp.onthefly/engine/reference/commandline/buildx_bake/"><code class="highlighter-rouge">docker buildx bake</code></a>.</p>

<p>The <code class="highlighter-rouge">bake</code> command supports building images from compose files, similar to
<a href="/docs.docker.jp.onthefly/compose/reference/build/"><code class="highlighter-rouge">docker-compose build</code></a>, but allowing all the
services to be built concurrently as part of a single request.</p>

<p>There is also support for custom build rules from HCL/JSON files allowing
better code reuse and different target groups. The design of bake is in very
early stages and we are looking for feedback from users. Let us know your
feedback by creating an issue in the
<a href="https://github.com/docker/buildx/issues" target="_blank" rel="noopener" class="_">Docker buildx</a>
GitHub repository.</p>
<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="/docs.docker.jp.onthefly/search/?q=Docker">Docker</a>, <a href="/docs.docker.jp.onthefly/search/?q=buildx">buildx</a>, <a href="/docs.docker.jp.onthefly/search/?q=multi-arch">multi-arch</a></span><div class="ratings-div"><div id="pd_rating_holder_8453675"></div></div></section>
                    </main>
                    <nav class="col-nav">
                        <div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
                            <div id="navbar" class="nav-sidebar">
                                <ul class="nav hidden-md hidden-lg"></ul>
                                <ul class="nav" id="jsTOCLeftNav"></ul>
                            </div>
                        </div>
                    </nav>
                    <div class="col-toc">
                        <div class="sidebar hidden-xs hidden-sm">
                            <div class="toc-nav">
                                <div class="feedback-links">
                                    <ul><li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/edit/master/src/buildx/working-with-buildx.ch"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> 本ページの編集</a></li><li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/issues/new?body=File: [buildx/working-with-buildx.ch](https://matsuand.github.io/docs.docker.jp.onthefly/buildx/working-with-buildx/)" class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 変更リクエスト</a></li>
                                        <li><div class="toggle-mode">
  <div class="icon">
      <i class="fa fa-sun-o" aria-hidden="true"></i>
  </div>
  <div class="toggle-switch">
      <label class="switch">
          <input type="checkbox" id="switch-style">
          <span class="slider round"></span>
      </label>
  </div>
  <div class="icon">
      <i class="fa fa-moon-o" aria-hidden="true"></i>
  </div>
</div>
</li>
                                    </ul>
                                </div><div id="side-toc-title">本ページ内:</div>
<ul id="my_toc" class="inline_toc">
  <li><a href="#overview" class="nomunge">概要</a></li>
  <li><a href="#install" class="nomunge">インストール</a>
    <ul>
      <li><a href="#windows-and-macos" class="nomunge">Windows と macOS</a></li>
      <li><a href="#linux-packages" class="nomunge">Linux パッケージ</a></li>
      <li><a href="#manual-download" class="nomunge">手動によるダウンロード</a></li>
      <li><a href="#dockerfile" class="nomunge">Dockerfile</a></li>
    </ul>
  </li>
  <li><a href="#set-buildx-as-the-default-builder" class="nomunge">Set buildx as the default builder</a></li>
  <li><a href="#build-with-buildx" class="nomunge">buildx を使ったビルド</a></li>
  <li><a href="#work-with-builder-instances" class="nomunge">ビルダーインスタンスを使った操作</a></li>
  <li><a href="#build-multi-platform-images" class="nomunge">マルチプラットフォームのイメージビルド</a></li>
  <li><a href="#high-level-build-options" class="nomunge">High-level build options</a></li>
</ul>

</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer">
          
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products" target="_blank" rel="noopener">製品ラインアップ</a></b></li>
                        <li><a href="https://www.docker.com/products/personal" target="_blank" rel="noopener">Docker Personal</a></li>
                        <li><a href="https://www.docker.com/products/pro" target="_blank" rel="noopener">Docker Pro</a></li>
                        <li><a href="https://www.docker.com/products/team" target="_blank" rel="noopener">Docker Team</a></li>
                        <li><a href="https://www.docker.com/products/business" target="_blank" rel="noopener">Docker Business</a></li>
                        <li><a href="https://www.docker.com/products" target="_blank" rel="noopener">サブスクリプション比較</a></li>
                        <li><b><a href="https://www.docker.com/" target="_blank" rel="noopener">機能</a></b></li>
                        <li><a href="https://www.docker.com/products/docker-desktop" target="_blank" rel="noopener">Docker Desktop</a></li>
                        <li><a href="https://www.docker.com/products/docker-hub" target="_blank" rel="noopener">Docker Hub</a></li>
                        <li><a href="https://www.docker.com/products/secure-software-supply-chain" target="_blank" rel="noopener">セキュアなソフトウェアサプライチェーン</a></li>
                        <li><a href="https://www.docker.com/products/container-runtime" target="_blank" rel="noopener">コンテナーランタイム</a></li>
                        <li><a href="https://www.docker.com/products/developer-tools" target="_blank" rel="noopener">開発ツール</a></li>
                        <li><a href="https://www.docker.com/partners" target="_blank" rel="noopener">信頼できるコンテント</a></li>
                        <li><a href="https://www.docker.com/roadmap" target="_blank" rel="noopener">Docker 製品ロードマップ</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop" target="_blank" rel="noopener">開発者</a></b></li>
                        <li><a href="https://www.docker.com/use-cases" target="_blank" rel="noopener">利用例</a></li>
                        <li><a href="https://docs.docker.com/get-started/" target="_blank" rel="noopener">はじめよう</a></li>
                        <li><a href="https://www.docker.com/blog/" target="_blank" rel="noopener">ブログ</a></li>
                        <li><a href="https://www.docker.com/docker-community" target="_blank" rel="noopener">コミュニティー</a></li>
                        <li><a href="https://www.docker.com/open-source" target="_blank" rel="noopener">オープンソース</a></li>
                        <li><a href="https://www.docker.com/community/get-involved/developer-preview" target="_blank" rel="noopener">プレビュープログラム</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop" target="_blank" rel="noopener">価格体系</a></b></li>
                        <li><a href="https://www.docker.com/pricing/faq" target="_blank" rel="noopener">FAQ</a></li>
                        <li><a href="https://www.docker.com/partners/programs" target="_blank" rel="noopener">Docker 認定公開者向けプログラム</a></li>
                        <li><a href="https://www.docker.com/partners" target="_blank" rel="noopener">パートナー</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/company" target="_blank" rel="noopener">会社概要</a></b></li>
                        <li><a href="https://www.docker.com/what-container" target="_blank" rel="noopener">コンテナーって何？</a></li>
                        <li><a href="https://www.docker.com/why-docker" target="_blank" rel="noopener">なぜ Docker？</a></li>
                        <li><a href="https://www.docker.com/events" target="_blank" rel="noopener">仮想イベント</a></li>
                        <li><a href="https://www.docker.com/swag" target="_blank" rel="noopener">Swag ストア
                        </a></li>
                        <li><a href="https://www.docker.com/company/newsroom" target="_blank" rel="noopener">ニュースルーム</a></li>
                        <li><a href="https://www.docker.com/careers" target="_blank" rel="noopener">採用情報</a></li>
                        <li><a href="https://www.docker.com/company/contact" target="_blank" rel="noopener">連絡先</a></li>
                        <li><a href="https://www.docker.com/customers" target="_blank" rel="noopener">顧客</a></li>
                        <li><a href="https://www.docker.com/newsletter-subscription" target="_blank" rel="noopener">ニュースレター</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="https://www.docker.com/legal/docker-terms-service" target="_blank" rel="noopener">サービス契約</a></li>
                        <li><a href="https://status.docker.com/" target="_blank" rel="noopener">ステータス</a></li>
                        <li><a href="https://www.docker.com/legal" target="_blank" rel="noopener">法的情報</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2013-2021 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="https://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="https://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-slideshare"><a href="https://www.slideshare.net/docker">Slideshare</a></li>
                    <li class="fa fa-reddit"><a href="https://www.reddit.com/r/docker">Reddit</a></li>
                </ul>
            </div>
        </div>
    </div>

    </footer>
    <script>const pageURL = "/buildx/working-with-buildx/";</script></body>
</html>
