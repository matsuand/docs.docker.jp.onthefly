<!-- Page generated 2022-02-11 11:11:10 +0900-->
<!DOCTYPE html>
<html lang="ja"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Compose ファイルのバージョンとアップグレード | Docker ドキュメント</title>
  <meta name="description" content="Compose ファイルリファレンス" />
  <meta name="keywords" content="fig, composition, compose, versions, upgrading, docker">
  <link rel="canonical" href="https://localhost:4000{{ site.baseurl }}/compose/compose-file/compose-versioning/" />

  <!-- favicon -->
  <link rel="icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <link rel="apple-touch-icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <meta name="msapplication-TileImage" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico">
  <meta property="og:image" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
  <meta name="theme-color" content="#2496ed" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- hide elements that are only shown without JavaScript enabled -->
  <script>document.documentElement.classList.add('js')</script>
  <style>html.js .no-js { display: none !important; }</style><script defer src="/docs.docker.jp.onthefly/js/theme-switcher.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/anchorlinks.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/jquery.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/docs.js"></script><script defer src="/docs.docker.jp.onthefly/js/search.js"></script><link rel="preload" as="font" href="https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0bf8pkAg.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/geomanist/hinted-Geomanist-Book.woff2"    type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/geomanist/hinted-Geomanist-Regular.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/glyphicons-halflings-regular.woff2"       type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/fontawesome-webfont.woff2?v=4.7.0"        type="font/woff2" crossorigin="anonymous">

  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/font-awesome.min.css">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/bootstrap.min.css">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/style.css" id="pagestyle">

  <!-- SEO stuff -->
  <meta name="twitter:title" itemprop="title name" content="Compose ファイルのバージョンとアップグレード"/>
  <meta name="twitter:description" property="og:description" itemprop="description" content="" />
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:domain" content="matsuand.github.io"/>
  <meta name="twitter:site" content="@docker_docs"/>
  <meta name="twitter:url" content="https://twitter.com/docker_docs"/>
  <meta name="twitter:image:src" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta name="twitter:image:alt" content="Docker ドキュメント"/>
  <meta property="og:title" content="Compose ファイルのバージョンとアップグレード" />
  <meta property="og:description" content="Compose ファイルリファレンス" />
  <meta property="og:type" content="website"/>
  <meta property="og:updated_time" itemprop="dateUpdated" content="2022-02-11T11:11:10+09:00"/>
  <meta property="og:image" itemprop="image primaryImageOfPage" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta property="og:locale" content="ja_JP" />
  <meta property="og:url" content="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-versioning/" />
  <meta property="og:site_name" content="Docker ドキュメント" />
  <meta property="article:published_time" itemprop="datePublished" content="2022-02-11T11:11:10+09:00"/>
  <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebPage","headline":"Compose ファイルのバージョンとアップグレード","description":"Compose ファイルリファレンス","url":"https://docs.docker.com/compose/compose-file/compose-versioning/"}</script>
  <!-- END SEO STUFF -->
</head>
<body class="colums">
    <header>
        <nav class="nav-secondary navbar navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="/docs.docker.jp.onthefly/">
                <img class="logo" src="/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs" width="160" height="28" />
            </a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="logo-mobile">
    <a href="/docs.docker.jp.onthefly/">
        <img src="/docs.docker.jp.onthefly/images/docker-icon.svg" alt="Docker Docs" title="Docker Docs" width="30" height="30" />
    </a>
</div>
<div class="search-form" id="search-div">
    <form class="search-form form-inline" id="searchForm" action="/docs.docker.jp.onthefly/search/" method="get">
        <label for="st-search-input" class="sr-only">検索</label>
        <input class="search-field form-control ds-input" id="st-search-input" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteResults"></div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container hidden-sm hidden-xs">
    <div>
        <ul class="nav navbar-nav"><li><a href="/docs.docker.jp.onthefly/" id="home">ホーム</a></li><li><a href="/docs.docker.jp.onthefly/get-started/overview/" id="guides">ガイド</a></li><li><a href="/docs.docker.jp.onthefly/desktop/" id="manuals">マニュアル</a></li><li><a href="/docs.docker.jp.onthefly/reference/" id="reference">リファレンス</a></li><li><a href="/docs.docker.jp.onthefly/samples/" id="samples">サンプル</a></li></ul>
    </div>
    <div class="ctrl-right">
        <a href="javascript:void(0)" id="menu-toggle" aria-label="現在ページのメニュートグル"><i class="fa fa-indent" aria-hidden="true"></i></a>
    </div>
</div>
<div class="row hidden-sm hidden-xs">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li><a href="/docs.docker.jp.onthefly/" title="Docker docs homepage"><i class="fa fa-home"></i></a></li>
            <li><a href="/docs.docker.jp.onthefly/reference/">リファレンス</a></li><li><a href="/docs.docker.jp.onthefly/compose/compose-file/">Compose ファイルリファレンス</a></li><li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-versioning/">バージョンとアップグレードについて</a></li></ol>
    </nav>
</div></div>
    </div>
</nav>

    </header>
    <div class="wrapper right-open">
        <div class="container-fluid">
            <div class="row">
                <div class="col-body">
                    <main class="col-content content">
                        <section class="section"><h1>Compose ファイルのバージョンとアップグレード</h1><p><em class="reading-time">読む時間の目安: 14 分</em></p><p>Compose ファイルは <a href="https://yaml.org">YAML</a> 形式のファイルであり、Docker アプリケーションに対してサービス、ネットワーク、ボリュームを定義します。</p>

<p>Compose ファイルのフォーマットは、各バージョンごとに以下のリファレンスに記述しています。</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"><strong>リファレンスファイル</strong></th>
      <th style="text-align: left"><strong>各バージョンでの変更点</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><a href="/docs.docker.jp.onthefly/compose/compose-file/">Compose 仕様</a> （最新版、利用を推奨）</td>
      <td style="text-align: left"><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-versioning/#versioning">バージョンづけ</a></td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/">バージョン 3</a></td>
      <td style="text-align: left"><a href="#version-3">バージョン 3 での変更</a></td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/">バージョン 2</a></td>
      <td style="text-align: left"><a href="#version-2">バージョン 2 での変更</a></td>
    </tr>
    <tr>
      <td style="text-align: left">バージョン 1 (非推奨)</td>
      <td style="text-align: left"><a href="#version-1-deprecated">バージョン 1 での変更</a></td>
    </tr>
  </tbody>
</table>

<p>The topics below explain the differences among the versions, Docker Engine
compatibility, and <a href="#upgrading">how to upgrade</a>.</p>

<h2 id="compatibility-matrix">互換マトリックス</h2>

<p>There are several versions of the Compose file format – 1, 2, 2.x, and 3.x</p>

<p>以下の一覧表は、Compose ファイルのどのバージョンが Docker リリースをサポートしているかを示すものです。</p>

<table>
  <thead>
    <tr>
      <th><strong>Compose ファイルフォーマット</strong></th>
      <th><strong>Docker Engine リリース</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Compose 仕様</td>
      <td>19.03.0 以上</td>
    </tr>
    <tr>
      <td>3.8</td>
      <td>19.03.0 以上</td>
    </tr>
    <tr>
      <td>3.7</td>
      <td>18.06.0 以上</td>
    </tr>
    <tr>
      <td>3.6</td>
      <td>18.02.0 以上</td>
    </tr>
    <tr>
      <td>3.5</td>
      <td>17.12.0 以上</td>
    </tr>
    <tr>
      <td>3.4</td>
      <td>17.09.0 以上</td>
    </tr>
    <tr>
      <td>3.3</td>
      <td>17.06.0 以上</td>
    </tr>
    <tr>
      <td>3.2</td>
      <td>17.04.0 以上</td>
    </tr>
    <tr>
      <td>3.1</td>
      <td>1.13.1 以上</td>
    </tr>
    <tr>
      <td>3.0</td>
      <td>1.13.0 以上</td>
    </tr>
    <tr>
      <td>2.4</td>
      <td>17.12.0 以上</td>
    </tr>
    <tr>
      <td>2.3</td>
      <td>17.06.0 以上</td>
    </tr>
    <tr>
      <td>2.2</td>
      <td>1.13.0 以上</td>
    </tr>
    <tr>
      <td>2.1</td>
      <td>1.12.0 以上</td>
    </tr>
    <tr>
      <td>2.0</td>
      <td>1.10.0 以上</td>
    </tr>
  </tbody>
</table>

<p>この表に示している Compose のファイルフォーマットバージョンに加えて、Compose そのもののリリーススケジュールがあります。
詳しくは <a href="https://github.com/docker/compose/releases/">Compose リリース</a>に示されています。
しかしファイルフォーマットのバージョンは、個々のリリースに合わせてバージョンアップする必要がありません。
たとえば Compose ファイルフォーマット 3.0 が初めて導入されたのは  <a href="https://github.com/docker/compose/releases/tag/1.10.0">Compose リリース 1.10.0</a> ですが、その後のリリースの中で、徐々にバージョンアップを行ってきています。</p>

<p>最新の Compose ファイルフォーマットは <a href="https://github.com/compose-spec/compose-spec/blob/master/spec.md" target="_blank" rel="noopener" class="_">Compose 仕様</a> において定義されていて、Docker Compose <strong>1.27.0 以上</strong> において実装されています。</p>

<blockquote>
  <p>Looking for more detail on Docker and Compose compatibility?</p>

  <p>We recommend keeping up-to-date with newer releases as much as possible.
However, if you are using an older version of Docker and want to determine which
Compose release is compatible, refer to the <a href="https://github.com/docker/compose/releases/">Compose release
notes</a>. Each set of release notes
gives details on which versions of Docker Engine are supported, along
with compatible Compose file format versions. (See also, the discussion in
<a href="https://github.com/docker/docker.github.io/issues/3404">issue #3404</a>.)</p>
</blockquote>

<p>For details on versions and how to upgrade, see
<a href="/docs.docker.jp.onthefly/compose/compose-file/compose-versioning/#versioning">Versioning</a> and
<a href="/docs.docker.jp.onthefly/compose/compose-file/compose-versioning/#upgrading">Upgrading</a>.</p>

<h2 id="versioning">バージョンづけ</h2>

<p>Compose ファイルフォーマットには、以下の古くなった 3 つのバージョンがあります。</p>

<ul>
  <li>
    <p>バージョン 1。
YAML ファイルのルートにおいて<code class="highlighter-rouge">version</code>キーを省略することで指定されます。</p>
  </li>
  <li>
    <p>バージョン 2.x。
YAML ファイルのルートにおいて、<code class="highlighter-rouge">version: '2'</code>または<code class="highlighter-rouge">version: '2.1'</code>などのように記述することで指定されます。</p>
  </li>
  <li>
    <p>Version 3.x, designed to be cross-compatible between Compose and the Docker Engine’s
<a href="/docs.docker.jp.onthefly/engine/swarm/">swarm mode</a>. This is specified with a <code class="highlighter-rouge">version: '3'</code> or <code class="highlighter-rouge">version: '3.1'</code>, etc., entry at the root of the YAML.</p>
  </li>
</ul>

<p>The latest and recommended version of the Compose file format is defined by the <a href="https://github.com/compose-spec/compose-spec/blob/master/spec.md">Compose Specification</a>. This format merges the 2.x and 3.x versions and is implemented by <strong>Compose 1.27.0+</strong>.</p>

<blockquote>
  <h3 id="v2-and-v3-declaration">v2 and v3 Declaration</h3>

  <p><strong>Note</strong>: When specifying the Compose file version to use, make sure to
specify both the <em>major</em> and <em>minor</em> numbers. If no minor version is given,
<code class="highlighter-rouge">0</code> is used by default and not the latest minor version.</p>
</blockquote>

<p>The <a href="#compatibility-matrix">Compatibility Matrix</a> shows Compose file versions mapped to Docker Engine releases.</p>

<p>To move your project to a later version, see the <a href="#upgrading">Upgrading</a>
section.</p>

<blockquote>
  <p><strong>Note</strong>: If you’re using
<a href="/docs.docker.jp.onthefly/compose/extends/#multiple-compose-files">multiple Compose files</a> or
<a href="/docs.docker.jp.onthefly/compose/extends/#extending-services">extending services</a>, each file must be of the
same version - you cannot, for example, mix version 1 and 2 in a single
project.</p>
</blockquote>

<p>Several things differ depending on which version you use:</p>

<ul>
  <li>The structure and permitted configuration keys</li>
  <li>The minimum Docker Engine version you must be running</li>
  <li>Compose’s behaviour with regards to networking</li>
</ul>

<p>These differences are explained below.</p>

<h3 id="version-1-deprecated">バージョン 1（非推奨）</h3>

<p>Compose files that do not declare a version are considered “version 1”. In those
files, all the <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#service-configuration-reference">services</a> are
declared at the root of the document.</p>

<p>Version 1 is supported by <strong>Compose up to 1.6.x</strong>. It will be deprecated in a
future Compose release.</p>

<p>Version 1 files cannot declare named
<a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#volume-configuration-reference">volumes</a>, <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#network-configuration-reference">networks</a> or
<a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#args">build arguments</a>.</p>

<p>Compose does not take advantage of <a href="/docs.docker.jp.onthefly/compose/networking/">networking</a> when you
use version 1: every container is placed on the default <code class="highlighter-rouge">bridge</code> network and is
reachable from every other container at its IP address. You need to use
<code class="highlighter-rouge">links</code> to enable discovery between containers.</p>

<p>Example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>web:
  build: .
  ports:
   - "8000:5000"
  volumes:
   - .:/code
  links:
   - redis
redis:
  image: redis
</code></pre></div></div>

<h3 id="version-2">Version 2</h3>

<p>Compose files using the version 2 syntax must indicate the version number at
the root of the document. All <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#service-configuration-reference">services</a>
must be declared under the <code class="highlighter-rouge">services</code> key.</p>

<p>Version 2 files are supported by <strong>Compose 1.6.0+</strong> and require a Docker Engine
of version <strong>1.10.0+</strong>.</p>

<p>Named <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#volume-configuration-reference">volumes</a> can be declared under the
<code class="highlighter-rouge">volumes</code> key, and <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#network-configuration-reference">networks</a> can be declared
under the <code class="highlighter-rouge">networks</code> key.</p>

<p>By default, every container joins an application-wide default network, and is
discoverable at a hostname that’s the same as the service name. This means
<a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#links">links</a> are largely unnecessary. For more details, see
<a href="/docs.docker.jp.onthefly/compose/networking/">Networking in Compose</a>.</p>

<blockquote>
  <p><strong>Note</strong></p>

  <p>When specifying the Compose file version to use, make sure to
specify both the <em>major</em> and <em>minor</em> numbers. If no minor version is given,
<code class="highlighter-rouge">0</code> is used by default and not the latest minor version. As a result, features added in later versions will not be supported. For example:</p>

  <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">version</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2"</span>
</code></pre></div>  </div>

  <p>is equivalent to:</p>

  <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">version</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2.0"</span>
</code></pre></div>  </div>
</blockquote>

<p>Simple example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>version: "2.4"
services:
  web:
    build: .
    ports:
     - "8000:5000"
    volumes:
     - .:/code
  redis:
    image: redis
</code></pre></div></div>

<p>A more extended example, defining volumes and networks:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>version: "2.4"
services:
  web:
    build: .
    ports:
     - "8000:5000"
    volumes:
     - .:/code
    networks:
      - front-tier
      - back-tier
  redis:
    image: redis
    volumes:
      - redis-data:/var/lib/redis
    networks:
      - back-tier
volumes:
  redis-data:
    driver: local
networks:
  front-tier:
    driver: bridge
  back-tier:
    driver: bridge
</code></pre></div></div>

<p>Several other options were added to support networking, such as:</p>

<ul>
  <li>
    <p><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#aliases"><code class="highlighter-rouge">aliases</code></a></p>
  </li>
  <li>
    <p>The <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#depends_on"><code class="highlighter-rouge">depends_on</code></a> option can be used in place of links to indicate dependencies
between services and startup order.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>version: "2.4"
services:
  web:
    build: .
    depends_on:
      - db
      - redis
  redis:
    image: redis
  db:
    image: postgres
</code></pre></div>    </div>
  </li>
  <li>
    <p><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#ipv4_address-ipv6_address"><code class="highlighter-rouge">ipv4_address</code>, <code class="highlighter-rouge">ipv6_address</code></a></p>
  </li>
</ul>

<p><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#variable-substitution">Variable substitution</a> also was added in Version 2.</p>

<h3 id="version-21">Version 2.1</h3>

<p>An upgrade of <a href="#version-2">version 2</a> that introduces new parameters only
available with Docker Engine version <strong>1.12.0+</strong>. Version 2.1 files are
supported by <strong>Compose 1.9.0+</strong>.</p>

<p>Introduces the following additional parameters:</p>

<ul>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#link_local_ips"><code class="highlighter-rouge">link_local_ips</code></a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#isolation-1"><code class="highlighter-rouge">isolation</code></a> in build configurations and
service definitions</li>
  <li><code class="highlighter-rouge">labels</code> for <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#volume-configuration-reference">volumes</a>,
<a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#network-configuration-reference">networks</a>, and
<a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#build">build</a></li>
  <li><code class="highlighter-rouge">name</code> for <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#volume-configuration-reference">volumes</a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#userns_mode"><code class="highlighter-rouge">userns_mode</code></a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#healthcheck"><code class="highlighter-rouge">healthcheck</code></a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#sysctls"><code class="highlighter-rouge">sysctls</code></a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#pids_limit"><code class="highlighter-rouge">pids_limit</code></a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#cpu-and-other-resources"><code class="highlighter-rouge">oom_kill_disable</code></a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#cpu-and-other-resources"><code class="highlighter-rouge">cpu_period</code></a></li>
</ul>

<h3 id="version-22">Version 2.2</h3>

<p>An upgrade of <a href="#version-21">version 2.1</a> that introduces new parameters only
available with Docker Engine version <strong>1.13.0+</strong>.  Version 2.2 files are
supported by <strong>Compose 1.13.0+</strong>. This version also allows you to specify
default scale numbers inside the service’s configuration.</p>

<p>Introduces the following additional parameters:</p>

<ul>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#init"><code class="highlighter-rouge">init</code></a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#scale"><code class="highlighter-rouge">scale</code></a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#cpu_rt_runtime-cpu_rt_period"><code class="highlighter-rouge">cpu_rt_runtime</code> and <code class="highlighter-rouge">cpu_rt_period</code></a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#network"><code class="highlighter-rouge">network</code></a> for <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#build">build configurations</a></li>
</ul>

<h3 id="version-23">Version 2.3</h3>

<p>An upgrade of <a href="#version-22">version 2.2</a> that introduces new parameters only
available with Docker Engine version <strong>17.06.0+</strong>. Version 2.3 files are
supported by <strong>Compose 1.16.0+</strong>.</p>

<p>Introduces the following additional parameters:</p>

<ul>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#target"><code class="highlighter-rouge">target</code></a>, <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#extra_hosts-1"><code class="highlighter-rouge">extra_hosts</code></a> and
<a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#shm_size"><code class="highlighter-rouge">shm_size</code></a> for <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#build">build configurations</a></li>
  <li><code class="highlighter-rouge">start_period</code> for <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#healthcheck"><code class="highlighter-rouge">healthchecks</code></a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#long-syntax">“Long syntax” for volumes</a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#runtime"><code class="highlighter-rouge">runtime</code></a> for service definitions</li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#device_cgroup_rules"><code class="highlighter-rouge">device_cgroup_rules</code></a></li>
</ul>

<h3 id="バージョン-24">バージョン 2.4</h3>

<p>An upgrade of <a href="#version-23">version 2.3</a> that introduces new parameters only
available with Docker Engine version <strong>17.12.0+</strong>. Version 2.4 files are
supported by <strong>Compose 1.21.0+</strong>.</p>

<p>以下のパラメーターが追加されました。</p>

<ul>
  <li>サービス定義における <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#platform"><code class="highlighter-rouge">platform</code></a></li>
  <li>Support for extension fields at the root of service, network, and volume
definitions</li>
</ul>

<h3 id="バージョン-3">バージョン 3</h3>

<p>Designed to be cross-compatible between Compose and the Docker Engine’s
<a href="/engine/swarm/">swarm mode</a>, version 3 removes several options and adds
several more.</p>

<ul>
  <li>
    <p>Removed: <code class="highlighter-rouge">volume_driver</code>, <code class="highlighter-rouge">volumes_from</code>, <code class="highlighter-rouge">cpu_shares</code>, <code class="highlighter-rouge">cpu_quota</code>,
<code class="highlighter-rouge">cpuset</code>, <code class="highlighter-rouge">mem_limit</code>, <code class="highlighter-rouge">memswap_limit</code>, <code class="highlighter-rouge">extends</code>, <code class="highlighter-rouge">group_add</code>. See
the <a href="#upgrading">upgrading</a> guide for how to migrate away from these.
(For more information on <code class="highlighter-rouge">extends</code>, see <a href="/docs.docker.jp.onthefly/compose/extends/#extending-services">Extending services</a>.)</p>
  </li>
  <li>
    <p>Added: <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#deploy">deploy</a></p>
  </li>
</ul>

<blockquote>
  <p><strong>Note</strong>: When specifying the Compose file version to use, make sure to
specify both the <em>major</em> and <em>minor</em> numbers. If no minor version is given,
<code class="highlighter-rouge">0</code> is used by default and not the latest minor version. As a result, features added in
later versions will not be supported. For example:</p>

  <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">version</span><span class="pi">:</span> <span class="s2">"</span><span class="s">3"</span>
</code></pre></div>  </div>

  <p>is equivalent to:</p>

  <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">version</span><span class="pi">:</span> <span class="s2">"</span><span class="s">3.0"</span>
</code></pre></div>  </div>
</blockquote>

<h3 id="version-31">Version 3.1</h3>

<p>An upgrade of <a href="#version-3">version 3</a> that introduces new parameters only
available with Docker Engine version <strong>1.13.1+</strong>, and higher.</p>

<p>Introduces the following additional parameters:</p>

<ul>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#secrets"><code class="highlighter-rouge">secrets</code></a></li>
</ul>

<h3 id="version-32">Version 3.2</h3>

<p>An upgrade of <a href="#version-3">version 3</a> that introduces new parameters only
available with Docker Engine version <strong>17.04.0+</strong>, and higher.</p>

<p>Introduces the following additional parameters:</p>

<ul>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#cache_from"><code class="highlighter-rouge">cache_from</code></a> in <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#build">build configurations</a></li>
  <li>Long syntax for <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#ports">ports</a> and <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#volumes">volume mounts</a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#attachable"><code class="highlighter-rouge">attachable</code></a> network driver option</li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#endpoint_mode">deploy <code class="highlighter-rouge">endpoint_mode</code></a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#placement">deploy placement <code class="highlighter-rouge">preference</code></a></li>
</ul>

<h3 id="version-33">Version 3.3</h3>

<p>An upgrade of <a href="#version-3">version 3</a> that introduces new parameters only
available with Docker Engine version <strong>17.06.0+</strong>, and higher.</p>

<p>Introduces the following additional parameters:</p>

<ul>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#build">build <code class="highlighter-rouge">labels</code></a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#credential_spec"><code class="highlighter-rouge">credential_spec</code></a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#configs"><code class="highlighter-rouge">configs</code></a></li>
</ul>

<h3 id="version-34">Version 3.4</h3>

<p>An upgrade of <a href="#version-3">version 3</a> that introduces new parameters. It is
only available with Docker Engine version <strong>17.09.0</strong> and higher.</p>

<p>Introduces the following additional parameters:</p>

<ul>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#target"><code class="highlighter-rouge">target</code></a> and <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#network"><code class="highlighter-rouge">network</code></a> in
<a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#build">build configurations</a></li>
  <li><code class="highlighter-rouge">start_period</code> for <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#healthcheck"><code class="highlighter-rouge">healthchecks</code></a></li>
  <li><code class="highlighter-rouge">order</code> for <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#update_config">update configurations</a></li>
  <li><code class="highlighter-rouge">name</code> for <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#volume-configuration-reference">volumes</a></li>
</ul>

<h3 id="version-35">Version 3.5</h3>

<p>An upgrade of <a href="#version-3">version 3</a> that introduces new parameters. It is
only available with Docker Engine version <strong>17.12.0</strong> and higher.</p>

<p>Introduces the following additional parameters:</p>

<ul>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#isolation"><code class="highlighter-rouge">isolation</code></a> in service definitions</li>
  <li><code class="highlighter-rouge">name</code> for networks, secrets and configs</li>
  <li><code class="highlighter-rouge">shm_size</code> in <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#build">build configurations</a></li>
</ul>

<h3 id="version-36">Version 3.6</h3>

<p>An upgrade of <a href="#version-3">version 3</a> that introduces new parameters. It is
only available with Docker Engine version <strong>18.02.0</strong> and higher.</p>

<p>Introduces the following additional parameters:</p>

<ul>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#long-syntax-3"><code class="highlighter-rouge">tmpfs</code> size</a> for <code class="highlighter-rouge">tmpfs</code>-type mounts</li>
</ul>

<h3 id="version-37">Version 3.7</h3>

<p>An upgrade of <a href="#version-3">version 3</a> that introduces new parameters. It is
only available with Docker Engine version <strong>18.06.0</strong> and higher.</p>

<p>Introduces the following additional parameters:</p>

<ul>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#init"><code class="highlighter-rouge">init</code></a> in service definitions</li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#rollback_config"><code class="highlighter-rouge">rollback_config</code></a> in deploy configurations</li>
  <li>Support for extension fields at the root of service, network, volume, secret
and config definitions</li>
</ul>

<h3 id="version-38">Version 3.8</h3>

<p>An upgrade of <a href="#version-3">version 3</a> that introduces new parameters. It is
only available with Docker Engine version <strong>19.03.0</strong> and higher.</p>

<p>Introduces the following additional parameters:</p>

<ul>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#max_replicas_per_node"><code class="highlighter-rouge">max_replicas_per_node</code></a> in placement
configurations</li>
  <li><code class="highlighter-rouge">template_driver</code> option for <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#configs-configuration-reference">config</a>
 and <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#secrets-configuration-reference">secret</a> configurations. This
 option is only supported when deploying swarm services using
 <code class="highlighter-rouge">docker stack deploy</code>.</li>
  <li><code class="highlighter-rouge">driver</code> and <code class="highlighter-rouge">driver_opts</code> option for <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#secrets-configuration-reference">secret</a>
 configurations. This option is only supported when deploying swarm services
 using <code class="highlighter-rouge">docker stack deploy</code>.</li>
</ul>

<h2 id="upgrading">Upgrading</h2>

<h3 id="version-2x-to-3x">Version 2.x to 3.x</h3>

<p>Between versions 2.x and 3.x, the structure of the Compose file is the same, but
several options have been removed:</p>

<ul>
  <li>
    <p><code class="highlighter-rouge">volume_driver</code>: Instead of setting the volume driver on the service, define
a volume using the
<a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#volume-configuration-reference">top-level <code class="highlighter-rouge">volumes</code> option</a>
and specify the driver there.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>version: "3.9"
services:
  db:
    image: postgres
    volumes:
      - data:/var/lib/postgresql/data
volumes:
  data:
    driver: mydriver
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="highlighter-rouge">volumes_from</code>: To share a volume between services, define it using the
<a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#volume-configuration-reference">top-level <code class="highlighter-rouge">volumes</code> option</a>
and reference it from each service that shares it using the
<a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#driver">service-level <code class="highlighter-rouge">volumes</code> option</a>.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">cpu_shares</code>, <code class="highlighter-rouge">cpu_quota</code>, <code class="highlighter-rouge">cpuset</code>, <code class="highlighter-rouge">mem_limit</code>, <code class="highlighter-rouge">memswap_limit</code>: These
have been replaced by the <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#resources">resources</a> key under
<code class="highlighter-rouge">deploy</code>. <code class="highlighter-rouge">deploy</code> configuration only takes effect when using
<code class="highlighter-rouge">docker stack deploy</code>, and is ignored by <code class="highlighter-rouge">docker-compose</code>.</p>
  </li>
  <li><code class="highlighter-rouge">extends</code>: This option has been removed for <code class="highlighter-rouge">version: "3.x"</code>
Compose files. (For more information, see <a href="/docs.docker.jp.onthefly/compose/extends/#extending-services">Extending services</a>.)</li>
  <li><code class="highlighter-rouge">group_add</code>: This option has been removed for <code class="highlighter-rouge">version: "3.x"</code> Compose files.</li>
  <li><code class="highlighter-rouge">pids_limit</code>: This option has not been introduced in <code class="highlighter-rouge">version: "3.x"</code> Compose files.</li>
  <li><code class="highlighter-rouge">link_local_ips</code> in <code class="highlighter-rouge">networks</code>: This option has not been introduced in
<code class="highlighter-rouge">version: "3.x"</code> Compose files.</li>
</ul>

<h3 id="version-1-to-2x">Version 1 to 2.x</h3>

<p>In the majority of cases, moving from version 1 to 2 is a very simple process:</p>

<ol>
  <li>Indent the whole file by one level and put a <code class="highlighter-rouge">services:</code> key at the top.</li>
  <li>Add a <code class="highlighter-rouge">version: '2'</code> line at the top of the file.</li>
</ol>

<p>It’s more complicated if you’re using particular configuration features:</p>

<ul>
  <li>
    <p><code class="highlighter-rouge">dockerfile</code>: This now lives under the <code class="highlighter-rouge">build</code> key:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>build:
  context: .
  dockerfile: Dockerfile-alternate
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="highlighter-rouge">log_driver</code>, <code class="highlighter-rouge">log_opt</code>: These now live under the <code class="highlighter-rouge">logging</code> key:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>logging:
  driver: syslog
  options:
    syslog-address: "tcp://192.168.0.42:123"
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="highlighter-rouge">links</code> with environment variables: environment variables created by
links, such as <code class="highlighter-rouge">CONTAINERNAME_PORT</code>, ` have been deprecated for some time. In the new Docker network system,
they have been removed. You should either connect directly to the
appropriate hostname or set the relevant environment variable yourself,
using the link hostname:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>web:
  links:
    - db
  environment:
    - DB_PORT=tcp://db:5432
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="highlighter-rouge">external_links</code>: Compose uses Docker networks when running version 2
projects, so links behave slightly differently. In particular, two
containers must be connected to at least one network in common in order to
communicate, even if explicitly linked together.</p>

    <p>Either connect the external container to your app’s
<a href="/docs.docker.jp.onthefly/compose/networking/">default network</a>, or connect both the external container and
your service’s containers to an
<a href="/docs.docker.jp.onthefly/compose/networking/#use-a-pre-existing-network">external network</a>.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">net</code>: This is now replaced by <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#network_mode">network_mode</a>:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>net: host    -&gt;  network_mode: host
net: bridge  -&gt;  network_mode: bridge
net: none    -&gt;  network_mode: none
</code></pre></div>    </div>

    <p>If you’re using <code class="highlighter-rouge">net: "container:[service name]"</code>, you must now use
<code class="highlighter-rouge">network_mode: "service:[service name]"</code> instead.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>net: "container:web"  -&gt;  network_mode: "service:web"
</code></pre></div>    </div>

    <p>If you’re using <code class="highlighter-rouge">net: "container:[container name/id]"</code>, the value does not
need to change.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>net: "container:cont-name"  -&gt;  network_mode: "container:cont-name"
net: "container:abc12345"   -&gt;  network_mode: "container:abc12345"
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="highlighter-rouge">volumes</code> with named volumes: these must now be explicitly declared in a
top-level <code class="highlighter-rouge">volumes</code> section of your Compose file. If a service mounts a
named volume called <code class="highlighter-rouge">data</code>, you must declare a <code class="highlighter-rouge">data</code> volume in your
top-level <code class="highlighter-rouge">volumes</code> section. The whole file might look like this:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>version: "2.4"
services:
  db:
    image: postgres
    volumes:
      - data:/var/lib/postgresql/data
volumes:
  data: {}
</code></pre></div>    </div>

    <p>By default, Compose creates a volume whose name is prefixed with your
project name. If you want it to just be called <code class="highlighter-rouge">data</code>, declare it as
external:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>volumes:
  data:
    external: true
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="compatibility-mode">Compatibility mode</h2>

<p><code class="highlighter-rouge">docker-compose</code> 1.20.0 introduces a new <code class="highlighter-rouge">--compatibility</code> flag designed to
help developers transition to version 3 more easily. When enabled,
<code class="highlighter-rouge">docker-compose</code> reads the <code class="highlighter-rouge">deploy</code> section of each service’s definition and
attempts to translate it into the equivalent version 2 parameter. Currently,
the following deploy keys are translated:</p>

<ul>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#resources">resources</a> limits and memory reservations</li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#replicas">replicas</a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/#restart_policy">restart_policy</a> <code class="highlighter-rouge">condition</code> and <code class="highlighter-rouge">max_attempts</code></li>
</ul>

<p>All other keys are ignored and produce a warning if present. You can review
the configuration that will be used to deploy by using the <code class="highlighter-rouge">--compatibility</code>
flag with the <code class="highlighter-rouge">config</code> command.</p>

<blockquote>
  <p>Do not use this in production!</p>

  <p>We recommend against using <code class="highlighter-rouge">--compatibility</code> mode in production. Because the
resulting configuration is only an approximate using non-Swarm mode
properties, it may produce unexpected results.</p>
</blockquote>

<h2 id="compose-file-format-references">Compose file format references</h2>
<ul>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/">Compose Specification</a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v3/">Compose file version 3</a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/">Compose file version 2</a></li>
</ul>
<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="/docs.docker.jp.onthefly/search/?q=fig">fig</a>, <a href="/docs.docker.jp.onthefly/search/?q=composition">composition</a>, <a href="/docs.docker.jp.onthefly/search/?q=compose">compose</a>, <a href="/docs.docker.jp.onthefly/search/?q=versions">versions</a>, <a href="/docs.docker.jp.onthefly/search/?q=upgrading">upgrading</a>, <a href="/docs.docker.jp.onthefly/search/?q=docker">docker</a></span><div class="ratings-div"><div id="pd_rating_holder_8453675"></div></div></section>
                    </main>
                    <nav class="col-nav">
                        <div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
                            <div id="navbar" class="nav-sidebar">
                                <ul class="nav hidden-md hidden-lg"></ul>
                                <ul class="nav" id="jsTOCLeftNav"></ul>
                            </div>
                        </div>
                    </nav>
                    <div class="col-toc">
                        <div class="sidebar hidden-xs hidden-sm">
                            <div class="toc-nav">
                                <div class="feedback-links">
                                    <ul><li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/edit/master/src/compose/compose-file/compose-versioning.ch"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> 本ページの編集</a></li><li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/issues/new?body=File: [compose/compose-file/compose-versioning.ch](https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-versioning/)" class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 変更リクエスト</a></li>
                                        <li><div class="toggle-mode">
  <div class="icon">
      <i class="fa fa-sun-o" aria-hidden="true"></i>
  </div>
  <div class="toggle-switch">
      <label class="switch">
          <input type="checkbox" id="switch-style">
          <span class="slider round"></span>
      </label>
  </div>
  <div class="icon">
      <i class="fa fa-moon-o" aria-hidden="true"></i>
  </div>
</div>
</li>
                                    </ul>
                                </div><div id="side-toc-title">本ページ内:</div>
<ul id="my_toc" class="inline_toc">
  <li><a href="#compatibility-matrix" class="nomunge">互換マトリックス</a></li>
  <li><a href="#versioning" class="nomunge">バージョンづけ</a>
    <ul>
      <li><a href="#v2-and-v3-declaration" class="nomunge">v2 and v3 Declaration</a></li>
      <li><a href="#version-1-deprecated" class="nomunge">バージョン 1（非推奨）</a></li>
      <li><a href="#version-2" class="nomunge">Version 2</a></li>
      <li><a href="#version-21" class="nomunge">Version 2.1</a></li>
      <li><a href="#version-22" class="nomunge">Version 2.2</a></li>
      <li><a href="#version-23" class="nomunge">Version 2.3</a></li>
      <li><a href="#バージョン-24" class="nomunge">バージョン 2.4</a></li>
      <li><a href="#バージョン-3" class="nomunge">バージョン 3</a></li>
      <li><a href="#version-31" class="nomunge">Version 3.1</a></li>
      <li><a href="#version-32" class="nomunge">Version 3.2</a></li>
      <li><a href="#version-33" class="nomunge">Version 3.3</a></li>
      <li><a href="#version-34" class="nomunge">Version 3.4</a></li>
      <li><a href="#version-35" class="nomunge">Version 3.5</a></li>
      <li><a href="#version-36" class="nomunge">Version 3.6</a></li>
      <li><a href="#version-37" class="nomunge">Version 3.7</a></li>
      <li><a href="#version-38" class="nomunge">Version 3.8</a></li>
    </ul>
  </li>
  <li><a href="#upgrading" class="nomunge">Upgrading</a>
    <ul>
      <li><a href="#version-2x-to-3x" class="nomunge">Version 2.x to 3.x</a></li>
      <li><a href="#version-1-to-2x" class="nomunge">Version 1 to 2.x</a></li>
    </ul>
  </li>
  <li><a href="#compatibility-mode" class="nomunge">Compatibility mode</a></li>
  <li><a href="#compose-file-format-references" class="nomunge">Compose file format references</a></li>
</ul>

</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer">
          
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products" target="_blank" rel="noopener">製品ラインアップ</a></b></li>
                        <li><a href="https://www.docker.com/products/personal" target="_blank" rel="noopener">Docker Personal</a></li>
                        <li><a href="https://www.docker.com/products/pro" target="_blank" rel="noopener">Docker Pro</a></li>
                        <li><a href="https://www.docker.com/products/team" target="_blank" rel="noopener">Docker Team</a></li>
                        <li><a href="https://www.docker.com/products/business" target="_blank" rel="noopener">Docker Business</a></li>
                        <li><a href="https://www.docker.com/products" target="_blank" rel="noopener">サブスクリプション比較</a></li>
                        <li><b><a href="https://www.docker.com/" target="_blank" rel="noopener">機能</a></b></li>
                        <li><a href="https://www.docker.com/products/docker-desktop" target="_blank" rel="noopener">Docker Desktop</a></li>
                        <li><a href="https://www.docker.com/products/docker-hub" target="_blank" rel="noopener">Docker Hub</a></li>
                        <li><a href="https://www.docker.com/products/secure-software-supply-chain" target="_blank" rel="noopener">セキュアなソフトウェアサプライチェーン</a></li>
                        <li><a href="https://www.docker.com/products/container-runtime" target="_blank" rel="noopener">コンテナーランタイム</a></li>
                        <li><a href="https://www.docker.com/products/developer-tools" target="_blank" rel="noopener">開発ツール</a></li>
                        <li><a href="https://www.docker.com/partners" target="_blank" rel="noopener">信頼できるコンテント</a></li>
                        <li><a href="https://www.docker.com/roadmap" target="_blank" rel="noopener">Docker 製品ロードマップ</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop" target="_blank" rel="noopener">開発者</a></b></li>
                        <li><a href="https://www.docker.com/use-cases" target="_blank" rel="noopener">利用例</a></li>
                        <li><a href="https://docs.docker.com/get-started/" target="_blank" rel="noopener">はじめよう</a></li>
                        <li><a href="https://www.docker.com/blog/" target="_blank" rel="noopener">ブログ</a></li>
                        <li><a href="https://www.docker.com/docker-community" target="_blank" rel="noopener">コミュニティー</a></li>
                        <li><a href="https://www.docker.com/open-source" target="_blank" rel="noopener">オープンソース</a></li>
                        <li><a href="https://www.docker.com/community/get-involved/developer-preview" target="_blank" rel="noopener">プレビュープログラム</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop" target="_blank" rel="noopener">価格体系</a></b></li>
                        <li><a href="https://www.docker.com/pricing/faq" target="_blank" rel="noopener">FAQ</a></li>
                        <li><a href="https://www.docker.com/partners/programs" target="_blank" rel="noopener">Docker 認定公開者向けプログラム</a></li>
                        <li><a href="https://www.docker.com/partners" target="_blank" rel="noopener">パートナー</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/company" target="_blank" rel="noopener">会社概要</a></b></li>
                        <li><a href="https://www.docker.com/what-container" target="_blank" rel="noopener">コンテナーって何？</a></li>
                        <li><a href="https://www.docker.com/why-docker" target="_blank" rel="noopener">なぜ Docker？</a></li>
                        <li><a href="https://www.docker.com/events" target="_blank" rel="noopener">仮想イベント</a></li>
                        <li><a href="https://www.docker.com/swag" target="_blank" rel="noopener">Swag ストア
                        </a></li>
                        <li><a href="https://www.docker.com/company/newsroom" target="_blank" rel="noopener">ニュースルーム</a></li>
                        <li><a href="https://www.docker.com/careers" target="_blank" rel="noopener">採用情報</a></li>
                        <li><a href="https://www.docker.com/company/contact" target="_blank" rel="noopener">連絡先</a></li>
                        <li><a href="https://www.docker.com/customers" target="_blank" rel="noopener">顧客</a></li>
                        <li><a href="https://www.docker.com/newsletter-subscription" target="_blank" rel="noopener">ニュースレター</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="https://www.docker.com/legal/docker-terms-service" target="_blank" rel="noopener">サービス契約</a></li>
                        <li><a href="https://status.docker.com/" target="_blank" rel="noopener">ステータス</a></li>
                        <li><a href="https://www.docker.com/legal" target="_blank" rel="noopener">法的情報</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2013-2021 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="https://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="https://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-slideshare"><a href="https://www.slideshare.net/docker">Slideshare</a></li>
                    <li class="fa fa-reddit"><a href="https://www.reddit.com/r/docker">Reddit</a></li>
                </ul>
            </div>
        </div>
    </div>

    </footer>
    <script>const pageURL = "/compose/compose-file/compose-versioning/";</script></body>
</html>
