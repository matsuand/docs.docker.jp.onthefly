<!-- Page generated 2020-10-24 20:20:55 +0900-->
<!DOCTYPE html>
<html lang="ja"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Engine API v1.19 | Docker ドキュメント</title>
  <meta name="description" content="API Documentation for Docker" />
  <meta name="keywords" content="API, Docker, rcli, REST, documentation">
  <link rel="canonical" href="https://localhost:4000{{ site.baseurl }}/engine/api/v1.19/" />

  <!-- favicon -->
  <link rel="icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <link rel="apple-touch-icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <meta name="msapplication-TileImage" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico">
  <meta property="og:image" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
  <meta name="theme-color" content="#2496ed" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"><script defer src="/docs.docker.jp.onthefly/js/theme-switcher.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/anchorlinks.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/jquery.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/docs.js"></script><script defer src="/docs.docker.jp.onthefly/js/search.js"></script><link rel="preload" as="font" href="https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0bf8pkAg.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/geomanist/hinted-Geomanist-Book.woff2"    type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/geomanist/hinted-Geomanist-Regular.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/glyphicons-halflings-regular.woff2"       type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/fontawesome-webfont.woff2?v=4.7.0"        type="font/woff2" crossorigin="anonymous">

  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/font-awesome.min.css">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/bootstrap.min.css">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/style.css" id="pagestyle">

  <!-- SEO stuff -->
  <meta name="twitter:title" itemprop="title name" content="Engine API v1.19"/>
  <meta name="twitter:description" property="og:description" itemprop="description" content="" />
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:domain" content="matsuand.github.io"/>
  <meta name="twitter:site" content="@docker_docs"/>
  <meta name="twitter:url" content="https://twitter.com/docker_docs"/>
  <meta name="twitter:image:src" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta name="twitter:image:alt" content="Docker ドキュメント"/>
  <meta property="og:title" content="Engine API v1.19" />
  <meta property="og:description" content="API Documentation for Docker" />
  <meta property="og:type" content="website"/>
  <meta property="og:updated_time" itemprop="dateUpdated" content="2020-10-24T20:20:55+09:00"/>
  <meta property="og:image" itemprop="image primaryImageOfPage" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta property="og:locale" content="ja_JP" />
  <meta property="og:url" content="https://matsuand.github.io/docs.docker.jp.onthefly/engine/api/v1.19/" />
  <meta property="og:site_name" content="Docker ドキュメント" />
  <meta property="article:published_time" itemprop="datePublished" content="2020-10-24T20:20:55+09:00"/>
  <script type="application/ld+json">{"@context":"http://schema.org","@type":"WebPage","headline":"Engine API v1.19","description":"API Documentation for Docker","url":"https://docs.docker.com/engine/api/v1.19/"}</script>
  <!-- END SEO STUFF -->
</head>
<body class="colums">
    <header>
        <nav class="nav-secondary navbar navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="/docs.docker.jp.onthefly/">
                <img class="logo" src="/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs" width="160" height="28" />
            </a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="logo-mobile">
    <a href="/docs.docker.jp.onthefly/">
        <img src="/docs.docker.jp.onthefly/images/docker-icon.svg" alt="Docker Docs" title="Docker Docs" width="30" height="30" />
    </a>
</div>
<div class="search-form" id="search-div">
    <form class="search-form form-inline" id="searchForm" action="/docs.docker.jp.onthefly/search/" method="get">
        <label for="st-search-input" class="sr-only">検索</label>
        <input class="search-field form-control ds-input" id="st-search-input" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteResults"></div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container hidden-sm hidden-xs">
    <div id="tabs">
        <ul class="tabs jsTOCHorizontal"><li><a href="/docs.docker.jp.onthefly/" id="home">ホーム</a></li><li><a href="/docs.docker.jp.onthefly/get-started/overview/" id="guides">ガイド</a></li><li><a href="/docs.docker.jp.onthefly/engine/" id="manuals">製品マニュアル</a></li><li><a href="/docs.docker.jp.onthefly/reference/" id="reference">リファレンス</a></li><li><a href="/docs.docker.jp.onthefly/samples/" id="samples">サンプル</a></li></ul>
    </div>
    <div class="ctrl-right">
        <a href="javascript:void(0)" id="menu-toggle" aria-label="現在ページのメニュートグル"><i class="fa fa-indent" aria-hidden="true"></i></a>
    </div>
</div>

        </div>
    </div>
</nav>

    </header>
    <div class="wrapper right-open">
        <div class="container-fluid">
            <div class="row">
                <div class="col-body">
                    <main class="col-content content">
                        <section class="section"><h1>Engine API v1.19</h1><p><em class="reading-time">読む時間の目安: 44 分</em></p><!-- This file is maintained within the moby/moby GitHub
     repository at https://github.com/moby/moby/. Make all
     pull requests against that repo. If you see this file in
     another repository, consider it read-only there, as it will
     periodically be overwritten by the definitive file. Pull
     requests which include edits to this file in other repositories
     will be rejected.
-->

<h2 id="1-brief-introduction">1. Brief introduction</h2>

<ul>
  <li>The daemon listens on <code class="language-plaintext highlighter-rouge">unix:///var/run/docker.sock</code> but you can
<a href="/docs.docker.jp.onthefly/engine/reference/commandline/dockerd/#bind-docker-to-another-host-port-or-a-unix-socket">Bind Docker to another host/port or a Unix socket</a>.</li>
  <li>The API tends to be REST. However, for some complex commands, like <code class="language-plaintext highlighter-rouge">attach</code>
or <code class="language-plaintext highlighter-rouge">pull</code>, the HTTP connection is hijacked to transport <code class="language-plaintext highlighter-rouge">stdout</code>,
<code class="language-plaintext highlighter-rouge">stdin</code> and <code class="language-plaintext highlighter-rouge">stderr</code>.</li>
  <li>A <code class="language-plaintext highlighter-rouge">Content-Length</code> header should be present in <code class="language-plaintext highlighter-rouge">POST</code> requests to endpoints
that expect a body.</li>
  <li>To lock to a specific version of the API, you prefix the URL with the version
of the API to use. For example, <code class="language-plaintext highlighter-rouge">/v1.18/info</code>. If no version is included in
the URL, the maximum supported API version is used.</li>
  <li>If the API version specified in the URL is not supported by the daemon, a HTTP
<code class="language-plaintext highlighter-rouge">400 Bad Request</code> error message is returned.</li>
</ul>

<h2 id="2-endpoints">2. Endpoints</h2>

<h3 id="21-containers">2.1 Containers</h3>

<h4 id="list-containers">List containers</h4>

<p><code class="language-plaintext highlighter-rouge">GET /containers/json</code></p>

<p>List containers</p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET /v1.19/containers/json?all=1&amp;before=8dfafdbc3a40&amp;size=1 HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/json

[
     {
             "Id": "8dfafdbc3a40",
             "Names":["/boring_feynman"],
             "Image": "ubuntu:latest",
             "Command": "echo 1",
             "Created": 1367854155,
             "Status": "Exit 0",
             "Ports": [{"PrivatePort": 2222, "PublicPort": 3333, "Type": "tcp"}],
             "Labels": {
                     "com.example.vendor": "Acme",
                     "com.example.license": "GPL",
                     "com.example.version": "1.0"
             },
             "SizeRw": 12288,
             "SizeRootFs": 0
     },
     {
             "Id": "9cd87474be90",
             "Names":["/coolName"],
             "Image": "ubuntu:latest",
             "Command": "echo 222222",
             "Created": 1367854155,
             "Status": "Exit 0",
             "Ports": [],
             "Labels": {},
             "SizeRw": 12288,
             "SizeRootFs": 0
     },
     {
             "Id": "3176a2479c92",
             "Names":["/sleepy_dog"],
             "Image": "ubuntu:latest",
             "Command": "echo 3333333333333333",
             "Created": 1367854154,
             "Status": "Exit 0",
             "Ports":[],
             "Labels": {},
             "SizeRw":12288,
             "SizeRootFs":0
     },
     {
             "Id": "4cb07b47f9fb",
             "Names":["/running_cat"],
             "Image": "ubuntu:latest",
             "Command": "echo 444444444444444444444444444444444",
             "Created": 1367854152,
             "Status": "Exit 0",
             "Ports": [],
             "Labels": {},
             "SizeRw": 12288,
             "SizeRootFs": 0
     }
]
</code></pre></div></div>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>all</strong> – 1/True/true or 0/False/false, Show all containers.
    Only running containers are shown by default (i.e., this defaults to false)</li>
  <li><strong>limit</strong> – Show <code class="language-plaintext highlighter-rouge">limit</code> last created
    containers, include non-running ones.</li>
  <li><strong>since</strong> – Show only containers created since Id, include
    non-running ones.</li>
  <li><strong>before</strong> – Show only containers created before Id, include
    non-running ones.</li>
  <li><strong>size</strong> – 1/True/true or 0/False/false, Show the containers
    sizes</li>
  <li><strong>filters</strong> - a JSON encoded value of the filters (a <code class="language-plaintext highlighter-rouge">map[string][]string</code>) to process on the containers list. Available filters:</li>
  <li><code class="language-plaintext highlighter-rouge">exited=&lt;int&gt;</code>; -- containers with exit code of  <code class="language-plaintext highlighter-rouge">&lt;int&gt;</code> ;</li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">status=</code>(<code class="language-plaintext highlighter-rouge">restarting</code></td>
          <td><code class="language-plaintext highlighter-rouge">running</code></td>
          <td><code class="language-plaintext highlighter-rouge">paused</code></td>
          <td><code class="language-plaintext highlighter-rouge">exited</code>)</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li><code class="language-plaintext highlighter-rouge">label=key</code> or <code class="language-plaintext highlighter-rouge">label="key=value"</code> of a container label</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>400</strong> – bad parameter</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="create-a-container">Create a container</h4>

<p><code class="language-plaintext highlighter-rouge">POST /containers/create</code></p>

<p>Create a container</p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /v1.19/containers/create HTTP/1.1
Content-Type: application/json
Content-Length: 12345

{
       "Hostname": "",
       "Domainname": "",
       "User": "",
       "AttachStdin": false,
       "AttachStdout": true,
       "AttachStderr": true,
       "Tty": false,
       "OpenStdin": false,
       "StdinOnce": false,
       "Env": [
               "FOO=bar",
               "BAZ=quux"
       ],
       "Cmd": [
               "date"
       ],
       "Entrypoint": null,
       "Image": "ubuntu",
       "Labels": {
               "com.example.vendor": "Acme",
               "com.example.license": "GPL",
               "com.example.version": "1.0"
       },
       "Volumes": {
         "/volumes/data": {}
       },
       "WorkingDir": "",
       "NetworkDisabled": false,
       "MacAddress": "12:34:56:78:9a:bc",
       "ExposedPorts": {
               "22/tcp": {}
       },
       "HostConfig": {
         "Binds": ["/tmp:/tmp"],
         "Links": ["redis3:redis"],
         "LxcConf": {"lxc.utsname":"docker"},
         "Memory": 0,
         "MemorySwap": 0,
         "CpuShares": 512,
         "CpuPeriod": 100000,
         "CpuQuota": 50000,
         "CpusetCpus": "0,1",
         "CpusetMems": "0,1",
         "BlkioWeight": 300,
         "OomKillDisable": false,
         "PidMode": "",
         "PortBindings": { "22/tcp": [{ "HostPort": "11022" }] },
         "PublishAllPorts": false,
         "Privileged": false,
         "ReadonlyRootfs": false,
         "Dns": ["8.8.8.8"],
         "DnsSearch": [""],
         "ExtraHosts": null,
         "VolumesFrom": ["parent", "other:ro"],
         "CapAdd": ["NET_ADMIN"],
         "CapDrop": ["MKNOD"],
         "RestartPolicy": { "Name": "", "MaximumRetryCount": 0 },
         "NetworkMode": "bridge",
         "Devices": [],
         "Ulimits": [{}],
         "LogConfig": { "Type": "json-file", "Config": {} },
         "SecurityOpt": [],
         "CgroupParent": ""
      }
  }
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  HTTP/1.1 201 Created
  Content-Type: application/json

  {
       "Id":"e90e34656806",
       "Warnings":[]
  }
</code></pre></div></div>

<p><strong>JSON parameters</strong>:</p>

<ul>
  <li><strong>Hostname</strong> - A string value containing the hostname to use for the
  container.</li>
  <li><strong>Domainname</strong> - A string value containing the domain name to use
  for the container.</li>
  <li><strong>User</strong> - A string value specifying the user inside the container.</li>
  <li><strong>AttachStdin</strong> - Boolean value, attaches to <code class="language-plaintext highlighter-rouge">stdin</code>.</li>
  <li><strong>AttachStdout</strong> - Boolean value, attaches to <code class="language-plaintext highlighter-rouge">stdout</code>.</li>
  <li><strong>AttachStderr</strong> - Boolean value, attaches to <code class="language-plaintext highlighter-rouge">stderr</code>.</li>
  <li><strong>Tty</strong> - Boolean value, Attach standard streams to a <code class="language-plaintext highlighter-rouge">tty</code>, including <code class="language-plaintext highlighter-rouge">stdin</code> if it is not closed.</li>
  <li><strong>OpenStdin</strong> - Boolean value, opens <code class="language-plaintext highlighter-rouge">stdin</code>,</li>
  <li><strong>StdinOnce</strong> - Boolean value, close <code class="language-plaintext highlighter-rouge">stdin</code> after the 1 attached client disconnects.</li>
  <li><strong>Env</strong> - A list of environment variables in the form of <code class="language-plaintext highlighter-rouge">["VAR=value", ...]</code></li>
  <li><strong>Labels</strong> - Adds a map of labels to a container. To specify a map: <code class="language-plaintext highlighter-rouge">{"key":"value", ... }</code></li>
  <li><strong>Cmd</strong> - Command to run specified as a string or an array of strings.</li>
  <li><strong>Entrypoint</strong> - Set the entry point for the container as a string or an array
  of strings.</li>
  <li><strong>Image</strong> - A string specifying the image name to use for the container.</li>
  <li><strong>Volumes</strong> - An object mapping mount point paths (strings) inside the
  container to empty objects.</li>
  <li><strong>WorkingDir</strong> - A string specifying the working directory for commands to
  run in.</li>
  <li><strong>NetworkDisabled</strong> - Boolean value, when true disables networking for the
  container</li>
  <li><strong>ExposedPorts</strong> - An object mapping ports to an empty object in the form of:
  <code class="language-plaintext highlighter-rouge">"ExposedPorts": { "&lt;port&gt;/&lt;tcp|udp&gt;: {}" }</code></li>
  <li><strong>HostConfig</strong>
    <ul>
      <li><strong>Binds</strong> – A list of bind mounts for this container. Each item is a string in one of these forms:
        <ul>
          <li><code class="language-plaintext highlighter-rouge">host-src:container-dest</code> to bind-mount a host path into the
container. Both <code class="language-plaintext highlighter-rouge">host-src</code>, and <code class="language-plaintext highlighter-rouge">container-dest</code> must be an
<em>absolute</em> path.</li>
          <li><code class="language-plaintext highlighter-rouge">host-src:container-dest:ro</code> to make the bind mount read-only
inside the container. Both <code class="language-plaintext highlighter-rouge">host-src</code>, and <code class="language-plaintext highlighter-rouge">container-dest</code> must be
an <em>absolute</em> path.</li>
        </ul>
      </li>
      <li><strong>Links</strong> - A list of links for the container. Each link entry should be
  in the form of <code class="language-plaintext highlighter-rouge">container_name:alias</code>.</li>
      <li><strong>LxcConf</strong> - LXC specific configurations. These configurations only
  work when using the <code class="language-plaintext highlighter-rouge">lxc</code> execution driver.</li>
      <li><strong>Memory</strong> - Memory limit in bytes.</li>
      <li><strong>MemorySwap</strong> - Total memory limit (memory + swap); set <code class="language-plaintext highlighter-rouge">-1</code> to enable unlimited swap.
  You must use this with <code class="language-plaintext highlighter-rouge">memory</code> and make the swap value larger than <code class="language-plaintext highlighter-rouge">memory</code>.</li>
      <li><strong>CpuShares</strong> - An integer value containing the container’s CPU Shares
  (ie. the relative weight vs other containers).</li>
      <li><strong>CpuPeriod</strong> - The length of a CPU period in microseconds.</li>
      <li><strong>CpuQuota</strong> - Microseconds of CPU time that the container can get in a CPU period.</li>
      <li><strong>CpusetCpus</strong> - String value containing the <code class="language-plaintext highlighter-rouge">cgroups CpusetCpus</code> to use.</li>
      <li><strong>CpusetMems</strong> - Memory nodes (MEMs) in which to allow execution (0-3, 0,1). Only effective on NUMA systems.</li>
      <li><strong>BlkioWeight</strong> - Block IO weight (relative weight) accepts a weight value between 10 and 1000.</li>
      <li><strong>OomKillDisable</strong> - Boolean value, whether to disable OOM Killer for the container or not.</li>
      <li><strong>PidMode</strong> - Set the PID (Process) Namespace mode for the container;
  <code class="language-plaintext highlighter-rouge">"container:&lt;name|id&gt;"</code>: joins another container’s PID namespace
  <code class="language-plaintext highlighter-rouge">"host"</code>: use the host’s PID namespace inside the container</li>
      <li><strong>PortBindings</strong> - A map of exposed container ports and the host port they
  should map to. A JSON object in the form
  <code class="language-plaintext highlighter-rouge">{ &lt;port&gt;/&lt;protocol&gt;: [{ "HostPort": "&lt;port&gt;" }] }</code>
  Take note that <code class="language-plaintext highlighter-rouge">port</code> is specified as a string and not an integer value.</li>
      <li>
        <p><strong>PublishAllPorts</strong> - Allocates an ephemeral host port for all of a container’s
  exposed ports. Specified as a boolean value.</p>

        <p>Ports are de-allocated when the container stops and allocated when the container starts.
  The allocated port might be changed when restarting the container.</p>

        <p>The port is selected from the ephemeral port range that depends on the kernel.
  For example, on Linux the range is defined by <code class="language-plaintext highlighter-rouge">/proc/sys/net/ipv4/ip_local_port_range</code>.</p>
      </li>
      <li><strong>Privileged</strong> - Gives the container full access to the host. Specified as
  a boolean value.</li>
      <li><strong>ReadonlyRootfs</strong> - Mount the container’s root filesystem as read only.
  Specified as a boolean value.</li>
      <li><strong>Dns</strong> - A list of DNS servers for the container to use.</li>
      <li><strong>DnsSearch</strong> - A list of DNS search domains</li>
      <li><strong>ExtraHosts</strong> - A list of hostnames/IP mappings to add to the
container’s <code class="language-plaintext highlighter-rouge">/etc/hosts</code> file. Specified in the form <code class="language-plaintext highlighter-rouge">["hostname:IP"]</code>.</li>
      <li><strong>VolumesFrom</strong> - A list of volumes to inherit from another container.
  Specified in the form <code class="language-plaintext highlighter-rouge">&lt;container name&gt;[:&lt;ro|rw&gt;]</code></li>
      <li><strong>CapAdd</strong> - A list of kernel capabilities to add to the container.</li>
      <li><strong>Capdrop</strong> - A list of kernel capabilities to drop from the container.</li>
      <li><strong>RestartPolicy</strong> – The behavior to apply when the container exits.  The
    value is an object with a <code class="language-plaintext highlighter-rouge">Name</code> property of either <code class="language-plaintext highlighter-rouge">"always"</code> to
    always restart or <code class="language-plaintext highlighter-rouge">"on-failure"</code> to restart only when the container
    exit code is non-zero.  If <code class="language-plaintext highlighter-rouge">on-failure</code> is used, <code class="language-plaintext highlighter-rouge">MaximumRetryCount</code>
    controls the number of times to retry before giving up.
    The default is not to restart. (optional)
    An ever increasing delay (double the previous delay, starting at 100mS)
    is added before each restart to prevent flooding the server.</li>
      <li><strong>NetworkMode</strong> - Sets the networking mode for the container. Supported
  values are: <code class="language-plaintext highlighter-rouge">bridge</code>, <code class="language-plaintext highlighter-rouge">host</code>, <code class="language-plaintext highlighter-rouge">none</code>, and <code class="language-plaintext highlighter-rouge">container:&lt;name|id&gt;</code></li>
      <li><strong>Devices</strong> - A list of devices to add to the container specified as a JSON object in the
  form
  <code class="language-plaintext highlighter-rouge">{ "PathOnHost": "/dev/deviceName", "PathInContainer": "/dev/deviceName", "CgroupPermissions": "mrw"}</code></li>
      <li><strong>Ulimits</strong> - A list of ulimits to set in the container, specified as
  <code class="language-plaintext highlighter-rouge">{ "Name": &lt;name&gt;, "Soft": &lt;soft limit&gt;, "Hard": &lt;hard limit&gt; }</code>, for example:
  <code class="language-plaintext highlighter-rouge">Ulimits: { "Name": "nofile", "Soft": 1024, "Hard": 2048 }</code></li>
      <li><strong>SecurityOpt</strong>: A list of string values to customize labels for MLS
systems, such as SELinux.</li>
      <li><strong>LogConfig</strong> - Log configuration for the container, specified as a JSON object in the form
  <code class="language-plaintext highlighter-rouge">{ "Type": "&lt;driver_name&gt;", "Config": {"key1": "val1"}}</code>.
  Available types: <code class="language-plaintext highlighter-rouge">json-file</code>, <code class="language-plaintext highlighter-rouge">syslog</code>, <code class="language-plaintext highlighter-rouge">journald</code>, <code class="language-plaintext highlighter-rouge">none</code>.
  <code class="language-plaintext highlighter-rouge">syslog</code> available options are: <code class="language-plaintext highlighter-rouge">address</code>.</li>
      <li><strong>CgroupParent</strong> - Path to <code class="language-plaintext highlighter-rouge">cgroups</code> under which the container’s <code class="language-plaintext highlighter-rouge">cgroup</code> is created. If the path is not absolute, the path is considered to be relative to the <code class="language-plaintext highlighter-rouge">cgroups</code> path of the init process. Cgroups are created if they do not already exist.</li>
    </ul>
  </li>
</ul>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>name</strong> – Assign the specified name to the container. Must
match <code class="language-plaintext highlighter-rouge">/?[a-zA-Z0-9_-]+</code>.</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>201</strong> – no error</li>
  <li><strong>400</strong> – bad parameter</li>
  <li><strong>404</strong> – no such container</li>
  <li><strong>406</strong> – impossible to attach (container not running)</li>
  <li><strong>409</strong> – conflict</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="inspect-a-container">Inspect a container</h4>

<p><code class="language-plaintext highlighter-rouge">GET /containers/(id or name)/json</code></p>

<p>Return low-level information on the container <code class="language-plaintext highlighter-rouge">id</code></p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  GET /v1.19/containers/4fa6e0f0c678/json HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/json

{
	"AppArmorProfile": "",
	"Args": [
		"-c",
		"exit 9"
	],
	"Config": {
		"AttachStderr": true,
		"AttachStdin": false,
		"AttachStdout": true,
		"Cmd": [
			"/bin/sh",
			"-c",
			"exit 9"
		],
		"Domainname": "",
		"Entrypoint": null,
		"Env": [
			"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
		],
		"ExposedPorts": null,
		"Hostname": "ba033ac44011",
		"Image": "ubuntu",
		"Labels": {
			"com.example.vendor": "Acme",
			"com.example.license": "GPL",
			"com.example.version": "1.0"
		},
		"MacAddress": "",
		"NetworkDisabled": false,
		"OnBuild": null,
		"OpenStdin": false,
		"PortSpecs": null,
		"StdinOnce": false,
		"Tty": false,
		"User": "",
		"Volumes": null,
		"WorkingDir": ""
	},
	"Created": "2015-01-06T15:47:31.485331387Z",
	"Driver": "devicemapper",
	"ExecDriver": "native-0.2",
	"ExecIDs": null,
	"HostConfig": {
		"Binds": null,
		"BlkioWeight": 0,
		"CapAdd": null,
		"CapDrop": null,
		"ContainerIDFile": "",
		"CpusetCpus": "",
		"CpusetMems": "",
		"CpuShares": 0,
		"CpuPeriod": 100000,
		"Devices": [],
		"Dns": null,
		"DnsSearch": null,
		"ExtraHosts": null,
		"IpcMode": "",
		"Links": null,
		"LxcConf": [],
		"Memory": 0,
		"MemorySwap": 0,
		"OomKillDisable": false,
		"NetworkMode": "bridge",
		"PidMode": "",
		"PortBindings": {},
		"Privileged": false,
		"ReadonlyRootfs": false,
		"PublishAllPorts": false,
		"RestartPolicy": {
			"MaximumRetryCount": 2,
			"Name": "on-failure"
		},
		"LogConfig": {
			"Config": null,
			"Type": "json-file"
		},
		"SecurityOpt": null,
		"VolumesFrom": null,
		"Ulimits": [{}]
	},
	"HostnamePath": "/var/lib/docker/containers/ba033ac4401106a3b513bc9d639eee123ad78ca3616b921167cd74b20e25ed39/hostname",
	"HostsPath": "/var/lib/docker/containers/ba033ac4401106a3b513bc9d639eee123ad78ca3616b921167cd74b20e25ed39/hosts",
	"LogPath": "/var/lib/docker/containers/1eb5fabf5a03807136561b3c00adcd2992b535d624d5e18b6cdc6a6844d9767b/1eb5fabf5a03807136561b3c00adcd2992b535d624d5e18b6cdc6a6844d9767b-json.log",
	"Id": "ba033ac4401106a3b513bc9d639eee123ad78ca3616b921167cd74b20e25ed39",
	"Image": "04c5d3b7b0656168630d3ba35d8889bd0e9caafcaeb3004d2bfbc47e7c5d35d2",
	"MountLabel": "",
	"Name": "/boring_euclid",
	"NetworkSettings": {
		"Bridge": "",
		"Gateway": "",
		"IPAddress": "",
		"IPPrefixLen": 0,
		"MacAddress": "",
		"PortMapping": null,
		"Ports": null
	},
	"Path": "/bin/sh",
	"ProcessLabel": "",
	"ResolvConfPath": "/var/lib/docker/containers/ba033ac4401106a3b513bc9d639eee123ad78ca3616b921167cd74b20e25ed39/resolv.conf",
	"RestartCount": 1,
	"State": {
		"Error": "",
		"ExitCode": 9,
		"FinishedAt": "2015-01-06T15:47:32.080254511Z",
		"OOMKilled": false,
		"Paused": false,
		"Pid": 0,
		"Restarting": false,
		"Running": true,
		"StartedAt": "2015-01-06T15:47:32.072697474Z"
	},
	"Volumes": {},
	"VolumesRW": {}
}
</code></pre></div></div>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>404</strong> – no such container</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="list-processes-running-inside-a-container">List processes running inside a container</h4>

<p><code class="language-plaintext highlighter-rouge">GET /containers/(id or name)/top</code></p>

<p>List processes running inside the container <code class="language-plaintext highlighter-rouge">id</code>. On Unix systems this
is done by running the <code class="language-plaintext highlighter-rouge">ps</code> command. This endpoint is not
supported on Windows.</p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET /v1.19/containers/4fa6e0f0c678/top HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/json

{
   "Titles" : [
     "UID", "PID", "PPID", "C", "STIME", "TTY", "TIME", "CMD"
   ],
   "Processes" : [
     [
       "root", "13642", "882", "0", "17:03", "pts/0", "00:00:00", "/bin/bash"
     ],
     [
       "root", "13735", "13642", "0", "17:06", "pts/0", "00:00:00", "sleep 10"
     ]
   ]
}
</code></pre></div></div>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET /v1.19/containers/4fa6e0f0c678/top?ps_args=aux HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/json

{
  "Titles" : [
    "USER","PID","%CPU","%MEM","VSZ","RSS","TTY","STAT","START","TIME","COMMAND"
  ]
  "Processes" : [
    [
      "root","13642","0.0","0.1","18172","3184","pts/0","Ss","17:03","0:00","/bin/bash"
    ],
    [
      "root","13895","0.0","0.0","4348","692","pts/0","S+","17:15","0:00","sleep 10"
    ]
  ],
}
</code></pre></div></div>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>ps_args</strong> – <code class="language-plaintext highlighter-rouge">ps</code> arguments to use (e.g., <code class="language-plaintext highlighter-rouge">aux</code>), defaults to <code class="language-plaintext highlighter-rouge">-ef</code></li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>404</strong> – no such container</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="get-container-logs">Get container logs</h4>

<p><code class="language-plaintext highlighter-rouge">GET /containers/(id or name)/logs</code></p>

<p>Get <code class="language-plaintext highlighter-rouge">stdout</code> and <code class="language-plaintext highlighter-rouge">stderr</code> logs from the container <code class="language-plaintext highlighter-rouge">id</code></p>

<blockquote>
  <p><strong>Note</strong>:
This endpoint works only for containers with the <code class="language-plaintext highlighter-rouge">json-file</code> or <code class="language-plaintext highlighter-rouge">journald</code> logging drivers.</p>
</blockquote>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> GET /v1.19/containers/4fa6e0f0c678/logs?stderr=1&amp;stdout=1&amp;timestamps=1&amp;follow=1&amp;tail=10&amp;since=1428990821 HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> HTTP/1.1 101 UPGRADED
 Content-Type: application/vnd.docker.raw-stream
 Connection: Upgrade
 Upgrade: tcp

 
 {{ STREAM }}
</code></pre></div></div>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>follow</strong> – 1/True/true or 0/False/false, return stream. Default <code class="language-plaintext highlighter-rouge">false</code>.</li>
  <li><strong>stdout</strong> – 1/True/true or 0/False/false, show <code class="language-plaintext highlighter-rouge">stdout</code> log. Default <code class="language-plaintext highlighter-rouge">false</code>.</li>
  <li><strong>stderr</strong> – 1/True/true or 0/False/false, show <code class="language-plaintext highlighter-rouge">stderr</code> log. Default <code class="language-plaintext highlighter-rouge">false</code>.</li>
  <li><strong>since</strong> – UNIX timestamp (integer) to filter logs. Specifying a timestamp
will only output log-entries since that timestamp. Default: 0 (unfiltered)</li>
  <li><strong>timestamps</strong> – 1/True/true or 0/False/false, print timestamps for
    every log line. Default <code class="language-plaintext highlighter-rouge">false</code>.</li>
  <li><strong>tail</strong> – Output specified number of lines at the end of logs: <code class="language-plaintext highlighter-rouge">all</code> or <code class="language-plaintext highlighter-rouge">&lt;number&gt;</code>. Default all.</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>101</strong> – no error, hints proxy about hijacking</li>
  <li><strong>200</strong> – no error, no upgrade header found</li>
  <li><strong>404</strong> – no such container</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="inspect-changes-on-a-containers-filesystem">Inspect changes on a container’s filesystem</h4>

<p><code class="language-plaintext highlighter-rouge">GET /containers/(id or name)/changes</code></p>

<p>Inspect changes on container <code class="language-plaintext highlighter-rouge">id</code>’s filesystem</p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET /v1.19/containers/4fa6e0f0c678/changes HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/json

[
     {
             "Path": "/dev",
             "Kind": 0
     },
     {
             "Path": "/dev/kmsg",
             "Kind": 1
     },
     {
             "Path": "/test",
             "Kind": 1
     }
]
</code></pre></div></div>

<p>Values for <code class="language-plaintext highlighter-rouge">Kind</code>:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">0</code>: Modify</li>
  <li><code class="language-plaintext highlighter-rouge">1</code>: Add</li>
  <li><code class="language-plaintext highlighter-rouge">2</code>: Delete</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>404</strong> – no such container</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="export-a-container">Export a container</h4>

<p><code class="language-plaintext highlighter-rouge">GET /containers/(id or name)/export</code></p>

<p>Export the contents of container <code class="language-plaintext highlighter-rouge">id</code></p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET /v1.19/containers/4fa6e0f0c678/export HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/octet-stream


{{ TAR STREAM }}
</code></pre></div></div>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>404</strong> – no such container</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="get-container-stats-based-on-resource-usage">Get container stats based on resource usage</h4>

<p><code class="language-plaintext highlighter-rouge">GET /containers/(id or name)/stats</code></p>

<p>This endpoint returns a live stream of a container’s resource usage statistics.</p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET /v1.19/containers/redis1/stats HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  HTTP/1.1 200 OK
  Content-Type: application/json

  {
     "read" : "2015-01-08T22:57:31.547920715Z",
     "network" : {
        "rx_dropped" : 0,
        "rx_bytes" : 648,
        "rx_errors" : 0,
        "tx_packets" : 8,
        "tx_dropped" : 0,
        "rx_packets" : 8,
        "tx_errors" : 0,
        "tx_bytes" : 648
     },
     "memory_stats" : {
        "stats" : {
           "total_pgmajfault" : 0,
           "cache" : 0,
           "mapped_file" : 0,
           "total_inactive_file" : 0,
           "pgpgout" : 414,
           "rss" : 6537216,
           "total_mapped_file" : 0,
           "writeback" : 0,
           "unevictable" : 0,
           "pgpgin" : 477,
           "total_unevictable" : 0,
           "pgmajfault" : 0,
           "total_rss" : 6537216,
           "total_rss_huge" : 6291456,
           "total_writeback" : 0,
           "total_inactive_anon" : 0,
           "rss_huge" : 6291456,
           "hierarchical_memory_limit" : 67108864,
           "total_pgfault" : 964,
           "total_active_file" : 0,
           "active_anon" : 6537216,
           "total_active_anon" : 6537216,
           "total_pgpgout" : 414,
           "total_cache" : 0,
           "inactive_anon" : 0,
           "active_file" : 0,
           "pgfault" : 964,
           "inactive_file" : 0,
           "total_pgpgin" : 477
        },
        "max_usage" : 6651904,
        "usage" : 6537216,
        "failcnt" : 0,
        "limit" : 67108864
     },
     "blkio_stats" : {},
     "cpu_stats" : {
        "cpu_usage" : {
           "percpu_usage" : [
              8646879,
              24472255,
              36438778,
              30657443
           ],
           "usage_in_usermode" : 50000000,
           "total_usage" : 100215355,
           "usage_in_kernelmode" : 30000000
        },
        "system_cpu_usage" : 739306590000000,
        "throttling_data" : {"periods":0,"throttled_periods":0,"throttled_time":0}
     },
     "precpu_stats" : {
        "cpu_usage" : {
           "percpu_usage" : [
              8646879,
              24350896,
              36438778,
              30657443
           ],
           "usage_in_usermode" : 50000000,
           "total_usage" : 100093996,
           "usage_in_kernelmode" : 30000000
        },
        "system_cpu_usage" : 9492140000000,
        "throttling_data" : {"periods":0,"throttled_periods":0,"throttled_time":0}
     }
  }
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">precpu_stats</code> is the cpu statistic of <em>previous</em> read, which is used for calculating the cpu usage percent. It is not the exact copy of the <code class="language-plaintext highlighter-rouge">cpu_stats</code> field.</p>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>stream</strong> – 1/True/true or 0/False/false, pull stats once then disconnect. Default <code class="language-plaintext highlighter-rouge">true</code>.</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>404</strong> – no such container</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="resize-a-container-tty">Resize a container TTY</h4>

<p><code class="language-plaintext highlighter-rouge">POST /containers/(id or name)/resize?h=&lt;height&gt;&amp;w=&lt;width&gt;</code></p>

<p>Resize the TTY for container with  <code class="language-plaintext highlighter-rouge">id</code>. You must restart the container for the resize to take effect.</p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  POST /v1.19/containers/4fa6e0f0c678/resize?h=40&amp;w=80 HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  HTTP/1.1 200 OK
  Content-Length: 0
  Content-Type: text/plain; charset=utf-8
</code></pre></div></div>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>h</strong> – height of <code class="language-plaintext highlighter-rouge">tty</code> session</li>
  <li><strong>w</strong> – width</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>404</strong> – No such container</li>
  <li><strong>500</strong> – Cannot resize container</li>
</ul>

<h4 id="start-a-container">Start a container</h4>

<p><code class="language-plaintext highlighter-rouge">POST /containers/(id or name)/start</code></p>

<p>Start the container <code class="language-plaintext highlighter-rouge">id</code></p>

<blockquote>
  <p><strong>Note</strong>:
For backwards compatibility, this endpoint accepts a <code class="language-plaintext highlighter-rouge">HostConfig</code> as JSON-encoded request body.
See <a href="#create-a-container">create a container</a> for details.</p>
</blockquote>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /v1.19/containers/e90e34656806/start HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 204 No Content
</code></pre></div></div>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>204</strong> – no error</li>
  <li><strong>304</strong> – container already started</li>
  <li><strong>404</strong> – no such container</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="stop-a-container">Stop a container</h4>

<p><code class="language-plaintext highlighter-rouge">POST /containers/(id or name)/stop</code></p>

<p>Stop the container <code class="language-plaintext highlighter-rouge">id</code></p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /v1.19/containers/e90e34656806/stop?t=5 HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 204 No Content
</code></pre></div></div>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>t</strong> – number of seconds to wait before killing the container</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>204</strong> – no error</li>
  <li><strong>304</strong> – container already stopped</li>
  <li><strong>404</strong> – no such container</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="restart-a-container">Restart a container</h4>

<p><code class="language-plaintext highlighter-rouge">POST /containers/(id or name)/restart</code></p>

<p>Restart the container <code class="language-plaintext highlighter-rouge">id</code></p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /v1.19/containers/e90e34656806/restart?t=5 HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 204 No Content
</code></pre></div></div>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>t</strong> – number of seconds to wait before killing the container</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>204</strong> – no error</li>
  <li><strong>404</strong> – no such container</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="kill-a-container">Kill a container</h4>

<p><code class="language-plaintext highlighter-rouge">POST /containers/(id or name)/kill</code></p>

<p>Kill the container <code class="language-plaintext highlighter-rouge">id</code></p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /v1.19/containers/e90e34656806/kill HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 204 No Content
</code></pre></div></div>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>signal</strong> - Signal to send to the container: integer or string like <code class="language-plaintext highlighter-rouge">SIGINT</code>.
    When not set, <code class="language-plaintext highlighter-rouge">SIGKILL</code> is assumed and the call waits for the container to exit.</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>204</strong> – no error</li>
  <li><strong>404</strong> – no such container</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="rename-a-container">Rename a container</h4>

<p><code class="language-plaintext highlighter-rouge">POST /containers/(id or name)/rename</code></p>

<p>Rename the container <code class="language-plaintext highlighter-rouge">id</code> to a <code class="language-plaintext highlighter-rouge">new_name</code></p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /v1.19/containers/e90e34656806/rename?name=new_name HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 204 No Content
</code></pre></div></div>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>name</strong> – new name for the container</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>204</strong> – no error</li>
  <li><strong>404</strong> – no such container</li>
  <li><strong>409</strong> - conflict name already assigned</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="pause-a-container">Pause a container</h4>

<p><code class="language-plaintext highlighter-rouge">POST /containers/(id or name)/pause</code></p>

<p>Pause the container <code class="language-plaintext highlighter-rouge">id</code></p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /v1.19/containers/e90e34656806/pause HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 204 No Content
</code></pre></div></div>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>204</strong> – no error</li>
  <li><strong>404</strong> – no such container</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="unpause-a-container">Unpause a container</h4>

<p><code class="language-plaintext highlighter-rouge">POST /containers/(id or name)/unpause</code></p>

<p>Unpause the container <code class="language-plaintext highlighter-rouge">id</code></p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /v1.19/containers/e90e34656806/unpause HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 204 No Content
</code></pre></div></div>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>204</strong> – no error</li>
  <li><strong>404</strong> – no such container</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="attach-to-a-container">Attach to a container</h4>

<p><code class="language-plaintext highlighter-rouge">POST /containers/(id or name)/attach</code></p>

<p>Attach to the container <code class="language-plaintext highlighter-rouge">id</code></p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /v1.19/containers/16253994b7c4/attach?logs=1&amp;stream=0&amp;stdout=1 HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 101 UPGRADED
Content-Type: application/vnd.docker.raw-stream
Connection: Upgrade
Upgrade: tcp


{{ STREAM }}
</code></pre></div></div>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>logs</strong> – 1/True/true or 0/False/false, return logs. Default <code class="language-plaintext highlighter-rouge">false</code>.</li>
  <li><strong>stream</strong> – 1/True/true or 0/False/false, return stream.
    Default <code class="language-plaintext highlighter-rouge">false</code>.</li>
  <li><strong>stdin</strong> – 1/True/true or 0/False/false, if <code class="language-plaintext highlighter-rouge">stream=true</code>, attach
    to <code class="language-plaintext highlighter-rouge">stdin</code>. Default <code class="language-plaintext highlighter-rouge">false</code>.</li>
  <li><strong>stdout</strong> – 1/True/true or 0/False/false, if <code class="language-plaintext highlighter-rouge">logs=true</code>, return
    <code class="language-plaintext highlighter-rouge">stdout</code> log, if <code class="language-plaintext highlighter-rouge">stream=true</code>, attach to <code class="language-plaintext highlighter-rouge">stdout</code>. Default <code class="language-plaintext highlighter-rouge">false</code>.</li>
  <li><strong>stderr</strong> – 1/True/true or 0/False/false, if <code class="language-plaintext highlighter-rouge">logs=true</code>, return
    <code class="language-plaintext highlighter-rouge">stderr</code> log, if <code class="language-plaintext highlighter-rouge">stream=true</code>, attach to <code class="language-plaintext highlighter-rouge">stderr</code>. Default <code class="language-plaintext highlighter-rouge">false</code>.</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>101</strong> – no error, hints proxy about hijacking</li>
  <li><strong>200</strong> – no error, no upgrade header found</li>
  <li><strong>400</strong> – bad parameter</li>
  <li><strong>404</strong> – no such container</li>
  <li><strong>500</strong> – server error</li>
</ul>

<p><strong>Stream details</strong>:</p>

<p>When using the TTY setting is enabled in
<a href="#create-a-container"><code class="language-plaintext highlighter-rouge">POST /containers/create</code>
</a>,
the stream is the raw data from the process PTY and client’s <code class="language-plaintext highlighter-rouge">stdin</code>.
When the TTY is disabled, then the stream is multiplexed to separate
<code class="language-plaintext highlighter-rouge">stdout</code> and <code class="language-plaintext highlighter-rouge">stderr</code>.</p>

<p>The format is a <strong>Header</strong> and a <strong>Payload</strong> (frame).</p>

<p><strong>HEADER</strong></p>

<p>The header contains the information which the stream writes (<code class="language-plaintext highlighter-rouge">stdout</code> or
<code class="language-plaintext highlighter-rouge">stderr</code>). It also contains the size of the associated frame encoded in the
last four bytes (<code class="language-plaintext highlighter-rouge">uint32</code>).</p>

<p>It is encoded on the first eight bytes like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>header := [8]byte{STREAM_TYPE, 0, 0, 0, SIZE1, SIZE2, SIZE3, SIZE4}
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">STREAM_TYPE</code> can be:</p>

<ul>
  <li>0: <code class="language-plaintext highlighter-rouge">stdin</code> (is written on <code class="language-plaintext highlighter-rouge">stdout</code>)</li>
  <li>1: <code class="language-plaintext highlighter-rouge">stdout</code></li>
  <li>2: <code class="language-plaintext highlighter-rouge">stderr</code></li>
</ul>

<p><code class="language-plaintext highlighter-rouge">SIZE1, SIZE2, SIZE3, SIZE4</code> are the four bytes of
the <code class="language-plaintext highlighter-rouge">uint32</code> size encoded as big endian.</p>

<p><strong>PAYLOAD</strong></p>

<p>The payload is the raw stream.</p>

<p><strong>IMPLEMENTATION</strong></p>

<p>The simplest way to implement the Attach protocol is the following:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1.  Read eight bytes.
2.  Choose `stdout` or `stderr` depending on the first byte.
3.  Extract the frame size from the last four bytes.
4.  Read the extracted size and output it on the correct output.
5.  Goto 1.
</code></pre></div></div>

<h4 id="attach-to-a-container-websocket">Attach to a container (websocket)</h4>

<p><code class="language-plaintext highlighter-rouge">GET /containers/(id or name)/attach/ws</code></p>

<p>Attach to the container <code class="language-plaintext highlighter-rouge">id</code> via websocket</p>

<p>Implements websocket protocol handshake according to <a href="http://tools.ietf.org/html/rfc6455">RFC 6455</a></p>

<p><strong>Example request</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET /v1.19/containers/e90e34656806/attach/ws?logs=0&amp;stream=1&amp;stdin=1&amp;stdout=1&amp;stderr=1 HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{ STREAM }}
</code></pre></div></div>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>logs</strong> – 1/True/true or 0/False/false, return logs. Default <code class="language-plaintext highlighter-rouge">false</code>.</li>
  <li><strong>stream</strong> – 1/True/true or 0/False/false, return stream.
    Default <code class="language-plaintext highlighter-rouge">false</code>.</li>
  <li><strong>stdin</strong> – 1/True/true or 0/False/false, if <code class="language-plaintext highlighter-rouge">stream=true</code>, attach
    to <code class="language-plaintext highlighter-rouge">stdin</code>. Default <code class="language-plaintext highlighter-rouge">false</code>.</li>
  <li><strong>stdout</strong> – 1/True/true or 0/False/false, if <code class="language-plaintext highlighter-rouge">logs=true</code>, return
    <code class="language-plaintext highlighter-rouge">stdout</code> log, if <code class="language-plaintext highlighter-rouge">stream=true</code>, attach to <code class="language-plaintext highlighter-rouge">stdout</code>. Default <code class="language-plaintext highlighter-rouge">false</code>.</li>
  <li><strong>stderr</strong> – 1/True/true or 0/False/false, if <code class="language-plaintext highlighter-rouge">logs=true</code>, return
    <code class="language-plaintext highlighter-rouge">stderr</code> log, if <code class="language-plaintext highlighter-rouge">stream=true</code>, attach to <code class="language-plaintext highlighter-rouge">stderr</code>. Default <code class="language-plaintext highlighter-rouge">false</code>.</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>400</strong> – bad parameter</li>
  <li><strong>404</strong> – no such container</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="wait-a-container">Wait a container</h4>

<p><code class="language-plaintext highlighter-rouge">POST /containers/(id or name)/wait</code></p>

<p>Block until container <code class="language-plaintext highlighter-rouge">id</code> stops, then returns the exit code</p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /v1.19/containers/16253994b7c4/wait HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/json

{"StatusCode": 0}
</code></pre></div></div>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>404</strong> – no such container</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="remove-a-container">Remove a container</h4>

<p><code class="language-plaintext highlighter-rouge">DELETE /containers/(id or name)</code></p>

<p>Remove the container <code class="language-plaintext highlighter-rouge">id</code> from the filesystem</p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>DELETE /v1.19/containers/16253994b7c4?v=1 HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 204 No Content
</code></pre></div></div>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>v</strong> – 1/True/true or 0/False/false, Remove the volumes
    associated to the container. Default <code class="language-plaintext highlighter-rouge">false</code>.</li>
  <li><strong>force</strong> - 1/True/true or 0/False/false, Kill then remove the container.
    Default <code class="language-plaintext highlighter-rouge">false</code>.</li>
  <li><strong>link</strong> - 1/True/true or 0/False/false, Remove the specified
    link associated to the container. Default <code class="language-plaintext highlighter-rouge">false</code>.</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>204</strong> – no error</li>
  <li><strong>400</strong> – bad parameter</li>
  <li><strong>404</strong> – no such container</li>
  <li><strong>409</strong> – conflict</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="copy-files-or-folders-from-a-container">Copy files or folders from a container</h4>

<p><code class="language-plaintext highlighter-rouge">POST /containers/(id or name)/copy</code></p>

<p>Copy files or folders of container <code class="language-plaintext highlighter-rouge">id</code></p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /v1.19/containers/4fa6e0f0c678/copy HTTP/1.1
Content-Type: application/json
Content-Length: 12345

{
     "Resource": "test.txt"
}
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/x-tar


{{ TAR STREAM }}
</code></pre></div></div>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>404</strong> – no such container</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h3 id="22-images">2.2 Images</h3>

<h4 id="list-images">List Images</h4>

<p><code class="language-plaintext highlighter-rouge">GET /images/json</code></p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET /v1.19/images/json?all=0 HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/json

[
  {
     "RepoTags": [
       "ubuntu:12.04",
       "ubuntu:precise",
       "ubuntu:latest"
     ],
     "Id": "8dbd9e392a964056420e5d58ca5cc376ef18e2de93b5cc90e868a1bbc8318c1c",
     "Created": 1365714795,
     "Size": 131506275,
     "VirtualSize": 131506275,
     "Labels": {}
  },
  {
     "RepoTags": [
       "ubuntu:12.10",
       "ubuntu:quantal"
     ],
     "ParentId": "27cf784147099545",
     "Id": "b750fe79269d2ec9a3c593ef05b4332b1d1a02a62b4accb2c21d589ff2f5f2dc",
     "Created": 1364102658,
     "Size": 24653,
     "VirtualSize": 180116135,
     "Labels": {
        "com.example.version": "v1"
     }
  }
]
</code></pre></div></div>

<p><strong>Example request, with digest information</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET /v1.19/images/json?digests=1 HTTP/1.1
</code></pre></div></div>

<p><strong>Example response, with digest information</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/json

[
  {
    "Created": 1420064636,
    "Id": "4986bf8c15363d1c5d15512d5266f8777bfba4974ac56e3270e7760f6f0a8125",
    "ParentId": "ea13149945cb6b1e746bf28032f02e9b5a793523481a0a18645fc77ad53c4ea2",
    "RepoDigests": [
      "localhost:5000/test/busybox@sha256:cbbf2f9a99b47fc460d422812b6a5adff7dfee951d8fa2e4a98caa0382cfbdbf"
    ],
    "RepoTags": [
      "localhost:5000/test/busybox:latest",
      "playdate:latest"
    ],
    "Size": 0,
    "VirtualSize": 2429728,
    "Labels": {}
  }
]
</code></pre></div></div>

<p>The response shows a single image <code class="language-plaintext highlighter-rouge">Id</code> associated with two repositories
(<code class="language-plaintext highlighter-rouge">RepoTags</code>): <code class="language-plaintext highlighter-rouge">localhost:5000/test/busybox</code>: and <code class="language-plaintext highlighter-rouge">playdate</code>. A caller can use
either of the <code class="language-plaintext highlighter-rouge">RepoTags</code> values <code class="language-plaintext highlighter-rouge">localhost:5000/test/busybox:latest</code> or
<code class="language-plaintext highlighter-rouge">playdate:latest</code> to reference the image.</p>

<p>You can also use <code class="language-plaintext highlighter-rouge">RepoDigests</code> values to reference an image. In this response,
the array has only one reference and that is to the
<code class="language-plaintext highlighter-rouge">localhost:5000/test/busybox</code> repository; the <code class="language-plaintext highlighter-rouge">playdate</code> repository has no
digest. You can reference this digest using the value:
<code class="language-plaintext highlighter-rouge">localhost:5000/test/busybox@sha256:cbbf2f9a99b47fc460d...</code></p>

<p>See the <code class="language-plaintext highlighter-rouge">docker run</code> and <code class="language-plaintext highlighter-rouge">docker build</code> commands for examples of digest and tag
references on the command line.</p>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>all</strong> – 1/True/true or 0/False/false, default false</li>
  <li><strong>filters</strong> – a JSON encoded value of the filters (a map[string][]string) to process on the images list. Available filters:</li>
  <li><code class="language-plaintext highlighter-rouge">dangling=true</code></li>
  <li><code class="language-plaintext highlighter-rouge">label=key</code> or <code class="language-plaintext highlighter-rouge">label="key=value"</code> of an image label</li>
  <li><strong>filter</strong> - only return images with the specified name</li>
</ul>

<h4 id="build-image-from-a-dockerfile">Build image from a Dockerfile</h4>

<p><code class="language-plaintext highlighter-rouge">POST /build</code></p>

<p>Build an image from a Dockerfile</p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /v1.19/build HTTP/1.1
Content-Type: application/x-tar


{{ TAR STREAM }}
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/json

{"stream": "Step 1/5..."}
{"stream": "..."}
{"error": "Error...", "errorDetail": {"code": 123, "message": "Error..."}}
</code></pre></div></div>

<p>The input stream must be a <code class="language-plaintext highlighter-rouge">tar</code> archive compressed with one of the
following algorithms: <code class="language-plaintext highlighter-rouge">identity</code> (no compression), <code class="language-plaintext highlighter-rouge">gzip</code>, <code class="language-plaintext highlighter-rouge">bzip2</code>, <code class="language-plaintext highlighter-rouge">xz</code>.</p>

<p>The archive must include a build instructions file, typically called
<code class="language-plaintext highlighter-rouge">Dockerfile</code> at the archive’s root. The <code class="language-plaintext highlighter-rouge">dockerfile</code> parameter may be
used to specify a different build instructions file. To do this, its value must be
the path to the alternate build instructions file to use.</p>

<p>The archive may include any number of other files,
which are accessible in the build context (See the <a href="/docs.docker.jp.onthefly/engine/reference/builder/#add"><em>ADD build
command</em></a>).</p>

<p>The Docker daemon performs a preliminary validation of the <code class="language-plaintext highlighter-rouge">Dockerfile</code> before
starting the build, and returns an error if the syntax is incorrect. After that,
each instruction is run one-by-one until the ID of the new image is output.</p>

<p>The build is canceled if the client drops the connection by quitting
or being killed.</p>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>dockerfile</strong> - Path within the build context to the Dockerfile. This is
    ignored if <code class="language-plaintext highlighter-rouge">remote</code> is specified and points to an individual filename.</li>
  <li><strong>t</strong> – A name and optional tag to apply to the image in the <code class="language-plaintext highlighter-rouge">name:tag</code> format.
    If you omit the <code class="language-plaintext highlighter-rouge">tag</code> the default <code class="language-plaintext highlighter-rouge">latest</code> value is assumed.</li>
  <li><strong>remote</strong> – A Git repository URI or HTTP/HTTPS URI build source. If the
    URI specifies a filename, the file’s contents are placed into a file
    called <code class="language-plaintext highlighter-rouge">Dockerfile</code>.</li>
  <li><strong>q</strong> – Suppress verbose build output.</li>
  <li><strong>nocache</strong> – Do not use the cache when building the image.</li>
  <li><strong>pull</strong> - Attempt to pull the image even if an older image exists locally.</li>
  <li><strong>rm</strong> - Remove intermediate containers after a successful build (default behavior).</li>
  <li><strong>forcerm</strong> - Always remove intermediate containers (includes <code class="language-plaintext highlighter-rouge">rm</code>).</li>
  <li><strong>memory</strong> - Set memory limit for build.</li>
  <li><strong>memswap</strong> - Total memory (memory + swap), <code class="language-plaintext highlighter-rouge">-1</code> to enable unlimited swap.</li>
  <li><strong>cpushares</strong> - CPU shares (relative weight).</li>
  <li><strong>cpusetcpus</strong> - CPUs in which to allow execution (e.g., <code class="language-plaintext highlighter-rouge">0-3</code>, <code class="language-plaintext highlighter-rouge">0,1</code>).</li>
  <li><strong>cpuperiod</strong> - The length of a CPU period in microseconds.</li>
  <li><strong>cpuquota</strong> - Microseconds of CPU time that the container can get in a CPU period.</li>
</ul>

<p><strong>Request Headers</strong>:</p>

<ul>
  <li><strong>Content-type</strong> – Set to <code class="language-plaintext highlighter-rouge">"application/x-tar"</code>.</li>
  <li><strong>X-Registry-Config</strong> – base64-encoded ConfigFile object</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="create-an-image">Create an image</h4>

<p><code class="language-plaintext highlighter-rouge">POST /images/create</code></p>

<p>Create an image either by pulling it from the registry or by importing it</p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /v1.19/images/create?fromImage=busybox&amp;tag=latest HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/json

{"status": "Pulling..."}
{"status": "Pulling", "progress": "1 B/ 100 B", "progressDetail": {"current": 1, "total": 100}}
{"error": "Invalid..."}
...
</code></pre></div></div>

<p>When using this endpoint to pull an image from the registry, the
<code class="language-plaintext highlighter-rouge">X-Registry-Auth</code> header can be used to include
a base64-encoded AuthConfig object.</p>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>fromImage</strong> – Name of the image to pull.</li>
  <li><strong>fromSrc</strong> – Source to import.  The value may be a URL from which the image
    can be retrieved or <code class="language-plaintext highlighter-rouge">-</code> to read the image from the request body.</li>
  <li><strong>repo</strong> – Repository name.</li>
  <li><strong>tag</strong> – Tag. If empty when pulling an image, this causes all tags
    for the given image to be pulled.</li>
</ul>

<p><strong>Request Headers</strong>:</p>

<ul>
  <li><strong>X-Registry-Auth</strong> – base64-encoded AuthConfig object</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>404</strong> - repository does not exist or no read access</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="inspect-an-image">Inspect an image</h4>

<p><code class="language-plaintext highlighter-rouge">GET /images/(name)/json</code></p>

<p>Return low-level information on the image <code class="language-plaintext highlighter-rouge">name</code></p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET /v1.19/images/ubuntu/json HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/json

{
   "Created": "2013-03-23T22:24:18.818426-07:00",
   "Container": "3d67245a8d72ecf13f33dffac9f79dcdf70f75acb84d308770391510e0c23ad0",
   "ContainerConfig": {
      "Hostname": "",
      "User": "",
      "AttachStdin": false,
      "AttachStdout": false,
      "AttachStderr": false,
      "Tty": true,
      "OpenStdin": true,
      "StdinOnce": false,
      "Env": null,
      "Cmd": ["/bin/bash"],
      "Dns": null,
      "Image": "ubuntu",
      "Labels": {
         "com.example.vendor": "Acme",
         "com.example.license": "GPL",
         "com.example.version": "1.0"
      },
      "Volumes": null,
      "VolumesFrom": "",
      "WorkingDir": ""
   },
   "Id": "b750fe79269d2ec9a3c593ef05b4332b1d1a02a62b4accb2c21d589ff2f5f2dc",
   "Parent": "27cf784147099545",
   "Size": 6824592
}
</code></pre></div></div>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>404</strong> – no such image</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="get-the-history-of-an-image">Get the history of an image</h4>

<p><code class="language-plaintext highlighter-rouge">GET /images/(name)/history</code></p>

<p>Return the history of the image <code class="language-plaintext highlighter-rouge">name</code></p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET /v1.19/images/ubuntu/history HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/json

[
    {
        "Id": "3db9c44f45209632d6050b35958829c3a2aa256d81b9a7be45b362ff85c54710",
        "Created": 1398108230,
        "CreatedBy": "/bin/sh -c #(nop) ADD file:eb15dbd63394e063b805a3c32ca7bf0266ef64676d5a6fab4801f2e81e2a5148 in /",
        "Tags": [
            "ubuntu:lucid",
            "ubuntu:10.04"
        ],
        "Size": 182964289,
        "Comment": ""
    },
    {
        "Id": "6cfa4d1f33fb861d4d114f43b25abd0ac737509268065cdfd69d544a59c85ab8",
        "Created": 1398108222,
        "CreatedBy": "/bin/sh -c #(nop) MAINTAINER Tianon Gravi &lt;admwiggin@gmail.com&gt; - mkimage-debootstrap.sh -i iproute,iputils-ping,ubuntu-minimal -t lucid.tar.xz lucid http://archive.ubuntu.com/ubuntu/",
        "Tags": null,
        "Size": 0,
        "Comment": ""
    },
    {
        "Id": "511136ea3c5a64f264b78b5433614aec563103b4d4702f3ba7d4d2698e22c158",
        "Created": 1371157430,
        "CreatedBy": "",
        "Tags": [
            "scratch12:latest",
            "scratch:latest"
        ],
        "Size": 0,
        "Comment": "Imported from -"
    }
]
</code></pre></div></div>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>404</strong> – no such image</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="push-an-image-on-the-registry">Push an image on the registry</h4>

<p><code class="language-plaintext highlighter-rouge">POST /images/(name)/push</code></p>

<p>Push the image <code class="language-plaintext highlighter-rouge">name</code> on the registry</p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /v1.19/images/test/push HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/json

{"status": "Pushing..."}
{"status": "Pushing", "progress": "1/? (n/a)", "progressDetail": {"current": 1}}}
{"error": "Invalid..."}
...
</code></pre></div></div>

<p>If you wish to push an image on to a private registry, that image must already have a tag
into a repository which references that registry <code class="language-plaintext highlighter-rouge">hostname</code> and <code class="language-plaintext highlighter-rouge">port</code>.  This repository name should
then be used in the URL. This duplicates the command line’s flow.</p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /v1.19/images/registry.acme.com:5000/test/push HTTP/1.1
</code></pre></div></div>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>tag</strong> – The tag to associate with the image on the registry. This is optional.</li>
</ul>

<p><strong>Request Headers</strong>:</p>

<ul>
  <li><strong>X-Registry-Auth</strong> – base64-encoded AuthConfig object.</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>404</strong> – no such image</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="tag-an-image-into-a-repository">Tag an image into a repository</h4>

<p><code class="language-plaintext highlighter-rouge">POST /images/(name)/tag</code></p>

<p>Tag the image <code class="language-plaintext highlighter-rouge">name</code> into a repository</p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /v1.19/images/test/tag?repo=myrepo&amp;force=0&amp;tag=v42 HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 201 Created
</code></pre></div></div>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>repo</strong> – The repository to tag in</li>
  <li><strong>force</strong> – 1/True/true or 0/False/false, default false</li>
  <li><strong>tag</strong> - The new tag name</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>201</strong> – no error</li>
  <li><strong>400</strong> – bad parameter</li>
  <li><strong>404</strong> – no such image</li>
  <li><strong>409</strong> – conflict</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="remove-an-image">Remove an image</h4>

<p><code class="language-plaintext highlighter-rouge">DELETE /images/(name)</code></p>

<p>Remove the image <code class="language-plaintext highlighter-rouge">name</code> from the filesystem</p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>DELETE /v1.19/images/test HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-type: application/json

[
 {"Untagged": "3e2f21a89f"},
 {"Deleted": "3e2f21a89f"},
 {"Deleted": "53b4f83ac9"}
]
</code></pre></div></div>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>force</strong> – 1/True/true or 0/False/false, default false</li>
  <li><strong>noprune</strong> – 1/True/true or 0/False/false, default false</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>404</strong> – no such image</li>
  <li><strong>409</strong> – conflict</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="search-images">Search images</h4>

<p><code class="language-plaintext highlighter-rouge">GET /images/search</code></p>

<p>Search for an image on <a href="https://hub.docker.com">Docker Hub</a>. This API
returns both <code class="language-plaintext highlighter-rouge">is_trusted</code> and <code class="language-plaintext highlighter-rouge">is_automated</code> images. Currently, they
are considered identical. In the future, the <code class="language-plaintext highlighter-rouge">is_trusted</code> property will
be deprecated and replaced by the <code class="language-plaintext highlighter-rouge">is_automated</code> property.</p>

<blockquote>
  <p><strong>Note</strong>:
The response keys have changed from API v1.6 to reflect the JSON
sent by the registry server to the docker daemon’s request.</p>
</blockquote>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET /v1.19/images/search?term=sshd HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/json

[
        {
            "star_count": 12,
            "is_official": false,
            "name": "wma55/u1210sshd",
            "is_trusted": false,
            "is_automated": false,
            "description": ""
        },
        {
            "star_count": 10,
            "is_official": false,
            "name": "jdswinbank/sshd",
            "is_trusted": false,
            "is_automated": false,
            "description": ""
        },
        {
            "star_count": 18,
            "is_official": false,
            "name": "vgauthier/sshd",
            "is_trusted": false,
            "is_automated": false,
            "description": ""
        }
...
]
</code></pre></div></div>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>term</strong> – term to search</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h3 id="23-misc">2.3 Misc</h3>

<h4 id="check-auth-configuration">Check auth configuration</h4>

<p><code class="language-plaintext highlighter-rouge">POST /auth</code></p>

<p>Get the default username and email</p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /v1.19/auth HTTP/1.1
Content-Type: application/json
Content-Length: 12345

{
     "username": "hannibal",
     "password": "xxxx",
     "email": "hannibal@a-team.com",
     "serveraddress": "https://index.docker.io/v1/"
}
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
</code></pre></div></div>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>204</strong> – no error</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="display-system-wide-information">Display system-wide information</h4>

<p><code class="language-plaintext highlighter-rouge">GET /info</code></p>

<p>Display system-wide information</p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET /v1.19/info HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/json

{
    "Containers": 11,
    "CpuCfsPeriod": true,
    "CpuCfsQuota": true,
    "Debug": false,
    "DockerRootDir": "/var/lib/docker",
    "Driver": "btrfs",
    "DriverStatus": [[""]],
    "ExecutionDriver": "native-0.1",
    "ExperimentalBuild": false,
    "HttpProxy": "http://test:test@localhost:8080",
    "HttpsProxy": "https://test:test@localhost:8080",
    "ID": "7TRN:IPZB:QYBB:VPBQ:UMPP:KARE:6ZNR:XE6T:7EWV:PKF4:ZOJD:TPYS",
    "IPv4Forwarding": true,
    "Images": 16,
    "IndexServerAddress": "https://index.docker.io/v1/",
    "InitPath": "/usr/bin/docker",
    "InitSha1": "",
    "KernelVersion": "3.12.0-1-amd64",
    "Labels": [
        "storage=ssd"
    ],
    "MemTotal": 2099236864,
    "MemoryLimit": true,
    "NCPU": 1,
    "NEventsListener": 0,
    "NFd": 11,
    "NGoroutines": 21,
    "Name": "prod-server-42",
    "NoProxy": "9.81.1.160",
    "OomKillDisable": true,
    "OperatingSystem": "Boot2Docker",
    "RegistryConfig": {
        "IndexConfigs": {
            "docker.io": {
                "Mirrors": null,
                "Name": "docker.io",
                "Official": true,
                "Secure": true
            }
        },
        "InsecureRegistryCIDRs": [
            "127.0.0.0/8"
        ]
    },
    "SwapLimit": false,
    "SystemTime": "2015-03-10T11:11:23.730591467-07:00"
}
</code></pre></div></div>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="show-the-docker-version-information">Show the docker version information</h4>

<p><code class="language-plaintext highlighter-rouge">GET /version</code></p>

<p>Show the docker version information</p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET /v1.19/version HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/json

{
     "Version": "1.5.0",
     "Os": "linux",
     "KernelVersion": "3.18.5-tinycore64",
     "GoVersion": "go1.4.1",
     "GitCommit": "a8a31ef",
     "Arch": "amd64",
     "ApiVersion": "1.19"
}
</code></pre></div></div>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="ping-the-docker-server">Ping the docker server</h4>

<p><code class="language-plaintext highlighter-rouge">GET /_ping</code></p>

<p>Ping the docker server</p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET /v1.19/_ping HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: text/plain

OK
</code></pre></div></div>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> - no error</li>
  <li><strong>500</strong> - server error</li>
</ul>

<h4 id="create-a-new-image-from-a-containers-changes">Create a new image from a container’s changes</h4>

<p><code class="language-plaintext highlighter-rouge">POST /commit</code></p>

<p>Create a new image from a container’s changes</p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /v1.19/commit?container=44c004db4b17&amp;comment=message&amp;repo=myrepo HTTP/1.1
Content-Type: application/json
Content-Length: 12345

{
     "Hostname": "",
     "Domainname": "",
     "User": "",
     "AttachStdin": false,
     "AttachStdout": true,
     "AttachStderr": true,
     "PortSpecs": null,
     "Tty": false,
     "OpenStdin": false,
     "StdinOnce": false,
     "Env": null,
     "Cmd": [
             "date"
     ],
     "Volumes": {
             "/tmp": {}
     },
     "Labels": {
             "key1": "value1",
             "key2": "value2"
      },
     "WorkingDir": "",
     "NetworkDisabled": false,
     "ExposedPorts": {
             "22/tcp": {}
     }
}
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 201 Created
Content-Type: application/json

{"Id": "596069db4bf5"}
</code></pre></div></div>

<p><strong>JSON parameters</strong>:</p>

<ul>
  <li><strong>config</strong> - the container’s configuration</li>
</ul>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>container</strong> – source container</li>
  <li><strong>repo</strong> – repository</li>
  <li><strong>tag</strong> – tag</li>
  <li><strong>comment</strong> – commit message</li>
  <li><strong>author</strong> – author (e.g., “John Hannibal Smith
&lt;<a href="mailto:hannibal%40a-team.com">hannibal@a-team.com</a>&gt;”)</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>201</strong> – no error</li>
  <li><strong>404</strong> – no such container</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="monitor-dockers-events">Monitor Docker’s events</h4>

<p><code class="language-plaintext highlighter-rouge">GET /events</code></p>

<p>Get container events from docker, in real time via streaming.</p>

<p>Docker containers report the following events:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>attach, commit, copy, create, destroy, die, exec_create, exec_start, export, kill, oom, pause, rename, resize, restart, start, stop, top, unpause
</code></pre></div></div>

<p>Docker images report the following events:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>untag, delete
</code></pre></div></div>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET /v1.19/events?since=1374067924
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/json

{"status": "create", "id": "dfdf82bd3881","from": "ubuntu:latest", "time":1374067924}
{"status": "start", "id": "dfdf82bd3881","from": "ubuntu:latest", "time":1374067924}
{"status": "stop", "id": "dfdf82bd3881","from": "ubuntu:latest", "time":1374067966}
{"status": "destroy", "id": "dfdf82bd3881","from": "ubuntu:latest", "time":1374067970}
</code></pre></div></div>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>since</strong> – Timestamp. Show all events created since timestamp and then stream</li>
  <li><strong>until</strong> – Timestamp. Show events created until given timestamp and stop streaming</li>
  <li><strong>filters</strong> – A json encoded value of the filters (a map[string][]string) to process on the event list. Available filters:</li>
  <li><code class="language-plaintext highlighter-rouge">container=&lt;string&gt;</code>; -- container to filter</li>
  <li><code class="language-plaintext highlighter-rouge">event=&lt;string&gt;</code>; -- event to filter</li>
  <li><code class="language-plaintext highlighter-rouge">image=&lt;string&gt;</code>; -- image to filter</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="get-a-tarball-containing-all-images-in-a-repository">Get a tarball containing all images in a repository</h4>

<p><code class="language-plaintext highlighter-rouge">GET /images/(name)/get</code></p>

<p>Get a tarball containing all images and metadata for the repository specified
by <code class="language-plaintext highlighter-rouge">name</code>.</p>

<p>If <code class="language-plaintext highlighter-rouge">name</code> is a specific name and tag (e.g. ubuntu:latest), then only that image
(and its parents) are returned. If <code class="language-plaintext highlighter-rouge">name</code> is an image ID, similarly only that
image (and its parents) are returned, but with the exclusion of the
‘repositories’ file in the tarball, as there were no image names referenced.</p>

<p>See the <a href="#image-tarball-format">image tarball format</a> for more details.</p>

<p><strong>Example request</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET /v1.19/images/ubuntu/get
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/x-tar

Binary data stream
</code></pre></div></div>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="get-a-tarball-containing-all-images">Get a tarball containing all images</h4>

<p><code class="language-plaintext highlighter-rouge">GET /images/get</code></p>

<p>Get a tarball containing all images and metadata for one or more repositories.</p>

<p>For each value of the <code class="language-plaintext highlighter-rouge">names</code> parameter: if it is a specific name and tag (e.g.
<code class="language-plaintext highlighter-rouge">ubuntu:latest</code>), then only that image (and its parents) are returned; if it is
an image ID, similarly only that image (and its parents) are returned and there
would be no names referenced in the ‘repositories’ file for this image ID.</p>

<p>See the <a href="#image-tarball-format">image tarball format</a> for more details.</p>

<p><strong>Example request</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET /v1.19/images/get?names=myname%2Fmyapp%3Alatest&amp;names=busybox
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/x-tar

Binary data stream
</code></pre></div></div>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="load-a-tarball-with-a-set-of-images-and-tags-into-docker">Load a tarball with a set of images and tags into docker</h4>

<p><code class="language-plaintext highlighter-rouge">POST /images/load</code></p>

<p>Load a set of images and tags into a Docker repository.
See the <a href="#image-tarball-format">image tarball format</a> for more details.</p>

<p><strong>Example request</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /v1.19/images/load
Content-Type: application/x-tar
Content-Length: 12345

Tarball in body
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
</code></pre></div></div>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>500</strong> – server error</li>
</ul>

<h4 id="image-tarball-format">Image tarball format</h4>

<p>An image tarball contains one directory per image layer (named using its long ID),
each containing these files:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">VERSION</code>: currently <code class="language-plaintext highlighter-rouge">1.0</code> - the file format version</li>
  <li><code class="language-plaintext highlighter-rouge">json</code>: detailed layer information, similar to <code class="language-plaintext highlighter-rouge">docker inspect layer_id</code></li>
  <li><code class="language-plaintext highlighter-rouge">layer.tar</code>: A tarfile containing the filesystem changes in this layer</li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">layer.tar</code> file contains <code class="language-plaintext highlighter-rouge">aufs</code> style <code class="language-plaintext highlighter-rouge">.wh..wh.aufs</code> files and directories
for storing attribute changes and deletions.</p>

<p>If the tarball defines a repository, the tarball should also include a <code class="language-plaintext highlighter-rouge">repositories</code> file at
the root that contains a list of repository and tag names mapped to layer IDs.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{"hello-world":
    {"latest": "565a9d68a73f6706862bfe8409a7f659776d4d60a8d096eb4a3cbce6999cc2a1"}
}
</code></pre></div></div>

<h4 id="exec-create">Exec Create</h4>

<p><code class="language-plaintext highlighter-rouge">POST /containers/(id or name)/exec</code></p>

<p>Sets up an exec instance in a running container <code class="language-plaintext highlighter-rouge">id</code></p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /v1.19/containers/e90e34656806/exec HTTP/1.1
Content-Type: application/json
Content-Length: 12345

{
  "AttachStdin": true,
  "AttachStdout": true,
  "AttachStderr": true,
  "Cmd": ["sh"],
  "Tty": true,
  "User": "123:456"
}
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 201 Created
Content-Type: application/json

{
     "Id": "f90e34656806",
     "Warnings":[]
}
</code></pre></div></div>

<p><strong>JSON parameters</strong>:</p>

<ul>
  <li><strong>AttachStdin</strong> - Boolean value, attaches to <code class="language-plaintext highlighter-rouge">stdin</code> of the <code class="language-plaintext highlighter-rouge">exec</code> command.</li>
  <li><strong>AttachStdout</strong> - Boolean value, attaches to <code class="language-plaintext highlighter-rouge">stdout</code> of the <code class="language-plaintext highlighter-rouge">exec</code> command.</li>
  <li><strong>AttachStderr</strong> - Boolean value, attaches to <code class="language-plaintext highlighter-rouge">stderr</code> of the <code class="language-plaintext highlighter-rouge">exec</code> command.</li>
  <li><strong>Tty</strong> - Boolean value to allocate a pseudo-TTY.</li>
  <li><strong>Cmd</strong> - Command to run specified as a string or an array of strings.</li>
  <li><strong>User</strong> - A string value specifying the user, and optionally, group to run
    the exec process inside the container. Format is one of: <code class="language-plaintext highlighter-rouge">"user"</code>,
    <code class="language-plaintext highlighter-rouge">"user:group"</code>, <code class="language-plaintext highlighter-rouge">"uid"</code>, or <code class="language-plaintext highlighter-rouge">"uid:gid"</code>.</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>201</strong> – no error</li>
  <li><strong>404</strong> – no such container</li>
</ul>

<h4 id="exec-start">Exec Start</h4>

<p><code class="language-plaintext highlighter-rouge">POST /exec/(id)/start</code></p>

<p>Starts a previously set up <code class="language-plaintext highlighter-rouge">exec</code> instance <code class="language-plaintext highlighter-rouge">id</code>. If <code class="language-plaintext highlighter-rouge">detach</code> is true, this API
returns after starting the <code class="language-plaintext highlighter-rouge">exec</code> command. Otherwise, this API sets up an
interactive session with the <code class="language-plaintext highlighter-rouge">exec</code> command.</p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /v1.19/exec/e90e34656806/start HTTP/1.1
Content-Type: application/json
Content-Length: 12345

{
 "Detach": false,
 "Tty": false
}
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: application/vnd.docker.raw-stream


{{ STREAM }}
</code></pre></div></div>

<p><strong>JSON parameters</strong>:</p>

<ul>
  <li><strong>Detach</strong> - Detach from the <code class="language-plaintext highlighter-rouge">exec</code> command.</li>
  <li><strong>Tty</strong> - Boolean value to allocate a pseudo-TTY.</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>404</strong> – no such exec instance</li>
</ul>

<p><strong>Stream details</strong>:</p>

<p>Similar to the stream behavior of <code class="language-plaintext highlighter-rouge">POST /containers/(id or name)/attach</code> API</p>

<h4 id="exec-resize">Exec Resize</h4>

<p><code class="language-plaintext highlighter-rouge">POST /exec/(id)/resize</code></p>

<p>Resizes the <code class="language-plaintext highlighter-rouge">tty</code> session used by the <code class="language-plaintext highlighter-rouge">exec</code> command <code class="language-plaintext highlighter-rouge">id</code>.  The unit is number of characters.
This API is valid only if <code class="language-plaintext highlighter-rouge">tty</code> was specified as part of creating and starting the <code class="language-plaintext highlighter-rouge">exec</code> command.</p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST /v1.19/exec/e90e34656806/resize?h=40&amp;w=80 HTTP/1.1
Content-Type: text/plain
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 201 Created
Content-Type: text/plain
</code></pre></div></div>

<p><strong>Query parameters</strong>:</p>

<ul>
  <li><strong>h</strong> – height of <code class="language-plaintext highlighter-rouge">tty</code> session</li>
  <li><strong>w</strong> – width</li>
</ul>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>201</strong> – no error</li>
  <li><strong>404</strong> – no such exec instance</li>
</ul>

<h4 id="exec-inspect">Exec Inspect</h4>

<p><code class="language-plaintext highlighter-rouge">GET /exec/(id)/json</code></p>

<p>Return low-level information about the <code class="language-plaintext highlighter-rouge">exec</code> command <code class="language-plaintext highlighter-rouge">id</code>.</p>

<p><strong>Example request</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET /v1.19/exec/11fb006128e8ceb3942e7c58d77750f24210e35f879dd204ac975c184b820b39/json HTTP/1.1
</code></pre></div></div>

<p><strong>Example response</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Content-Type: plain/text

{
  "ID" : "11fb006128e8ceb3942e7c58d77750f24210e35f879dd204ac975c184b820b39",
  "Running" : false,
  "ExitCode" : 2,
  "ProcessConfig" : {
    "privileged" : false,
    "user" : "",
    "tty" : false,
    "entrypoint" : "sh",
    "arguments" : [
      "-c",
      "exit 2"
    ]
  },
  "OpenStdin" : false,
  "OpenStderr" : false,
  "OpenStdout" : false,
  "Container" : {
    "State" : {
      "Running" : true,
      "Paused" : false,
      "Restarting" : false,
      "OOMKilled" : false,
      "Pid" : 3650,
      "ExitCode" : 0,
      "Error" : "",
      "StartedAt" : "2014-11-17T22:26:03.717657531Z",
      "FinishedAt" : "0001-01-01T00:00:00Z"
    },
    "ID" : "8f177a186b977fb451136e0fdf182abff5599a08b3c7f6ef0d36a55aaf89634c",
    "Created" : "2014-11-17T22:26:03.626304998Z",
    "Path" : "date",
    "Args" : [],
    "Config" : {
      "Hostname" : "8f177a186b97",
      "Domainname" : "",
      "User" : "",
      "AttachStdin" : false,
      "AttachStdout" : false,
      "AttachStderr" : false,
      "PortSpecs": null,
      "ExposedPorts" : null,
      "Tty" : false,
      "OpenStdin" : false,
      "StdinOnce" : false,
      "Env" : [ "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin" ],
      "Cmd" : [
        "date"
      ],
      "Image" : "ubuntu",
      "Volumes" : null,
      "WorkingDir" : "",
      "Entrypoint" : null,
      "NetworkDisabled" : false,
      "MacAddress" : "",
      "OnBuild" : null,
      "SecurityOpt" : null
    },
    "Image" : "5506de2b643be1e6febbf3b8a240760c6843244c41e12aa2f60ccbb7153d17f5",
    "NetworkSettings" : {
      "IPAddress" : "172.17.0.2",
      "IPPrefixLen" : 16,
      "MacAddress" : "02:42:ac:11:00:02",
      "Gateway" : "172.17.42.1",
      "Bridge" : "docker0",
      "PortMapping" : null,
      "Ports" : {}
    },
    "ResolvConfPath" : "/var/lib/docker/containers/8f177a186b977fb451136e0fdf182abff5599a08b3c7f6ef0d36a55aaf89634c/resolv.conf",
    "HostnamePath" : "/var/lib/docker/containers/8f177a186b977fb451136e0fdf182abff5599a08b3c7f6ef0d36a55aaf89634c/hostname",
    "HostsPath" : "/var/lib/docker/containers/8f177a186b977fb451136e0fdf182abff5599a08b3c7f6ef0d36a55aaf89634c/hosts",
    "LogPath": "/var/lib/docker/containers/1eb5fabf5a03807136561b3c00adcd2992b535d624d5e18b6cdc6a6844d9767b/1eb5fabf5a03807136561b3c00adcd2992b535d624d5e18b6cdc6a6844d9767b-json.log",
    "Name" : "/test",
    "Driver" : "aufs",
    "ExecDriver" : "native-0.2",
    "MountLabel" : "",
    "ProcessLabel" : "",
    "AppArmorProfile" : "",
    "RestartCount" : 0,
    "Volumes" : {},
    "VolumesRW" : {}
  }
}
</code></pre></div></div>

<p><strong>Status codes</strong>:</p>

<ul>
  <li><strong>200</strong> – no error</li>
  <li><strong>404</strong> – no such exec instance</li>
  <li><strong>500</strong> - server error</li>
</ul>

<h2 id="3-going-further">3. Going further</h2>

<h3 id="31-inside-docker-run">3.1 Inside <code class="language-plaintext highlighter-rouge">docker run</code></h3>

<p>As an example, the <code class="language-plaintext highlighter-rouge">docker run</code> command line makes the following API calls:</p>

<ul>
  <li>
    <p>Create the container</p>
  </li>
  <li>If the status code is 404, it means the image doesn’t exist:
    <ul>
      <li>Try to pull it.</li>
      <li>Then, retry to create the container.</li>
    </ul>
  </li>
  <li>
    <p>Start the container.</p>
  </li>
  <li>If you are not in detached mode:</li>
  <li>
    <p>Attach to the container, using <code class="language-plaintext highlighter-rouge">logs=1</code> (to have <code class="language-plaintext highlighter-rouge">stdout</code> and
    <code class="language-plaintext highlighter-rouge">stderr</code> from the container’s start) and <code class="language-plaintext highlighter-rouge">stream=1</code></p>
  </li>
  <li>If in detached mode or only <code class="language-plaintext highlighter-rouge">stdin</code> is attached, display the container’s id.</li>
</ul>

<h3 id="32-hijacking">3.2 Hijacking</h3>

<p>In this version of the API, <code class="language-plaintext highlighter-rouge">/attach</code>, uses hijacking to transport <code class="language-plaintext highlighter-rouge">stdin</code>,
<code class="language-plaintext highlighter-rouge">stdout</code>, and <code class="language-plaintext highlighter-rouge">stderr</code> on the same socket.</p>

<p>To hint potential proxies about connection hijacking, Docker client sends
connection upgrade headers similarly to websocket.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Upgrade: tcp
Connection: Upgrade
</code></pre></div></div>

<p>When Docker daemon detects the <code class="language-plaintext highlighter-rouge">Upgrade</code> header, it switches its status code
from <strong>200 OK</strong> to <strong>101 UPGRADED</strong> and resends the same headers.</p>

<h3 id="33-cors-requests">3.3 CORS Requests</h3>

<p>To set cross origin requests to the Engine API please give values to
<code class="language-plaintext highlighter-rouge">--api-cors-header</code> when running Docker in daemon mode. Set * (asterisk) allows all,
default or blank means CORS disabled</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ docker -d -H="192.168.1.9:2375" --api-cors-header="http://foo.bar"
</code></pre></div></div>
<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="/docs.docker.jp.onthefly/search/?q=API">API</a>, <a href="/docs.docker.jp.onthefly/search/?q=Docker">Docker</a>, <a href="/docs.docker.jp.onthefly/search/?q=rcli">rcli</a>, <a href="/docs.docker.jp.onthefly/search/?q=REST">REST</a>, <a href="/docs.docker.jp.onthefly/search/?q=documentation">documentation</a></span><div class="ratings-div"><div id="pd_rating_holder_8453675"></div></div></section>
                    </main>
                    <nav class="col-nav">
                        <div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
                            <div id="navbar" class="nav-sidebar">
                                <ul class="nav jsTOCHorizontal hidden-md hidden-lg"></ul>
                                <ul class="nav" id="jsTOCLeftNav"></ul>
                            </div>
                        </div>
                    </nav>
                    <div class="col-toc">
                        <div class="sidebar hidden-xs hidden-sm">
                            <div class="toc-nav">
                                <div class="feedback-links">
                                    <ul><li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/edit/master/src/engine/api/v1.19.ch"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> 本ページの編集</a></li><li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/issues/new?body=File: [engine/api/v1.19.ch](https://matsuand.github.io/docs.docker.jp.onthefly/engine/api/v1.19/)" class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 変更リクエスト</a></li>
                                        <li><div class="toggle-mode">
  <div class="icon">
      <i class="fa fa-sun-o" aria-hidden="true"></i>
  </div>
  <div class="toggle-switch">
      <label class="switch">
          <input type="checkbox" id="switch-style">
          <span class="slider round"></span>
      </label>
  </div>
  <div class="icon">
      <i class="fa fa-moon-o" aria-hidden="true"></i>
  </div>
</div>
</li>
                                    </ul>
                                </div><div id="side-toc-title">本ページ内:</div>
<ul id="my_toc" class="inline_toc">
  <li><a href="#1-brief-introduction" class="nomunge">1. Brief introduction</a></li>
  <li><a href="#2-endpoints" class="nomunge">2. Endpoints</a>
    <ul>
      <li><a href="#21-containers" class="nomunge">2.1 Containers</a></li>
      <li><a href="#22-images" class="nomunge">2.2 Images</a></li>
      <li><a href="#23-misc" class="nomunge">2.3 Misc</a></li>
    </ul>
  </li>
  <li><a href="#3-going-further" class="nomunge">3. Going further</a>
    <ul>
      <li><a href="#31-inside-docker-run" class="nomunge">3.1 Inside docker run</a></li>
      <li><a href="#32-hijacking" class="nomunge">3.2 Hijacking</a></li>
      <li><a href="#33-cors-requests" class="nomunge">3.3 CORS Requests</a></li>
    </ul>
  </li>
</ul>

</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer">
          
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/why-docker">なぜ Docker なのか？</a></b></li>
                        <li><a href="https://www.docker.com/what-container">コンテナーって何？</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/overview">製品</a></b></li>
                        <li><a href="https://www.docker.com/products/docker-desktop">Docker Desktop</a></li>
                        <li><a href="https://www.docker.com/products/docker-hub">Docker Hub</a></li>
                        <li><b><a href="https://www.docker.com/products/docker-desktop">機能</a></b></li>
                        <li><a href="https://www.docker.com/products/container-runtime">コンテナーランタイム</a></li>
                        <li><a href="https://www.docker.com/products/developer-tools">開発ツール</a></li>
                        <li><a href="https://www.docker.com/products/kubernetes">Kubernetes</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop">開発者</a></b></li>
                        <li><a href="https://www.docker.com/use-cases">利用例</a></li>
                        <li><a href="https://www.docker.com/play-with-docker">Docker で遊ぶ</a></li>
                        <li><a href="https://www.docker.com/docker-community">コミュニティ</a></li>
                        <li><a href="https://www.docker.com/open-source">オープンソース</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker キャプテン</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/company" target="_blank" rel="noopener">会社</a></b></li>
                        <li><a href="https://www.docker.com/company">概要</a></li>
                        <li><a href="https://www.docker.com/blog/" target="_blank" rel="noopener">ブログ</a></li>
                        <li><a href="https://www.docker.com/customers">顧客</a></li>
                        <li><a href="https://www.docker.com/partners">パートナー</a></li>
                        <li><a href="https://www.docker.com/company/newsroom">ニュースルーム</a></li>
                        <li><a href="https://www.docker.com/careers">採用情報</a></li>
                        <li><a href="https://www.docker.com/company/contact">連絡先</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">ステータス</a></li>
                        <li><a href="https://www.docker.com/docker-security">セキュリティ</a></li>
                        <li><a href="https://www.docker.com/legal">法的情報</a></li>
                        <li><a href="https://www.docker.com/company/contact">連絡</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2013-2020 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-slideshare"><a href="https://www.slideshare.net/docker">Slideshare</a></li>
                    <li class="fa fa-reddit"><a href="https://www.reddit.com/r/docker">Reddit</a></li>
                </ul>
            </div>
        </div>
    </div>

    </footer>
    <script>const pageURL = "/engine/api/v1.19/";</script></body>
</html>
