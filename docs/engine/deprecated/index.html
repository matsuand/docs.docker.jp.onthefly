<!-- Page generated 2020-10-23 11:23:39 +0900 -->
<!DOCTYPE html>
<html lang="ja"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>廃止となった Engine 機能 | Docker ドキュメント</title>
  <meta name="description" content="Deprecated Features." />
  <meta name="keywords" content="docker, documentation, about, technology, deprecate">
  <link rel="canonical" href="https://localhost:4000{{ site.baseurl }}/engine/deprecated/" />

  <!-- favicon -->
  <link rel="icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <link rel="apple-touch-icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <meta name="msapplication-TileImage" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico">
  <meta property="og:image" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
  <meta name="theme-color" content="#2496ed" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"><script defer src="/docs.docker.jp.onthefly/js/theme-switcher.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/anchorlinks.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/jquery.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/docs.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/search.js"></script><link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/geomanist/hinted-Geomanist-Book.woff2"    type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/geomanist/hinted-Geomanist-Regular.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/glyphicons-halflings-regular.woff2"       type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/fontawesome-webfont.woff2?v=4.7.0"        type="font/woff2" crossorigin="anonymous">

  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/font-awesome.min.css">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/bootstrap.min.css">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/style.css" id="pagestyle">

  <!-- SEO stuff -->
  <meta name="twitter:title" itemprop="title name" content="廃止となった Engine 機能"/>
  <meta name="twitter:description" property="og:description" itemprop="description" content="" />
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:domain" content="matsuand.github.io"/>
  <meta name="twitter:site" content="@docker_docs"/>
  <meta name="twitter:url" content="https://twitter.com/docker_docs"/>
  <meta name="twitter:image:src" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta name="twitter:image:alt" content="Docker ドキュメント"/>
  <meta property="og:title" content="廃止となった Engine 機能" />
  <meta property="og:description" content="Deprecated Features." />
  <meta property="og:type" content="website"/>
  <meta property="og:updated_time" itemprop="dateUpdated" content="2020-10-23T11:23:39+09:00"/>
  <meta property="og:image" itemprop="image primaryImageOfPage" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta property="og:locale" content="ja_JP" />
  <meta property="og:url" content="https://matsuand.github.io/docs.docker.jp.onthefly/engine/deprecated/" />
  <meta property="og:site_name" content="Docker ドキュメント" />
  <meta property="article:published_time" itemprop="datePublished" content="2020-10-23T11:23:39+09:00"/>
  <script type="application/ld+json">{"@context":"http://schema.org","@type":"WebPage","headline":"廃止となった Engine 機能","description":"Deprecated Features.","url":"https://docs.docker.com/engine/deprecated/"}</script>
  <!-- END SEO STUFF -->
</head>
<body class="colums">
    <header>
        <nav class="nav-secondary navbar navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="/docs.docker.jp.onthefly/">
                <img class="logo" src="/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs" width="160" height="28" />
            </a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="logo-mobile">
    <a href="/docs.docker.jp.onthefly/">
        <img src="/docs.docker.jp.onthefly/images/docker-icon.svg" alt="Docker Docs" title="Docker Docs" width="30" height="30" />
    </a>
</div>
<div class="search-form" id="search-div">
    <form class="search-form form-inline" id="searchForm" action="/docs.docker.jp.onthefly/search/" method="get">
        <label for="st-search-input" class="sr-only">検索</label>
        <input class="search-field form-control ds-input" id="st-search-input" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteResults"></div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container hidden-sm hidden-xs">
    <div id="tabs">
        <ul class="tabs jsTOCHorizontal"><li><a href="/docs.docker.jp.onthefly/" id="home">ホーム</a></li><li><a href="/docs.docker.jp.onthefly/get-started/overview/" id="guides">ガイド</a></li><li><a href="/docs.docker.jp.onthefly/engine/" id="manuals">製品マニュアル</a></li><li><a href="/docs.docker.jp.onthefly/reference/" id="reference">リファレンス</a></li><li><a href="/docs.docker.jp.onthefly/samples/" id="samples">サンプル</a></li></ul>
    </div>
    <div class="ctrl-right">
        <a href="javascript:void(0)" id="menu-toggle" aria-label="現在ページのメニュートグル"><i class="fa fa-indent" aria-hidden="true"></i></a>
    </div>
</div>

        </div>
    </div>
</nav>

    </header>
    <div class="wrapper right-open">
        <div class="container-fluid">
            <div class="row">
                <div class="col-body">
                    <main class="col-content content">
                        <section class="section"><h1>廃止となった Engine 機能</h1><span class="reading-time" title="Estimated reading time">
  <span class="reading-time-label">読む時間の目安: </span>
  
  
    6 分
  
</span>
<!-- This file is maintained within the docker/cli GitHub
     repository at https://github.com/docker/cli/. Make all
     pull requests against that repo. If you see this file in
     another repository, consider it read-only there, as it will
     periodically be overwritten by the definitive file. Pull
     requests which include edits to this file in other repositories
     will be rejected.
-->

<p>以下に示す機能一覧は Engine において廃止決定されたものです。
Docker Engine における廃止決定ポリシーについては <a href="/docs.docker.jp.onthefly/engine/#feature-deprecation-policy">廃止決定に関するポリシー</a> を参照してください。</p>

<h3 id="pushing-and-pulling-with-image-manifest-v2-schema-1">イメージプッシュとプルに関するマニフェスト v2 スキーム 1</h3>

<p><strong>廃止決定されたリリース: v19.03.0</strong></p>

<p><strong>削除対象とされたリリース: v19.09.0</strong></p>

<p>イメージマニフェスト <a href="https://github.com/docker/distribution/blob/fda42e5ef908bdba722d435ff1f330d40dfcd56c/docs/spec/manifest-v2-1.md">v2 スキーム 1</a> フォーマットは廃止決定され、<a href="https://github.com/docker/distribution/blob/fda42e5ef908bdba722d435ff1f330d40dfcd56c/docs/spec/manifest-v2-2.md">v2 スキーム 2</a> フォーマットに変わります。</p>

<p>利用中のレジストリが v2 スキーマ 1 対応の場合は、v2 スキーマ 2 への移行を管理者へ伝えてください。</p>

<h3 id="legacy-overlay-storage-driver">古い「overlay」ストレージドライバー</h3>

<p><strong>廃止決定されたリリース: v18.09.0</strong></p>

<p><code class="highlighter-rouge">overlay</code> ストレージドライバーは廃止決定され、<code class="highlighter-rouge">overlay2</code> に変わりました。
<code class="highlighter-rouge">overlay2</code> は <code class="highlighter-rouge">overlay</code> の機能をすべて引き継いだ上で、その制約（過剰な inode 消費に関する制約）が取り除かれています。
この古い <code class="highlighter-rouge">overlay</code> ストレージドライバーは、将来のリリースにおいて削除される予定です。
<code class="highlighter-rouge">overlay</code> ストレージドライバーの利用者は、<code class="highlighter-rouge">overlay2</code> ストレージドライバーに移行するようにしてください。</p>

<p>古い <code class="highlighter-rouge">overlay</code> ストレージドライバーでは、それまでの 4.x カーネル上において overlayFS をベースとしたファイルシステムを用いていました。
現在はサポートされているディストリビューションは、すべてにおいて <code class="highlighter-rouge">overlay2</code> が利用できるようになっています。
（たとえカーネルが 4.x の場合や、下層側ディレクトリを複数可能とするサポートがある場合でも利用可能です。）
<code class="highlighter-rouge">overlay</code> ストレージドライバーの保守を続ける理由は、もはやなくなりました。</p>

<h3 id="device-mapper-storage-driver">device mapper ストレージドライバー</h3>

<p><strong>廃止決定されたリリース: v18.09.0</strong></p>

<p><code class="highlighter-rouge">devicemapper</code> ストレージドライバーは廃止決定され、<code class="highlighter-rouge">overlay2</code> に変わりました。
そして将来のリリースにおいて削除される予定です。
<code class="highlighter-rouge">devicemapper</code> ストレージドライバーの利用者は、現在デフォルトのストレージドライバーとなっている <code class="highlighter-rouge">overlay2</code> などの、別のストレージドライバーへの移行が求められます。</p>

<p><code class="highlighter-rouge">devicemapper</code> ストレージドライバーは、かつての 3.x カーネル上において Docker を稼動させることを勧めていましたが、そのカーネルでは、他のストレージドライバー（overlay2 や AUFS など）はサポートされません。</p>

<p>今では <code class="highlighter-rouge">overlay2</code> への対応が、サポートされているディストリビューションに追加されたため、（たとえカーネルが 4.x の場合や、下層側ディレクトリを複数可能とするサポートがある場合であっても）<code class="highlighter-rouge">devicemapper</code> ストレージドライバーの保守を続ける理由は、もはやなくなりました。</p>

<h3 id="aufs-storage-driver">AuFS ストレージドライバー</h3>

<p><strong>廃止決定されたリリース: v19.03.0</strong></p>

<p><code class="highlighter-rouge">aufs</code> ストレージドライバーは廃止決定され <code class="highlighter-rouge">overlay2</code> に変わりました。
将来リリースにおいて削除される予定です。
<code class="highlighter-rouge">aufs</code> ストレージドライバーの利用者は、現在デフォルトのストレージドライバーとなっている <code class="highlighter-rouge">overlay2</code> などの、別のストレージドライバーへの移行が求められます。</p>

<p><code class="highlighter-rouge">aufs</code> ストレージドライバーは、OverlayFS をサポートしていない、たとえば Ubuntu 14.04 LTS などのディストリビューションにおいて Docker を稼動させる際にその利用を勧めていましたが、もともとは 3.14 カーネルにおいて提供されたものでした。</p>

<p>現在 Ubuntu 14.04 は Docker においてサポートされるディストリビューションではなくなりました。
また <code class="highlighter-rouge">overlay2</code> への対応が、サポートされているディストリビューションに追加されたため、（たとえカーネルが 4.x の場合や、下層側ディレクトリを複数可能とするサポートがある場合であっても）<code class="highlighter-rouge">aufs</code> ストレージドライバーの保守を続ける理由は、もはやなくなりました。</p>

<h3 id="reserved-namespaces-in-engine-labels">Engine ラベルでの予約されている名前空間</h3>

<p><strong>廃止決定されたリリース: v18.06.0</strong></p>

<p>Engine ラベルにおいて用いられる名前空間 <code class="highlighter-rouge">com.docker.*</code>、<code class="highlighter-rouge">io.docker.*</code>、<code class="highlighter-rouge">org.dockerproject.*</code> は、予約されたものとして常々説明されてきましたが、強制されるものではありませんでした。</p>

<p>今後はこの名前空間を利用した際に、これを利用しないよう、Engine のログに警告が出力されます。
これは 18.12 またはそれ以降においてはエラーとなります。</p>

<h3 id="service-create-と-service-update-の非同期実行"><code class="highlighter-rouge">service create</code> と <code class="highlighter-rouge">service update</code> の非同期実行</h3>

<p><strong>廃止決定されたリリース: v17.05.0</strong></p>

<p><strong>デフォルトで無効となったリリース: <a href="https://github.com/docker/docker-ce/releases/tag/v17.10.0-ce">v17.10</a></strong></p>

<p>17.05.0 では、任意のオプション <code class="highlighter-rouge">--detach=false</code> が追加され、<code class="highlighter-rouge">docker service create</code> と <code class="highlighter-rouge">docker service update</code> を同期して動作させることができるようになりました。
Docker 17.10 において、このオプションのデフォルト値は enable となります。
その場合 <code class="highlighter-rouge">--detach</code> フラグは、以前の（非同期の）動作を行うために利用するものとなります。</p>

<p>このオプションのデフォルトは Docker 17.10 における <code class="highlighter-rouge">docker service rollback</code>、<code class="highlighter-rouge">docker service scale</code> においても変更されます。</p>

<h3 id="dockerd-における--g-フラグと---graph-フラグ"><code class="highlighter-rouge">dockerd</code> における <code class="highlighter-rouge">-g</code> フラグと <code class="highlighter-rouge">--graph</code> フラグ</h3>

<p><strong>廃止決定されたリリース: v17.05.0</strong></p>

<p><code class="highlighter-rouge">dockerd</code> または <code class="highlighter-rouge">docker daemon</code> コマンドにおける <code class="highlighter-rouge">-g</code> または <code class="highlighter-rouge">--graph</code> フラグは、恒常的なデータやリソース設定の保存場所とするディレクトリを指定するものでした。
これは、よりわかりやすい <code class="highlighter-rouge">--data-root</code> というものに変わります。
flag.</p>

<p>このフラグが追加されたのは Docker 1.0 以前であるため、<strong>削除</strong> はされず <strong>隠された</strong> フラグとなり、その利用は勧められないものとなりました。</p>

<h3 id="top-level-network-properties-in-networksettings">NetworkSettings 配下のトップレベルのネットワークプロパティ</h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.13.0">v1.13.0</a></strong></p>

<p><strong>削除対象とされたリリース: v17.12</strong></p>

<p>コンテナー定義の <code class="highlighter-rouge">NetworkSettings</code> 配下に、デフォルトの「bridge」ネットワークに関する情報がトップベレルにおいて設定されます。</p>

<p><code class="highlighter-rouge">EndpointID</code>, <code class="highlighter-rouge">Gateway</code>, <code class="highlighter-rouge">GlobalIPv6Address</code>, <code class="highlighter-rouge">GlobalIPv6PrefixLen</code>, <code class="highlighter-rouge">IPAddress</code>,
<code class="highlighter-rouge">IPPrefixLen</code>, <code class="highlighter-rouge">IPv6Gateway</code>, <code class="highlighter-rouge">MacAddress</code> です。</p>

<p>このプロパティは廃止決定され、<code class="highlighter-rouge">NetworkSettings.Networks</code> 内での各ネットワークごとのプロパティに変わります。
このプロパティは、すでに Docker 1.9 において「廃止決定」されていましたが、下位互換のために残されていました。</p>

<p>詳細については <a href="https://github.com/docker/docker/pull/17538">#17538</a> を参照してください。</p>

<h3 id="filter-param-for-imagesjson-endpoint">エンドポイント <code class="highlighter-rouge">/images/json</code> の <code class="highlighter-rouge">filter</code> パラメーター</h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.13.0">v1.13.0</a></strong></p>

<p><strong>削除対象とされたリリース: v17.12</strong></p>

<p><code class="highlighter-rouge">filter</code> パラメーターは、（イメージ名やイメージ名：タグの形で）イメージを一覧表示する際のフィルターですが、現在は通常のフィルター <code class="highlighter-rouge">reference</code> として実装されました。</p>

<h3 id="repositoryshortid-image-references"><code class="highlighter-rouge">repository:shortid</code> によるイメージ参照</h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.13.0">v1.13.0</a></strong></p>

<p><strong>削除されたリリース: v17.12</strong></p>

<p>イメージを参照するための構文 <code class="highlighter-rouge">repository:shortid</code> は利用されることが少なく、タグ参照とまぎらわしく、さらにダイジェスト参照とも混同されます。</p>

<p><code class="highlighter-rouge">repository:shortid</code> によってイメージ参照を行うこの記述方法は、Docker 17.12 において削除されました。</p>

<h3 id="docker-daemon-subcommand"><code class="highlighter-rouge">docker daemon</code> サブコマンド</h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.13.0">v1.13.0</a></strong></p>

<p><strong>削除されたリリース: v17.12</strong></p>

<p>デーモンは個別のバイナリ（<code class="highlighter-rouge">dockerd</code>）として分離されたため、こちらを用いることになります。</p>

<h3 id="duplicate-keys-with-conflicting-values-in-engine-labels">Engine ラベルでのキー重複による値の衝突</h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.13.0">v1.13.0</a></strong></p>

<p><strong>削除されたリリース: v17.12</strong></p>

<p>重複したキーが設定されその値が衝突した場合、エラーが発生することになります。
この場合、デーモンは起動されなくなります。</p>

<h3 id="maintainer-in-dockerfile">Dockerfile における <code class="highlighter-rouge">MAINTAINER</code></h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.13.0">v1.13.0</a></strong></p>

<p><code class="highlighter-rouge">MAINTAINER</code> は <code class="highlighter-rouge">LABEL</code> の限定利用の形で当初利用されていましたが、代わりに <code class="highlighter-rouge">LABEL</code> を利用すべきものです。</p>

<h3 id="api-calls-without-a-version">バージョンを含まない API コール</h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.13.0">v1.13.0</a></strong></p>

<p><strong>削除対象とされたリリース: v17.12</strong></p>

<p>API 呼び出しにおいては、API バージョンを指定することが必要です。
これによって、将来の Engine バージョンとの互換性を保つためです。
URL において、たとえば単に <code class="highlighter-rouge">/containers/json</code> とするのではなく、<code class="highlighter-rouge">/v1.25/containers/json</code> とすることが今後必要になります。</p>

<h3 id="backing-filesystem-without-d_type-support-for-overlayoverlay2">overlay/overlay2 での <code class="highlighter-rouge">d_type</code> 未設定時のファイルシステム</h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.13.0">v1.13.0</a></strong></p>

<p><strong>削除されたリリース: v17.12</strong></p>

<p>ストレージドライバー overlay と overlay2 は、これが基づいているファイルシステムが <code class="highlighter-rouge">d_type</code> に対応していない場合、期待されるような動作をしません。
たとえば XFS は <code class="highlighter-rouge">ftype=0</code> を使ってフォーマットされている場合には <code class="highlighter-rouge">d_type</code> をサポートしません。</p>

<p>Docker 17.12 以降、<code class="highlighter-rouge">d_type</code> 未対応のファイルシステムへのサポートは、今後の overlay2 の開発において行われません。
17.12 までにアップグレードした既存バージョンでは、警告が出力されます。</p>

<p>詳細は <a href="https://github.com/docker/docker/issues/27358">#27358</a> を参照してください。</p>

<h3 id="three-arguments-form-in-docker-import"><code class="highlighter-rouge">docker import</code> における 3 種類の引数形式</h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v0.6.7">v0.6.7</a></strong></p>

<p><strong>削除されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.12.0">v1.12.0</a></strong></p>

<p><code class="highlighter-rouge">docker import</code> におけるコマンド形式 <code class="highlighter-rouge">file|URL|- [REPOSITORY [TAG]]</code> は 2013 年 11 月頃に廃止決定されました。
今後はサポートされません。</p>

<h3 id="--help-の短い形式--h"><code class="highlighter-rouge">--help</code> の短い形式 <code class="highlighter-rouge">-h</code></h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.12.0">v1.12.0</a></strong></p>

<p><strong>削除対象とされたリリース: v17.09</strong></p>

<p>Linux において短い形式のオプション（<code class="highlighter-rouge">-h</code>）は、長い形式（<code class="highlighter-rouge">--help</code>）に比べて、あまり一般的ではありません。
そしてサブコマンドのすべてにおいて利用できるわけではありません。
（これは衝突が起きる場合があるためで、たとえば <code class="highlighter-rouge">docker create</code> には <code class="highlighter-rouge">-h</code> / <code class="highlighter-rouge">--hostname</code> があります。）
このようなわけで、短い形式の <code class="highlighter-rouge">-h</code> は、サブコマンドの利用方法の説明からなくし、ドキュメント化もしていません。
そして今後は「廃止決定」としてラベルづけします。</p>

<h3 id="docker-login-におけるフラグ--e--email"><code class="highlighter-rouge">docker login</code> におけるフラグ <code class="highlighter-rouge">-e</code>、<code class="highlighter-rouge">--email</code></h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.11.0">v1.11.0</a></strong></p>

<p><strong>削除されたリリース: <a href="https://github.com/docker/docker-ce/releases/tag/v17.06.0-ce">v17.06</a></strong></p>

<p>docker login コマンドは、操作対象とするレジストリ上に、入力されたユーザー名が存在しなかった場合に、そのアカウントを自動的に登録していましたが、現在この機能は削除されています。
この変更により、email フラグは必要なくなったため、廃止決定となります。</p>

<h3 id="separator--of---security-opt-flag-on-docker-run"><code class="highlighter-rouge">docker run</code> における <code class="highlighter-rouge">--security-opt</code> のセパレーター（<code class="highlighter-rouge">:</code>）</h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.11.0">v1.11.0</a></strong></p>

<p><strong>削除対象とされたリリース: v17.06</strong></p>

<p><code class="highlighter-rouge">--security-opt</code> フラグでは、キーと値を切り分けて指定するためのセパレーター（<code class="highlighter-rouge">:</code>）は、今後は利用しません。
これはたとえば <code class="highlighter-rouge">--storage-opt</code> のような同様のフラグと一貫性を持たせるために、イコール（<code class="highlighter-rouge">=</code>）を利用します。</p>

<h3 id="containersid-or-namecopy-endpoint">エンドポイント <code class="highlighter-rouge">/containers/(IDまたは名前)/copy</code></h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.8.0">v1.8.0</a></strong></p>

<p><strong>削除されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.12.0">v1.12.0</a></strong></p>

<p>エンドポイント <code class="highlighter-rouge">/containers/(IDまたは名前)/copy</code> は廃止決定され、<code class="highlighter-rouge">/containers/(IDまたは名前)/archive</code> に変わります。</p>

<h3 id="ambiguous-event-fields-in-api">イベント API の不明瞭な項目</h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.10.0">v1.10.0</a></strong></p>

<p>イベント API における以下の項目、<code class="highlighter-rouge">ID</code>、<code class="highlighter-rouge">Status</code>、<code class="highlighter-rouge">From</code> はすでに廃止決定されています。
これは、より表現が豊かな構造に変わります。
新たなフォーマットに関しては、イベント API のドキュメントを参照してください。</p>

<h3 id="docker-tag-における--f-フラグ"><code class="highlighter-rouge">docker tag</code> における <code class="highlighter-rouge">-f</code> フラグ</h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.10.0">v1.10.0</a></strong></p>

<p><strong>削除されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.12.0">v1.12.0</a></strong></p>

<p>さまざまな <code class="highlighter-rouge">docker</code> コマンド間にてタグづけ機能に一貫性を持たせるために、<code class="highlighter-rouge">docker tag</code> コマンドの <code class="highlighter-rouge">-f</code> フラグは廃止決定されました。
1 つのイメージから別のイメージへタグを移動する際に、<code class="highlighter-rouge">-f</code> を指定する必要はなくなりました。
そして <code class="highlighter-rouge">-f</code> フラグの指定がなく、あるいは指定されたタグがすでに使用中であっても、<code class="highlighter-rouge">docker</code> ではエラーとなりません。</p>

<h3 id="hostconfig-at-api-container-start">API の container start における HostConfig</h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.10.0">v1.10.0</a></strong></p>

<p><strong>削除されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.12.0">v1.12.0</a></strong></p>

<p><code class="highlighter-rouge">POST /containers/{name}/start</code> に対して <code class="highlighter-rouge">HostConfig</code> を設定することは廃止決定となりました。
代わりに、コンテナーの生成時（<code class="highlighter-rouge">POST /containers/create</code>）に定義するものとなります。</p>

<h3 id="docker-ps-におけるフラグ---before--since"><code class="highlighter-rouge">docker ps</code> におけるフラグ <code class="highlighter-rouge">--before</code>、<code class="highlighter-rouge">--since</code></h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.10.0">v1.10.0</a></strong></p>

<p><strong>削除されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.12.0">v1.12.0</a></strong></p>

<p><code class="highlighter-rouge">docker ps --before</code> と <code class="highlighter-rouge">docker ps --since</code> というオプション指定は廃止決定されました。
代わりに <code class="highlighter-rouge">docker ps --filter=before=...</code> や <code class="highlighter-rouge">docker ps --filter=since=...</code> を利用するものとなります。</p>

<h3 id="docker-search-におけるフラグ---automated--stars"><code class="highlighter-rouge">docker search</code> におけるフラグ <code class="highlighter-rouge">--automated</code>、<code class="highlighter-rouge">--stars</code></h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.12.0">v1.12.0</a></strong></p>

<p><strong>削除対象とされたリリース: v17.09</strong></p>

<p><code class="highlighter-rouge">docker search --automated</code> と <code class="highlighter-rouge">docker search --stars</code> というオプション指定は廃止決定されました。
代わりに <code class="highlighter-rouge">docker search --filter=is-automated=...</code> と <code class="highlighter-rouge">docker search --filter=stars=...</code> を利用するものとなります。</p>

<h3 id="driver-specific-log-tags">ドライバー固有ログのタグづけ</h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.9.0">v1.9.0</a></strong></p>

<p><strong>削除されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.12.0">v1.12.0</a></strong></p>

<p>ログのタグは、多くのログドライバーにおいて標準的な方式で生成されています。
このため、ドライバー固有のタグづけを行うオプション <code class="highlighter-rouge">syslog-tag</code>、<code class="highlighter-rouge">gelf-tag</code>、<code class="highlighter-rouge">fluentd-tag</code> は廃止決定とされています。
代わりに汎用的な <code class="highlighter-rouge">tag</code> オプションを利用します。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
docker <span class="nt">--log-driver</span><span class="o">=</span>syslog <span class="nt">--log-opt</span> <span class="nv">tag</span><span class="o">=</span><span class="s2">"{{.ImageName}}/{{.Name}}/{{.ID}}"</span>

</code></pre></div></div>

<h3 id="lxc-built-in-exec-driver">LXC ビルトインの実行ドライバー</h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.8.0">v1.8.0</a></strong></p>

<p><strong>削除されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.10.0">v1.10.0</a></strong></p>

<p>LXC ビルトインの実行ドライバー、lxc-config フラグ、API 項目は削除されました。</p>

<h3 id="古くなったコマンドラインオプション">古くなったコマンドラインオプション</h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.8.0">v1.8.0</a></strong></p>

<p><strong>削除されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.10.0">v1.10.0</a></strong></p>

<p>フラグ <code class="highlighter-rouge">-d</code> と <code class="highlighter-rouge">--daemon</code> は廃止決定となり、<code class="highlighter-rouge">daemon</code> サブコマンドになりました。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker daemon -H ...
</code></pre></div></div>

<p>以下のシングルダッシュ（<code class="highlighter-rouge">-opt</code> のような）形式のコマンドラインオプションは廃止決定となり、ダブルダッシュ（<code class="highlighter-rouge">--opt</code> のような）形式になりました。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker attach -nostdin
docker attach -sig-proxy
docker build -no-cache
docker build -rm
docker commit -author
docker commit -run
docker events -since
docker history -notrunc
docker images -notrunc
docker inspect -format
docker ps -beforeId
docker ps -notrunc
docker ps -sinceId
docker rm -link
docker run -cidfile
docker run -dns
docker run -entrypoint
docker run -expose
docker run -link
docker run -lxc-conf
docker run -n
docker run -privileged
docker run -volumes-from
docker search -notrunc
docker search -stars
docker search -t
docker search -trusted
docker tag -force
</code></pre></div></div>

<p>以下のダブルダッシュによるオプションは廃止決定され、これに代わるものはありません。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run --cpuset
docker run --networking
docker ps --since-id
docker ps --before-id
docker search --trusted
</code></pre></div></div>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.5.0">v1.5.0</a></strong></p>

<p><strong>削除されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.12.0">v1.12.0</a></strong></p>

<p>シングルダッシュ（<code class="highlighter-rouge">-help</code>）は削除されたため、代わりにダブルダッシュの <code class="highlighter-rouge">--help</code> を利用します。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker -help
docker [COMMAND] -help
</code></pre></div></div>

<h3 id="docker-commit-における---run-フラグ"><code class="highlighter-rouge">docker commit</code> における <code class="highlighter-rouge">--run</code> フラグ</h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v0.10.0">v0.10.0</a></strong></p>

<p><strong>削除されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.13.0">v1.13.0</a></strong></p>

<p>docker commit のフラグ <code class="highlighter-rouge">--run</code>（その短い版である <code class="highlighter-rouge">-run</code>）は廃止決定となっています。
代わりに <code class="highlighter-rouge">--changes</code> フラグを利用します。
これは <code class="highlighter-rouge">Dockerfile</code> コマンドに指定することも可能です。</p>

<h3 id="interacting-with-v1-registries">V1 レジストリとのやりとり</h3>

<p><strong>デフォルトで無効とされたリリース: v17.06</strong></p>

<p><strong>削除されたリリース: v17.12</strong></p>

<p>1.8.3 においてフラグ <code class="highlighter-rouge">--disable-legacy-registry=false</code> が追加されました。
これは Docker デーモンが V1 レジストリに対して <code class="highlighter-rouge">pull</code>、<code class="highlighter-rouge">push</code>、<code class="highlighter-rouge">login</code> ができないようにするものです。
デフォルトは有効になっていますが、ゆくゆくは v1 プロトコルを廃止とする意図を示しています。</p>

<p>公開レジストリに対する V1 プロトコルのサポートは、1.13 において削除されました。
V1 を利用したミラー設定は、すべて <a href="/docs.docker.jp.onthefly/registry/recipes/mirror/">v2 レジストリーミラー</a> を利用して更新する必要があります。</p>

<p>Docker 17.12 以降は、V1 レジストリに対するサポートが削除されました。
そして <code class="highlighter-rouge">--disable-legacy-registry</code> フラグは今後利用できません。
これが設定されている場合、<code class="highlighter-rouge">dockerd</code> は処理に失敗します。</p>

<h3 id="オーバーライドデーモンオプション---disable-legacy-registry">オーバーライドデーモンオプション <code class="highlighter-rouge">--disable-legacy-registry</code></h3>

<p><strong>無効化されたリリース: v17.12</strong></p>

<p><strong>削除対象とされたリリース: v18.03</strong></p>

<p><code class="highlighter-rouge">--disable-legacy-registry</code> フラグは Docker 17.12 において無効化されました。
これを用いた場合にはエラー表示されます。
このエラー表示を行うことから、フラグそのものはまだ存在していますが、隠されています。
このフラグは Docker 18.03 において削除される予定です。</p>

<h3 id="docker-content-trust-env-passphrase-variables-name-change">Docker コンテントトラストのパスフレーズ変数の名称変更</h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.9.0">v1.9.0</a></strong></p>

<p><strong>削除されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.12.0">v1.12.0</a></strong></p>

<p>v1.9 以降、Docker コンテントトラストのオフライン鍵はルート鍵に、タギング鍵はリポジトリ鍵にそれぞれ名称変更されています。
この変更にともなって、対応する環境変数も変更されています。</p>

<ul>
  <li>DOCKER_CONTENT_TRUST_OFFLINE_PASSPHRASE は DOCKER_CONTENT_TRUST_ROOT_PASSPHRASE に名称変更されました。</li>
  <li>DOCKER_CONTENT_TRUST_TAGGING_PASSPHRASE は DOCKER_CONTENT_TRUST_REPOSITORY_PASSPHRASE に名称変更されました。</li>
</ul>

<h3 id="dockerd-の---api-enable-cors-フラグ">dockerd の <code class="highlighter-rouge">--api-enable-cors</code> フラグ</h3>

<p><strong>廃止決定されたリリース: <a href="https://github.com/docker/docker/releases/tag/v1.6.0">v1.6.0</a></strong></p>

<p><strong>削除リリース: <a href="https://github.com/docker/docker-ce/releases/tag/v17.09.0-ce">v17.09</a></strong></p>

<p>フラグ <code class="highlighter-rouge">--api-enable-cors</code> は v1.6.0 より廃止決定されていました。
これに代わって、フラグ <code class="highlighter-rouge">--api-cors-header</code> を利用してください。</p>
<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="/docs.docker.jp.onthefly/search/?q=docker">docker</a>, <a href="/docs.docker.jp.onthefly/search/?q=documentation">documentation</a>, <a href="/docs.docker.jp.onthefly/search/?q=about">about</a>, <a href="/docs.docker.jp.onthefly/search/?q=technology">technology</a>, <a href="/docs.docker.jp.onthefly/search/?q=deprecate">deprecate</a></span></section>
                    </main>
                    <nav class="col-nav">
                        <div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
                            <div id="navbar" class="nav-sidebar">
    <ul class="nav jsTOCHorizontal hidden-md hidden-lg"></ul>
    <ul class="nav" id="jsTOCLeftNav"></ul>
</div>

                        </div>
                    </nav>
                    <div class="col-toc">
                        <div class="sidebar hidden-xs hidden-sm">
                            <div class="toc-nav">
                                <div class="feedback-links">
                                    <ul><li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/edit/master/src/engine/deprecated.ch"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> 本ページの編集</a></li><li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/issues/new?body=File: [engine/deprecated.md](https://docs.docker.com/engine/deprecated/)" class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 変更リクエスト</a></li>
                                        <li><div class="toggle-mode">
  <div class="icon">
      <i class="fa fa-sun-o" aria-hidden="true"></i>
  </div>
  <div class="toggle-switch">
      <label class="switch">
          <input type="checkbox" id="switch-style">
          <span class="slider round"></span>
      </label>
  </div>
  <div class="icon">
      <i class="fa fa-moon-o" aria-hidden="true"></i>
  </div>
</div>
</li>
                                    </ul>
                                </div><div id="side-toc-title">本ページ内:</div>
<ul id="my_toc" class="inline_toc">
  <li><a href="#pushing-and-pulling-with-image-manifest-v2-schema-1" class="nomunge">イメージプッシュとプルに関するマニフェスト v2 スキーム 1</a>
    <ul>
      <li><a href="#legacy-overlay-storage-driver" class="nomunge">古い「overlay」ストレージドライバー</a></li>
      <li><a href="#device-mapper-storage-driver" class="nomunge">device mapper ストレージドライバー</a></li>
      <li><a href="#aufs-storage-driver" class="nomunge">AuFS ストレージドライバー</a></li>
      <li><a href="#reserved-namespaces-in-engine-labels" class="nomunge">Engine ラベルでの予約されている名前空間</a></li>
      <li><a href="#service-create-と-service-update-の非同期実行" class="nomunge">service create と service update の非同期実行</a></li>
      <li><a href="#dockerd-における--g-フラグと---graph-フラグ" class="nomunge">dockerd における -g フラグと --graph フラグ</a></li>
      <li><a href="#top-level-network-properties-in-networksettings" class="nomunge">NetworkSettings 配下のトップレベルのネットワークプロパティ</a></li>
      <li><a href="#filter-param-for-imagesjson-endpoint" class="nomunge">エンドポイント /images/json の filter パラメーター</a></li>
      <li><a href="#repositoryshortid-image-references" class="nomunge">repository:shortid によるイメージ参照</a></li>
      <li><a href="#docker-daemon-subcommand" class="nomunge">docker daemon サブコマンド</a></li>
      <li><a href="#duplicate-keys-with-conflicting-values-in-engine-labels" class="nomunge">Engine ラベルでのキー重複による値の衝突</a></li>
      <li><a href="#maintainer-in-dockerfile" class="nomunge">Dockerfile における MAINTAINER</a></li>
      <li><a href="#api-calls-without-a-version" class="nomunge">バージョンを含まない API コール</a></li>
      <li><a href="#backing-filesystem-without-d_type-support-for-overlayoverlay2" class="nomunge">overlay/overlay2 での d_type 未設定時のファイルシステム</a></li>
      <li><a href="#three-arguments-form-in-docker-import" class="nomunge">docker import における 3 種類の引数形式</a></li>
      <li><a href="#--help-の短い形式--h" class="nomunge">--help の短い形式 -h</a></li>
      <li><a href="#docker-login-におけるフラグ--e--email" class="nomunge">docker login におけるフラグ -e、--email</a></li>
      <li><a href="#separator--of---security-opt-flag-on-docker-run" class="nomunge">docker run における --security-opt のセパレーター（:）</a></li>
      <li><a href="#containersid-or-namecopy-endpoint" class="nomunge">エンドポイント /containers/(IDまたは名前)/copy</a></li>
      <li><a href="#ambiguous-event-fields-in-api" class="nomunge">イベント API の不明瞭な項目</a></li>
      <li><a href="#docker-tag-における--f-フラグ" class="nomunge">docker tag における -f フラグ</a></li>
      <li><a href="#hostconfig-at-api-container-start" class="nomunge">API の container start における HostConfig</a></li>
      <li><a href="#docker-ps-におけるフラグ---before--since" class="nomunge">docker ps におけるフラグ --before、--since</a></li>
      <li><a href="#docker-search-におけるフラグ---automated--stars" class="nomunge">docker search におけるフラグ --automated、--stars</a></li>
      <li><a href="#driver-specific-log-tags" class="nomunge">ドライバー固有ログのタグづけ</a></li>
      <li><a href="#lxc-built-in-exec-driver" class="nomunge">LXC ビルトインの実行ドライバー</a></li>
      <li><a href="#古くなったコマンドラインオプション" class="nomunge">古くなったコマンドラインオプション</a></li>
      <li><a href="#docker-commit-における---run-フラグ" class="nomunge">docker commit における --run フラグ</a></li>
      <li><a href="#interacting-with-v1-registries" class="nomunge">V1 レジストリとのやりとり</a></li>
      <li><a href="#オーバーライドデーモンオプション---disable-legacy-registry" class="nomunge">オーバーライドデーモンオプション --disable-legacy-registry</a></li>
      <li><a href="#docker-content-trust-env-passphrase-variables-name-change" class="nomunge">Docker コンテントトラストのパスフレーズ変数の名称変更</a></li>
      <li><a href="#dockerd-の---api-enable-cors-フラグ" class="nomunge">dockerd の --api-enable-cors フラグ</a></li>
    </ul>
  </li>
</ul>

</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer">
          
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/why-docker">なぜ Docker なのか？</a></b></li>
                        <li><a href="https://www.docker.com/what-container">コンテナーって何？</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/overview">製品</a></b></li>
                        <li><a href="https://www.docker.com/products/docker-desktop">Docker Desktop</a></li>
                        <li><a href="https://www.docker.com/products/docker-hub">Docker Hub</a></li>
                        <li><b><a href="https://www.docker.com/products/docker-desktop">機能</a></b></li>
                        <li><a href="https://www.docker.com/products/container-runtime">コンテナーランタイム</a></li>
                        <li><a href="https://www.docker.com/products/developer-tools">開発ツール</a></li>
                        <li><a href="https://www.docker.com/products/kubernetes">Kubernetes</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop">開発者</a></b></li>
                        <li><a href="https://www.docker.com/use-cases">利用例</a></li>
                        <li><a href="https://www.docker.com/play-with-docker">Docker で遊ぶ</a></li>
                        <li><a href="https://www.docker.com/docker-community">コミュニティ</a></li>
                        <li><a href="https://www.docker.com/open-source">オープンソース</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker キャプテン</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/company" target="_blank" rel="noopener">会社</a></b></li>
                        <li><a href="https://www.docker.com/company">概要</a></li>
                        <li><a href="https://www.docker.com/blog/" target="_blank" rel="noopener">ブログ</a></li>
                        <li><a href="https://www.docker.com/customers">顧客</a></li>
                        <li><a href="https://www.docker.com/partners">パートナー</a></li>
                        <li><a href="https://www.docker.com/company/newsroom">ニュースルーム</a></li>
                        <li><a href="https://www.docker.com/careers">採用情報</a></li>
                        <li><a href="https://www.docker.com/company/contact">連絡先</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">ステータス</a></li>
                        <li><a href="https://www.docker.com/docker-security">セキュリティ</a></li>
                        <li><a href="https://www.docker.com/legal">法的情報</a></li>
                        <li><a href="https://www.docker.com/company/contact">連絡</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2013-2020 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-slideshare"><a href="https://www.slideshare.net/docker">Slideshare</a></li>
                    <li class="fa fa-reddit"><a href="https://www.reddit.com/r/docker">Reddit</a></li>
                </ul>
            </div>
        </div>
    </div>

    </footer>
    <script>const pageURL = "/engine/deprecated/";</script></body>
</html>
