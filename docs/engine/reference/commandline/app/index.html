<!DOCTYPE html>
<!-- Page generated 2022-04-29 17:35:28 +0900-->
<html lang="ja"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>docker app | Docker ドキュメント</title>
  <meta name="description" content="docker app: Docker アプリケーションを生成し管理するツールです。" />
  <meta name="keywords" content="docker, docker open source, docker platform, distributed applications, microservices, containers, docker containers, docker software, docker virtualization">
  <link rel="canonical" href="https://localhost:4000{{ site.baseurl }}/engine/reference/commandline/app/" />

  <!-- favicon -->
  <link rel="icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <link rel="apple-touch-icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <meta name="msapplication-TileImage" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico">
  <meta property="og:image" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
  <meta name="theme-color" content="#2496ed" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- hide elements that are only shown without JavaScript enabled -->
  <script>document.documentElement.classList.add('js')</script>
  <style>html.js .no-js { display: none !important; }</style><script defer src="/docs.docker.jp.onthefly/js/theme-switcher.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/anchorlinks.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/jquery.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/docs.js"></script><script defer src="/docs.docker.jp.onthefly/js/search.js"></script><link rel="preload" as="font" href="https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0bf8pkAg.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/geomanist/hinted-Geomanist-Book.woff2"    type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/geomanist/hinted-Geomanist-Regular.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/glyphicons-halflings-regular.woff2"       type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/fontawesome-webfont.woff2?v=4.7.0"        type="font/woff2" crossorigin="anonymous">

  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/font-awesome.min.css">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/bootstrap.min.css">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/style.css" id="pagestyle">

  <!-- SEO stuff -->
  <meta name="twitter:title" itemprop="title name" content="docker app"/>
  <meta name="twitter:description" property="og:description" itemprop="description" content="docker app: Docker アプリケーションを生成し管理するツールです。" />
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:domain" content="matsuand.github.io"/>
  <meta name="twitter:site" content="@docker_docs"/>
  <meta name="twitter:url" content="https://twitter.com/docker_docs"/>
  <meta name="twitter:image:src" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta name="twitter:image:alt" content="Docker ドキュメント"/>
  <meta property="og:title" content="docker app" />
  <meta property="og:description" content="docker app: Docker アプリケーションを生成し管理するツールです。" />
  <meta property="og:type" content="website"/>
  <meta property="og:updated_time" itemprop="dateUpdated" content="2022-04-29T17:35:28+09:00"/>
  <meta property="og:image" itemprop="image primaryImageOfPage" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta property="og:locale" content="ja_JP" />
  <meta property="og:url" content="https://matsuand.github.io/docs.docker.jp.onthefly/engine/reference/commandline/app/" />
  <meta property="og:site_name" content="Docker ドキュメント" />
  <meta property="article:published_time" itemprop="datePublished" content="2022-04-29T17:35:28+09:00"/>
  <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebPage","headline":"docker app","description":"docker app: Docker アプリケーションを生成し管理するツールです。","url":"https://docs.docker.com/engine/reference/commandline/app/"}</script>
  <!-- END SEO STUFF -->
</head>
<body class="colums">
    <header>
        <nav class="nav-secondary navbar navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="/docs.docker.jp.onthefly/">
                <img class="logo" src="/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs" width="160" height="28" />
            </a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="logo-mobile">
    <a href="/docs.docker.jp.onthefly/">
        <img src="/docs.docker.jp.onthefly/images/docker-icon.svg" alt="Docker Docs" title="Docker Docs" width="30" height="30" />
    </a>
</div>
<div class="search-form" id="search-div">
    <form class="search-form form-inline" id="searchForm" action="/docs.docker.jp.onthefly/search/" method="get">
        <label for="st-search-input" class="sr-only">検索</label>
        <input class="search-field form-control ds-input" id="st-search-input" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteResults"></div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container hidden-sm hidden-xs">
    <div>
        <ul class="nav navbar-nav"><li><a href="/docs.docker.jp.onthefly/" id="home">ホーム</a></li><li><a href="/docs.docker.jp.onthefly/get-started/overview/" id="guides">ガイド</a></li><li><a href="/docs.docker.jp.onthefly/desktop/" id="manuals">マニュアル</a></li><li><a href="/docs.docker.jp.onthefly/reference/" id="reference">リファレンス</a></li><li><a href="/docs.docker.jp.onthefly/samples/" id="samples">サンプル</a></li></ul>
    </div>
    <div class="ctrl-right">
        <a href="javascript:void(0)" id="menu-toggle" aria-label="現在ページのメニュートグル"><i class="fa fa-indent" aria-hidden="true"></i></a>
    </div>
</div>
<div class="row hidden-sm hidden-xs">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li><a href="/docs.docker.jp.onthefly/" title="Docker docs ホームページ"><i class="fa fa-home"></i></a></li>
            <li><a href="/docs.docker.jp.onthefly/reference/">リファレンス</a></li><li><a>コマンドラインインターフェイス</a></li><li><a href="/docs.docker.jp.onthefly/engine/reference/run/">Docker CLI (docker)</a></li><li><a href="/docs.docker.jp.onthefly/engine/reference/commandline/app/">docker app</a></li><li><a href="/docs.docker.jp.onthefly/engine/reference/commandline/app/">docker app</a></li></ol>
    </nav>
</div></div>
    </div>
</nav>

    </header>
    <div class="wrapper right-open">
        <div class="container-fluid">
            <div class="row">
                <div class="col-body">
                    <main class="col-content content">
                        <section class="section"><h1>docker app</h1><p><em class="reading-time">読む時間の目安: 13 分</em></p><!--
This page is automatically generated from Docker's source code. If you want to
suggest a change to the text that appears here, open a ticket or pull request
in the source repository on GitHub:

https://github.com/docker/app
-->
<!-- Make sure atom is using hard tabs -->

<h2 id="description">説明</h2>

<p>Docker アプリケーション。</p>

<blockquote class="warning">
  <p>This command is <a href="/docs.docker.jp.onthefly/engine/deprecated/" target="_blank" rel="noopener" class="_">deprecated</a>.</p>

  <p>It may be removed in a future Docker version. For more information, see the <a href="https://github.com/docker/roadmap/issues/209" target="_blank" rel="noopener" class="_">Docker Roadmap</a>.</p>
</blockquote>

<h2 id="extended-description">追加説明</h2>

<p>Docker アプリケーションを生成し管理するツールです。</p>

<p><!-- end if options --></p>

<h2 id="parent-command">上位コマンド</h2>

<table>
  <thead>
    <tr>
      <th>コマンド</th>
      <th>説明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="/docs.docker.jp.onthefly/engine/reference/commandline/docker/">docker</a></td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="child-commands">下位コマンド</h2>

<table>
<thead>
  <tr>
    <td>コマンド</td>
    <td>説明</td>
  </tr>
</thead>
<tbody>

  
  <tr>
    <td><a href="/docs.docker.jp.onthefly/engine/reference/commandline/app_bundle/">docker app bundle</a></td>
    <td>アプリケーションに対する CNAB 呼び出しイメージと <code class="highlighter-rouge">bundle.json</code> を生成します。</td>
  </tr>

  
  <tr>
    <td><a href="/docs.docker.jp.onthefly/engine/reference/commandline/app_completion/">docker app completion</a></td>
    <td>指定されたシェル（bash あたは zsh）に対するコマンド補完スクリプトを生成します。</td>
  </tr>

  
  <tr>
    <td><a href="/docs.docker.jp.onthefly/engine/reference/commandline/app_init/">docker app init</a></td>
    <td>Docker アプリケーション定義の初期化を行います。</td>
  </tr>

  
  <tr>
    <td><a href="/docs.docker.jp.onthefly/engine/reference/commandline/app_inspect/">docker app inspect</a></td>
    <td>指定アプリケーションに対して、メタデータ、パラメーター、Compose ファイルの概要を表示します。</td>
  </tr>

  
  <tr>
    <td><a href="/docs.docker.jp.onthefly/engine/reference/commandline/app_install/">docker app install</a></td>
    <td>アプリケーションをインストールします。</td>
  </tr>

  
  <tr>
    <td><a href="/docs.docker.jp.onthefly/engine/reference/commandline/app_list/">docker app list</a></td>
    <td>インストールの一覧および最終インストール結果を表示します。</td>
  </tr>

  
  <tr>
    <td><a href="/docs.docker.jp.onthefly/engine/reference/commandline/app_pull/">docker app pull</a></td>
    <td>レジストリからアプリケーションパッケージをプルします。</td>
  </tr>

  
  <tr>
    <td><a href="/docs.docker.jp.onthefly/engine/reference/commandline/app_push/">docker app push</a></td>
    <td>アプリケーションパッケージをレジストリにプッシュします。</td>
  </tr>

  
  <tr>
    <td><a href="/docs.docker.jp.onthefly/engine/reference/commandline/app_render/">docker app render</a></td>
    <td>アプリケーションパッケージ用として Compose ファイルを指定します。</td>
  </tr>

  
  <tr>
    <td><a href="/docs.docker.jp.onthefly/engine/reference/commandline/app_status/">docker app status</a></td>
    <td>アプリケーションのインストール状態を取得します。</td>
  </tr>

  
  <tr>
    <td><a href="/docs.docker.jp.onthefly/engine/reference/commandline/app_uninstall/">docker app uninstall</a></td>
    <td>アプリケーションをアンインストールします。</td>
  </tr>

  
  <tr>
    <td><a href="/docs.docker.jp.onthefly/engine/reference/commandline/app_upgrade/">docker app upgrade</a></td>
    <td>インストールされたアプリケーションをアップグレードします。</td>
  </tr>

  
  <tr>
    <td><a href="/docs.docker.jp.onthefly/engine/reference/commandline/app_validate/">docker app validate</a></td>
    <td>指定されたアプリケーションが文法的に正しいかどうかをチェックします。</td>
  </tr>

  
  <tr>
    <td><a href="/docs.docker.jp.onthefly/engine/reference/commandline/app_version/">docker app version</a></td>
    <td>バージョン情報を表示します。</td>
  </tr>

</tbody>
</table>

<h2 id="overview">Overview</h2>

<p>Docker App is a CLI plug-in that introduces a top-level <code class="highlighter-rouge">docker app</code> command to bring
the <em>container experience</em> to applications. The following table compares Docker containers with Docker applications.</p>

<table>
  <thead>
    <tr>
      <th>Object</th>
      <th>Config file</th>
      <th>Build with</th>
      <th>Execute with</th>
      <th>Share with</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Container</td>
      <td>Dockerfile</td>
      <td>docker image build</td>
      <td>docker container run</td>
      <td>docker image push</td>
    </tr>
    <tr>
      <td>App</td>
      <td>App Package</td>
      <td>docker app bundle</td>
      <td>docker app install</td>
      <td>docker app push</td>
    </tr>
  </tbody>
</table>

<p>With Docker App, entire applications can now be managed as easily as images and containers. For example,
Docker App lets you  <em>build</em>, <em>validate</em> and <em>deploy</em> applications with the <code class="highlighter-rouge">docker app</code> command. You can
even leverage secure supply-chain features such as signed <code class="highlighter-rouge">push</code> and <code class="highlighter-rouge">pull</code> operations.</p>

<blockquote>
  <p><strong>NOTE</strong>: <code class="highlighter-rouge">docker app</code> works with <code class="highlighter-rouge">Docker 19.03</code> or higher.</p>
</blockquote>

<p>This guide walks you through two scenarios:</p>

<ol>
  <li>Initialize and deploy a new Docker App project from scratch.</li>
  <li>Convert an existing Compose app into a Docker App project (added later in the beta process).</li>
</ol>

<p>The first scenario describes basic components of a Docker App with tools and workflow.</p>

<h2 id="initialize-and-deploy-a-new-docker-app-project-from-scratch">Initialize and deploy a new Docker App project from scratch</h2>

<p>This section describes the steps for creating a new Docker App project to familiarize you with the workflow and most important commands.</p>

<ol>
  <li>Prerequisites</li>
  <li>Initialize an empty new project</li>
  <li>Populate the project</li>
  <li>Validate the app</li>
  <li>Deploy the app</li>
  <li>Push the app to Docker Hub</li>
  <li>Install the app directly from Docker Hub</li>
</ol>

<h3 id="prerequisites">Prerequisites</h3>

<p>You need at least one Docker node operating in Swarm mode. You also need the latest build of the Docker CLI
with the App CLI plugin included.</p>

<p>Depending on your Linux distribution and your security context, you might need to prepend commands with <code class="highlighter-rouge">sudo</code>.</p>

<h3 id="initialize-a-new-empty-project">Initialize a new empty project</h3>

<p>The <code class="highlighter-rouge">docker app init</code> command is used to initialize a new Docker application project. If you run it on
its own, it initializes a new empty project. If you point it to an existing <code class="highlighter-rouge">docker-compose.yml</code> file,
it initializes a new project based on the Compose file.</p>

<p>Use the following command to initialize a new empty project called “hello-world”.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker app init hello-world
<span class="go">Created "hello-world.dockerapp"
</span></code></pre></div></div>

<p>The command produces a new directory containing three YAML files. The name of the directory is the name of the
project with <code class="highlighter-rouge">.dockerapp</code> appended, and the three YAML files are:</p>

<ul>
  <li><code class="highlighter-rouge">docker-compose.yml</code></li>
  <li><code class="highlighter-rouge">metadata.yml</code></li>
  <li><code class="highlighter-rouge">parameters.yml</code></li>
</ul>

<p>Inspect the YAML files with the following commands.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> <span class="nb">cd </span>hello-world.dockerapp/
<span class="go">
</span><span class="gp">$</span> <span class="nb">cat </span>docker-compose.yml
<span class="go">version: "3.6"
services: {}

</span><span class="gp">$</span> <span class="nb">cat </span>metadata.yml
<span class="go">version: 0.1.0
name: hello-world
description:

</span><span class="gp">$</span> <span class="nb">cat </span>parameters.yml
<span class="go">
</span></code></pre></div></div>

<p>Your files might be more verbose.</p>

<p>Let’s quickly describe each file.</p>

<p><code class="highlighter-rouge">docker-compose.yml</code> describes the application.</p>

<p><code class="highlighter-rouge">metadata.yml</code> specifies identification metadata such as name, version, description and maintainers. It accepts
key-value pairs.</p>

<p><code class="highlighter-rouge">parameters.yml</code> specifies default values for application parameters.</p>

<h3 id="populate-the-project">Populate the project</h3>

<p>This section describes editing the project YAML files so that it runs a simple web app.</p>

<p>Use your preferred editor to edit the <code class="highlighter-rouge">docker-compose.yml</code> YAML file and update it with
the following information:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">version</span><span class="pi">:</span> <span class="s2">"</span><span class="s">3.6"</span>
<span class="na">services</span><span class="pi">:</span>
  <span class="na">hello</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">hashicorp/http-echo</span>
    <span class="na">command</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">-text"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">${hello.text}"</span><span class="pi">]</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">${hello.port}:5678"</span>
</code></pre></div></div>

<p>Update the <code class="highlighter-rouge">parameters.yml</code> file to the following:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">hello</span><span class="pi">:</span>
  <span class="na">port</span><span class="pi">:</span> <span class="s">8080</span>
  <span class="na">text</span><span class="pi">:</span> <span class="s">Hello world!</span>
</code></pre></div></div>

<p>Save the changes.</p>

<p>The application is updated to run a single-container application based on the <code class="highlighter-rouge">hashicorp/http-echo</code> web server image.
This image has it execute a single command that displays some text and exposes itself on a network port.</p>

<p>Following best practices, the configuration of the application is decoupled from the application itself using variables.
In this case, the text displayed by the app and the port on which it will be published are controlled by two variables defined in the <code class="highlighter-rouge">Parameters</code> section of the file.</p>

<p>Docker App provides the <code class="highlighter-rouge">inspect</code> subcommand to provide a prettified summary of the application configuration.
It is a quick way to check how to configure the application before deployment, without having to read
the <code class="highlighter-rouge">Compose file</code>. It’s important to note that the application is not running at this point, and that
the <code class="highlighter-rouge">inspect</code> operation inspects the configuration file(s).</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker app inspect hello-world.dockerapp
<span class="go">hello-world 0.1.0

Service (1) Replicas Ports Image
----------- -------- ----- -----
hello       1        8080  hashicorp/http-echo

Parameters (2) Value
-------------- -----
hello.port     8080
hello.text     Hello world!
</span></code></pre></div></div>

<p><code class="highlighter-rouge">docker app inspect</code> operations fail if the <code class="highlighter-rouge">Parameters</code> section doesn’t specify a default value for
every parameter expressed in the app section.</p>

<p>The application is ready to be validated and rendered.</p>

<h3 id="validate-the-app">Validate the app</h3>

<p>Docker App provides the <code class="highlighter-rouge">validate</code> subcommand to check syntax and other aspects of the configuration.
If the app passes validation, the command returns no arguments.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker app validate hello-world.dockerapp
<span class="go">Validated "hello-world.dockerapp"
</span></code></pre></div></div>

<p><code class="highlighter-rouge">docker app validate</code> operations fail if the <code class="highlighter-rouge">Parameters</code> section doesn’t specify a default value for
every parameter expressed in the app section.</p>

<p>As the <code class="highlighter-rouge">validate</code> operation has returned no problems, the app is ready to be deployed.</p>

<h3 id="deploy-the-app">Deploy the app</h3>

<p>There are several options for deploying a Docker App project.</p>

<ul>
  <li>Deploy as a native Docker App application</li>
  <li>Deploy as a Compose app application</li>
  <li>Deploy as a Docker Stack application</li>
</ul>

<p>All three options are discussed, starting with deploying as a native Docker App application.</p>

<h4 id="deploy-as-a-native-docker-app">Deploy as a native Docker App</h4>

<p>The process for deploying as a native Docker app is as follows:</p>

<p>Use <code class="highlighter-rouge">docker app install</code> to deploy the application.</p>

<p>Use the following command to deploy (install) the application.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker app install hello-world.dockerapp <span class="nt">--name</span> my-app
<span class="go">Creating network my-app_default
Creating service my-app_hello
Application "my-app" installed on context "default"
</span></code></pre></div></div>

<p>By default, <code class="highlighter-rouge">docker app</code> uses the <a href="/engine/context/working-with-contexts">current context</a> to run the
installation container and as a target context to deploy the application. You can override the second context
using the flag <code class="highlighter-rouge">--target-context</code> or by using the environment variable <code class="highlighter-rouge">DOCKER_TARGET_CONTEXT</code>. This flag is also
available for the commands <code class="highlighter-rouge">status</code>, <code class="highlighter-rouge">upgrade</code>, and <code class="highlighter-rouge">uninstall</code>.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker app install hello-world.dockerapp <span class="nt">--name</span> my-app <span class="nt">--target-context</span><span class="o">=</span>my-big-production-cluster
<span class="go">Creating network my-app_default
Creating service my-app_hello
Application "my-app" installed on context "my-big-production-cluster"
</span></code></pre></div></div>

<blockquote>
  <p><strong>Note</strong>: Two applications deployed on the same target context cannot share the same name, but this is
valid if they are deployed on different target contexts.</p>
</blockquote>

<p>You can check the status of the app with the <code class="highlighter-rouge">docker app status &lt;app-name&gt;</code> command.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker app status my-app
<span class="go">INSTALLATION
------------
Name:         my-app
Created:      35 seconds
Modified:     31 seconds
Revision:     01DCMY7MWW67AY03B029QATXFF
Last Action:  install
Result:       SUCCESS
Orchestrator: swarm

APPLICATION
-----------
Name:      hello-world
Version:   0.1.0
Reference:

PARAMETERS
----------
hello.port: 8080
hello.text: Hello, World!

STATUS
------
ID              NAME            MODE          REPLICAS    IMAGE             PORTS
</span><span class="gp">miqdk1v7j3zk    my-app_hello    replicated    1/1         hashicorp/http-echo:latest   *:8080-&gt;</span>5678/tcp
</code></pre></div></div>

<p>The app is deployed using the stack orchestrator. This means you can also inspect it using the regular <code class="highlighter-rouge">docker stack</code> commands.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker stack <span class="nb">ls</span>
<span class="go">NAME                SERVICES            ORCHESTRATOR
my-app              1                   Swarm
</span></code></pre></div></div>

<p>Now that the app is running, you can point a web browser at the DNS name or public IP of the Docker node on
port 8080 and see the app. You must ensure traffic to port 8080 is allowed on
the connection from your browser to your Docker host.</p>

<p>Now change the port of the application using <code class="highlighter-rouge">docker app upgrade &lt;app-name&gt;</code> command.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker app upgrade my-app <span class="nt">--set</span> hello.port<span class="o">=</span>8181
<span class="go">Upgrading service my-app_hello
Application "my-app" upgraded on context "default"
</span></code></pre></div></div>

<p>You can uninstall the app with <code class="highlighter-rouge">docker app uninstall my-app</code>.</p>

<h4 id="deploy-as-a-docker-compose-app">Deploy as a Docker Compose app</h4>

<p>The process for deploying as a Compose app comprises two major steps:</p>

<ol>
  <li>Render the Docker app project as a <code class="highlighter-rouge">docker-compose.yml</code> file.</li>
  <li>Deploy the app using <code class="highlighter-rouge">docker-compose up</code>.</li>
</ol>

<p>You need a recent version of Docker Compose to complete these steps.</p>

<p>Rendering is the process of reading the entire application configuration and outputting it as a single <code class="highlighter-rouge">docker-compose.yml</code> file. This creates a Compose file with hard-coded values wherever a parameter was specified as a variable.</p>

<p>Use the following command to render the app to a Compose file called <code class="highlighter-rouge">docker-compose.yml</code> in the current directory.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker app render <span class="nt">--output</span> docker-compose.yml hello-world.dockerapp
</code></pre></div></div>

<p>Check the contents of the resulting <code class="highlighter-rouge">docker-compose.yml</code> file.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> <span class="nb">cat </span>docker-compose.yml
<span class="go">version: "3.6"
services:
  hello:
    command:
    - -text
    - Hello world!
    image: hashicorp/http-echo
    ports:
    - mode: ingress
      target: 5678
      published: 8080
      protocol: tcp
</span></code></pre></div></div>

<p>Notice that the file contains hard-coded values that were expanded based on the contents of the <code class="highlighter-rouge">Parameters</code>
section of the project’s YAML file. For example, <code class="highlighter-rouge">${hello.text}</code> has been expanded to “Hello world!”.</p>

<blockquote>
  <p><strong>Note</strong>: Almost all the <code class="highlighter-rouge">docker app</code> commands propose the <code class="highlighter-rouge">--set key=value</code> flag to override a default parameter.</p>
</blockquote>

<p>Try to render the application with a different text:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker app render hello-world.dockerapp <span class="nt">--set</span> hello.text<span class="o">=</span><span class="s2">"Hello whales!"</span>
<span class="go">version: "3.6"
services:
  hello:
    command:
    - -text
    - Hello whales!
    image: hashicorp/http-echo
    ports:
    - mode: ingress
      target: 5678
      published: 8080
      protocol: tcp
</span></code></pre></div></div>

<p>Use <code class="highlighter-rouge">docker-compose up</code> to deploy the app.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker-compose up <span class="nt">--detach</span>
<span class="go">WARNING: The Docker Engine you're using is running in swarm mode.
</span><span class="gp">&lt;Snip&gt;</span>
</code></pre></div></div>

<p>The application is now running as a Docker Compose app and should be reachable on port <code class="highlighter-rouge">8080</code> on your Docker host.
You must ensure traffic to port <code class="highlighter-rouge">8080</code> is allowed on the connection form your browser to your Docker host.</p>

<p>You can use <code class="highlighter-rouge">docker-compose down</code> to stop and remove the application.</p>

<h4 id="deploy-as-a-docker-stack">Deploy as a Docker Stack</h4>

<p>Deploying the app as a Docker stack is a two-step process very similar to deploying it as a Docker Compose app.</p>

<ol>
  <li>Render the Docker app project as a <code class="highlighter-rouge">docker-compose.yml</code> file.</li>
  <li>Deploy the app using <code class="highlighter-rouge">docker stack deploy</code>.</li>
</ol>

<p>Complete the steps in the previous section to render the Docker app project as a Compose file and make sure
you’re ready to deploy it as a Docker Stack. Your Docker host must be in Swarm mode.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker stack deploy hello-world-app <span class="nt">-c</span> docker-compose.yml
<span class="go">Creating network hello-world-app_default
Creating service hello-world-app_hello
</span></code></pre></div></div>

<p>The app is now deployed as a Docker stack and can be reached on port <code class="highlighter-rouge">8080</code> on your Docker host.</p>

<p>Use the <code class="highlighter-rouge">docker stack rm hello-world-app</code> command to stop and remove the stack. You must ensure traffic to
port <code class="highlighter-rouge">8080</code> is allowed on the connection form your browser to your Docker host.</p>

<h3 id="push-the-app-to-docker-hub">Push the app to Docker Hub</h3>

<p>As mentioned in the introduction, <code class="highlighter-rouge">docker app</code> lets you manage entire
applications the same way that you currently manage container images. For
example, you can push and pull entire applications from registries like Docker
Hub with <code class="highlighter-rouge">docker app push</code> and <code class="highlighter-rouge">docker app pull</code>. Other <code class="highlighter-rouge">docker app</code> commands,
such as <code class="highlighter-rouge">install</code>, <code class="highlighter-rouge">upgrade</code>, <code class="highlighter-rouge">inspect</code>, and <code class="highlighter-rouge">render</code> can be performed directly
on applications while they are stored in a registry.</p>

<p>Push the application to Docker Hub. To complete this step, you need a valid
Docker ID and you must be logged in to the registry to which you are pushing
the app.</p>

<p>By default, all platform architectures are pushed to the registry. If you are
pushing an official Docker image as part of your app, you may find your app
bundle becomes large with all image architectures embedded. To just push the
architecture required, you can add the <code class="highlighter-rouge">--platform</code> flag.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker login
<span class="go">
</span><span class="gp">$</span> docker app push my-app <span class="nt">--platform</span><span class="o">=</span><span class="s2">"linux/amd64"</span> <span class="nt">--tag</span> &lt;hub-id&gt;/&lt;repo&gt;:0.1.0
</code></pre></div></div>

<h3 id="install-the-app-directly-from-docker-hub">Install the app directly from Docker Hub</h3>

<p>Now that the app is pushed to the registry, try an <code class="highlighter-rouge">inspect</code> and <code class="highlighter-rouge">install</code> command against it.
The location of your app is different from the one provided in the examples.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker app inspect myuser/hello-world:0.1.0
<span class="go">hello-world 0.1.0

Service (1) Replicas Ports Image
----------- -------- ----- -----
hello       1        8080  myuser/hello-world@sha256:ba27d460cd1f22a1a4331bdf74f4fccbc025552357e8a3249c40ae216275de96

Parameters (2) Value
-------------- -----
hello.port     8080
hello.text     Hello world!
</span></code></pre></div></div>

<p>This action was performed directly against the app in the registry.</p>

<p>Now install it as a native Docker App by referencing the app in the registry, with a different port.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker app install myuser/hello-world:0.1.0 <span class="nt">--set</span> hello.port<span class="o">=</span>8181
<span class="go">Creating network hello-world_default
Creating service hello-world_hello
Application "hello-world" installed on context "default"
</span></code></pre></div></div>

<p>Test that the app is working.</p>

<p>The app used in these examples is a simple web server that displays the text “Hello world!” on port 8181,
your app might be different.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> curl http://localhost:8181
<span class="go">Hello world!
</span></code></pre></div></div>

<p>Uninstall the app.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker app uninstall hello-world
<span class="go">Removing service hello-world_hello
Removing network hello-world_default
Application "hello-world" uninstalled on context "default"
</span></code></pre></div></div>

<p>You can see the name of your Docker App with the <code class="highlighter-rouge">docker stack ls</code> command.</p>
<div class="ratings-div"><div id="pd_rating_holder_8453675"></div></div></section>
                    </main>
                    <nav class="col-nav">
                        <div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
                            <div id="navbar" class="nav-sidebar">
                                <ul class="nav hidden-md hidden-lg"></ul>
                                <ul class="nav" id="jsTOCLeftNav"></ul>
                            </div>
                        </div>
                    </nav>
                    <div class="col-toc">
                        <div class="sidebar hidden-xs hidden-sm">
                            <div class="toc-nav">
                                <div class="feedback-links">
                                    <ul><li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/edit/master/src/engine/reference/commandline/app.ch"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> 本ページの編集</a></li><li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/issues/new?body=File: [engine/reference/commandline/app.ch](https://matsuand.github.io/docs.docker.jp.onthefly/engine/reference/commandline/app/)" class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 変更リクエスト</a></li>
                                        <li><div class="toggle-mode">
  <div class="icon">
      <i class="fa fa-sun-o" aria-hidden="true"></i>
  </div>
  <div class="toggle-switch">
      <label class="switch">
          <input type="checkbox" id="switch-style">
          <span class="slider round"></span>
      </label>
  </div>
  <div class="icon">
      <i class="fa fa-moon-o" aria-hidden="true"></i>
  </div>
</div>
</li>
                                    </ul>
                                </div><div id="side-toc-title">本ページ内:</div>
<ul id="my_toc" class="inline_toc">
  <li><a href="#description" class="nomunge">説明</a></li>
  <li><a href="#extended-description" class="nomunge">追加説明</a></li>
  <li><a href="#parent-command" class="nomunge">上位コマンド</a></li>
  <li><a href="#child-commands" class="nomunge">下位コマンド</a></li>
  <li><a href="#overview" class="nomunge">Overview</a></li>
  <li><a href="#initialize-and-deploy-a-new-docker-app-project-from-scratch" class="nomunge">Initialize and deploy a new Docker App project from scratch</a>
    <ul>
      <li><a href="#prerequisites" class="nomunge">Prerequisites</a></li>
      <li><a href="#initialize-a-new-empty-project" class="nomunge">Initialize a new empty project</a></li>
      <li><a href="#populate-the-project" class="nomunge">Populate the project</a></li>
      <li><a href="#validate-the-app" class="nomunge">Validate the app</a></li>
      <li><a href="#deploy-the-app" class="nomunge">Deploy the app</a></li>
      <li><a href="#push-the-app-to-docker-hub" class="nomunge">Push the app to Docker Hub</a></li>
      <li><a href="#install-the-app-directly-from-docker-hub" class="nomunge">Install the app directly from Docker Hub</a></li>
    </ul>
  </li>
</ul>

</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer">
          
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products" target="_blank" rel="noopener">製品ラインアップ</a></b></li>
                        <li><a href="https://www.docker.com/products/personal" target="_blank" rel="noopener">Docker Personal</a></li>
                        <li><a href="https://www.docker.com/products/pro" target="_blank" rel="noopener">Docker Pro</a></li>
                        <li><a href="https://www.docker.com/products/team" target="_blank" rel="noopener">Docker Team</a></li>
                        <li><a href="https://www.docker.com/products/business" target="_blank" rel="noopener">Docker Business</a></li>
                        <li><a href="https://www.docker.com/products" target="_blank" rel="noopener">サブスクリプション比較</a></li>
                        <li><b><a href="https://www.docker.com/" target="_blank" rel="noopener">機能</a></b></li>
                        <li><a href="https://www.docker.com/products/docker-desktop" target="_blank" rel="noopener">Docker Desktop</a></li>
                        <li><a href="https://www.docker.com/products/docker-hub" target="_blank" rel="noopener">Docker Hub</a></li>
                        <li><a href="https://www.docker.com/products/secure-software-supply-chain" target="_blank" rel="noopener">セキュアなソフトウェアサプライチェーン</a></li>
                        <li><a href="https://www.docker.com/products/container-runtime" target="_blank" rel="noopener">コンテナーランタイム</a></li>
                        <li><a href="https://www.docker.com/products/developer-tools" target="_blank" rel="noopener">開発ツール</a></li>
                        <li><a href="https://www.docker.com/partners" target="_blank" rel="noopener">信頼できるコンテント</a></li>
                        <li><a href="https://www.docker.com/roadmap" target="_blank" rel="noopener">Docker 製品ロードマップ</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop" target="_blank" rel="noopener">開発者</a></b></li>
                        <li><a href="https://www.docker.com/use-cases" target="_blank" rel="noopener">利用例</a></li>
                        <li><a href="https://docs.docker.com/get-started/" target="_blank" rel="noopener">はじめよう</a></li>
                        <li><a href="https://www.docker.com/blog/" target="_blank" rel="noopener">ブログ</a></li>
                        <li><a href="https://www.docker.com/docker-community" target="_blank" rel="noopener">コミュニティー</a></li>
                        <li><a href="https://www.docker.com/open-source" target="_blank" rel="noopener">オープンソース</a></li>
                        <li><a href="https://www.docker.com/community/get-involved/developer-preview" target="_blank" rel="noopener">プレビュープログラム</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop" target="_blank" rel="noopener">価格体系</a></b></li>
                        <li><a href="https://www.docker.com/pricing/faq" target="_blank" rel="noopener">FAQ</a></li>
                        <li><a href="https://www.docker.com/partners/programs" target="_blank" rel="noopener">Docker 認定公開者向けプログラム</a></li>
                        <li><a href="https://www.docker.com/partners" target="_blank" rel="noopener">パートナー</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/company" target="_blank" rel="noopener">会社概要</a></b></li>
                        <li><a href="https://www.docker.com/what-container" target="_blank" rel="noopener">コンテナーって何？</a></li>
                        <li><a href="https://www.docker.com/why-docker" target="_blank" rel="noopener">なぜ Docker？</a></li>
                        <li><a href="https://www.docker.com/events" target="_blank" rel="noopener">仮想イベント</a></li>
                        <li><a href="https://www.docker.com/swag" target="_blank" rel="noopener">Swag ストア
                        </a></li>
                        <li><a href="https://www.docker.com/company/newsroom" target="_blank" rel="noopener">ニュースルーム</a></li>
                        <li><a href="https://www.docker.com/careers" target="_blank" rel="noopener">採用情報</a></li>
                        <li><a href="https://www.docker.com/company/contact" target="_blank" rel="noopener">連絡先</a></li>
                        <li><a href="https://www.docker.com/customers" target="_blank" rel="noopener">顧客</a></li>
                        <li><a href="https://www.docker.com/newsletter-subscription" target="_blank" rel="noopener">ニュースレター</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="https://www.docker.com/legal/docker-terms-service" target="_blank" rel="noopener">サービス契約</a></li>
                        <li><a href="https://status.docker.com/" target="_blank" rel="noopener">ステータス</a></li>
                        <li><a href="https://www.docker.com/legal" target="_blank" rel="noopener">法的情報</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2013-2021 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="https://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="https://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-slideshare"><a href="https://www.slideshare.net/docker">Slideshare</a></li>
                    <li class="fa fa-reddit"><a href="https://www.reddit.com/r/docker">Reddit</a></li>
                </ul>
            </div>
        </div>
    </div>

    </footer>
    <script>const pageURL = "/engine/reference/commandline/app/";</script></body>
</html>
